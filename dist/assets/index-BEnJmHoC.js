function Qy(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var LE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Xy(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var sm={exports:{}},hl={},im={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fa=Symbol.for("react.element"),Zy=Symbol.for("react.portal"),ex=Symbol.for("react.fragment"),tx=Symbol.for("react.strict_mode"),rx=Symbol.for("react.profiler"),nx=Symbol.for("react.provider"),sx=Symbol.for("react.context"),ix=Symbol.for("react.forward_ref"),ax=Symbol.for("react.suspense"),ox=Symbol.for("react.memo"),lx=Symbol.for("react.lazy"),bh=Symbol.iterator;function cx(t){return t===null||typeof t!="object"?null:(t=bh&&t[bh]||t["@@iterator"],typeof t=="function"?t:null)}var am={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},om=Object.assign,lm={};function zs(t,e,r){this.props=t,this.context=e,this.refs=lm,this.updater=r||am}zs.prototype.isReactComponent={};zs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cm(){}cm.prototype=zs.prototype;function rd(t,e,r){this.props=t,this.context=e,this.refs=lm,this.updater=r||am}var nd=rd.prototype=new cm;nd.constructor=rd;om(nd,zs.prototype);nd.isPureReactComponent=!0;var jh=Array.isArray,um=Object.prototype.hasOwnProperty,sd={current:null},dm={key:!0,ref:!0,__self:!0,__source:!0};function hm(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)um.call(e,n)&&!dm.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:fa,type:t,key:i,ref:a,props:s,_owner:sd.current}}function ux(t,e){return{$$typeof:fa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function id(t){return typeof t=="object"&&t!==null&&t.$$typeof===fa}function dx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var _h=/\/+/g;function ql(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dx(""+t.key):e.toString(36)}function co(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case fa:case Zy:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+ql(a,0):n,jh(s)?(r="",t!=null&&(r=t.replace(_h,"$&/")+"/"),co(s,e,r,"",function(u){return u})):s!=null&&(id(s)&&(s=ux(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(_h,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",jh(t))for(var l=0;l<t.length;l++){i=t[l];var c=n+ql(i,l);a+=co(i,e,r,c,s)}else if(c=cx(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=n+ql(i,l++),a+=co(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Ta(t,e,r){if(t==null)return t;var n=[],s=0;return co(t,n,"","",function(i){return e.call(r,i,s++)}),n}function hx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ht={current:null},uo={transition:null},fx={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:uo,ReactCurrentOwner:sd};function fm(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:Ta,forEach:function(t,e,r){Ta(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ta(t,function(){e++}),e},toArray:function(t){return Ta(t,function(e){return e})||[]},only:function(t){if(!id(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=zs;fe.Fragment=ex;fe.Profiler=rx;fe.PureComponent=rd;fe.StrictMode=tx;fe.Suspense=ax;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fx;fe.act=fm;fe.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=om({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=sd.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)um.call(e,c)&&!dm.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:fa,type:t.type,key:s,ref:i,props:n,_owner:a}};fe.createContext=function(t){return t={$$typeof:sx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:nx,_context:t},t.Consumer=t};fe.createElement=hm;fe.createFactory=function(t){var e=hm.bind(null,t);return e.type=t,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:ix,render:t}};fe.isValidElement=id;fe.lazy=function(t){return{$$typeof:lx,_payload:{_status:-1,_result:t},_init:hx}};fe.memo=function(t,e){return{$$typeof:ox,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=uo.transition;uo.transition={};try{t()}finally{uo.transition=e}};fe.unstable_act=fm;fe.useCallback=function(t,e){return ht.current.useCallback(t,e)};fe.useContext=function(t){return ht.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return ht.current.useDeferredValue(t)};fe.useEffect=function(t,e){return ht.current.useEffect(t,e)};fe.useId=function(){return ht.current.useId()};fe.useImperativeHandle=function(t,e,r){return ht.current.useImperativeHandle(t,e,r)};fe.useInsertionEffect=function(t,e){return ht.current.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return ht.current.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return ht.current.useMemo(t,e)};fe.useReducer=function(t,e,r){return ht.current.useReducer(t,e,r)};fe.useRef=function(t){return ht.current.useRef(t)};fe.useState=function(t){return ht.current.useState(t)};fe.useSyncExternalStore=function(t,e,r){return ht.current.useSyncExternalStore(t,e,r)};fe.useTransition=function(){return ht.current.useTransition()};fe.version="18.3.1";im.exports=fe;var b=im.exports;const ui=Yy(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var px=b,mx=Symbol.for("react.element"),gx=Symbol.for("react.fragment"),vx=Object.prototype.hasOwnProperty,yx=px.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xx={key:!0,ref:!0,__self:!0,__source:!0};function pm(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)vx.call(e,n)&&!xx.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:mx,type:t,key:i,ref:a,props:s,_owner:yx.current}}hl.Fragment=gx;hl.jsx=pm;hl.jsxs=pm;sm.exports=hl;var o=sm.exports,Dc={},mm={exports:{}},Lt={},gm={exports:{}},vm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,I){var H=O.length;O.push(I);e:for(;0<H;){var F=H-1>>>1,oe=O[F];if(0<s(oe,I))O[F]=I,O[H]=oe,H=F;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var I=O[0],H=O.pop();if(H!==I){O[0]=H;e:for(var F=0,oe=O.length,xe=oe>>>1;F<xe;){var pe=2*(F+1)-1,we=O[pe],je=pe+1,V=O[je];if(0>s(we,H))je<oe&&0>s(V,we)?(O[F]=V,O[je]=H,F=je):(O[F]=we,O[pe]=H,F=pe);else if(je<oe&&0>s(V,H))O[F]=V,O[je]=H,F=je;else break e}}return I}function s(O,I){var H=O.sortIndex-I.sortIndex;return H!==0?H:O.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(O){for(var I=r(u);I!==null;){if(I.callback===null)n(u);else if(I.startTime<=O)n(u),I.sortIndex=I.expirationTime,e(c,I);else break;I=r(u)}}function S(O){if(y=!1,w(O),!g)if(r(c)!==null)g=!0,z(N);else{var I=r(u);I!==null&&D(S,I.startTime-O)}}function N(O,I){g=!1,y&&(y=!1,v(T),T=-1),f=!0;var H=p;try{for(w(I),h=r(c);h!==null&&(!(h.expirationTime>I)||O&&!W());){var F=h.callback;if(typeof F=="function"){h.callback=null,p=h.priorityLevel;var oe=F(h.expirationTime<=I);I=t.unstable_now(),typeof oe=="function"?h.callback=oe:h===r(c)&&n(c),w(I)}else n(c);h=r(c)}if(h!==null)var xe=!0;else{var pe=r(u);pe!==null&&D(S,pe.startTime-I),xe=!1}return xe}finally{h=null,p=H,f=!1}}var R=!1,j=null,T=-1,M=5,E=-1;function W(){return!(t.unstable_now()-E<M)}function Q(){if(j!==null){var O=t.unstable_now();E=O;var I=!0;try{I=j(!0,O)}finally{I?G():(R=!1,j=null)}}else R=!1}var G;if(typeof m=="function")G=function(){m(Q)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,A=L.port2;L.port1.onmessage=Q,G=function(){A.postMessage(null)}}else G=function(){x(Q,0)};function z(O){j=O,R||(R=!0,G())}function D(O,I){T=x(function(){O(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,z(N))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(O){switch(p){case 1:case 2:case 3:var I=3;break;default:I=p}var H=p;p=I;try{return O()}finally{p=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,I){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var H=p;p=O;try{return I()}finally{p=H}},t.unstable_scheduleCallback=function(O,I,H){var F=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?F+H:F):H=F,O){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=H+oe,O={id:d++,callback:I,priorityLevel:O,startTime:H,expirationTime:oe,sortIndex:-1},H>F?(O.sortIndex=H,e(u,O),r(c)===null&&O===r(u)&&(y?(v(T),T=-1):y=!0,D(S,H-F))):(O.sortIndex=oe,e(c,O),g||f||(g=!0,z(N))),O},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(O){var I=p;return function(){var H=p;p=I;try{return O.apply(this,arguments)}finally{p=H}}}})(vm);gm.exports=vm;var wx=gm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bx=b,Tt=wx;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ym=new Set,$i={};function zn(t,e){Es(t,e),Es(t+"Capture",e)}function Es(t,e){for($i[t]=e,t=0;t<e.length;t++)ym.add(e[t])}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$c=Object.prototype.hasOwnProperty,jx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sh={},Nh={};function _x(t){return $c.call(Nh,t)?!0:$c.call(Sh,t)?!1:jx.test(t)?Nh[t]=!0:(Sh[t]=!0,!1)}function Sx(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Nx(t,e,r,n){if(e===null||typeof e>"u"||Sx(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ft(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){et[t]=new ft(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];et[e]=new ft(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){et[t]=new ft(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){et[t]=new ft(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){et[t]=new ft(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){et[t]=new ft(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){et[t]=new ft(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){et[t]=new ft(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){et[t]=new ft(t,5,!1,t.toLowerCase(),null,!1,!1)});var ad=/[\-:]([a-z])/g;function od(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ad,od);et[e]=new ft(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ad,od);et[e]=new ft(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ad,od);et[e]=new ft(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){et[t]=new ft(t,1,!1,t.toLowerCase(),null,!1,!1)});et.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){et[t]=new ft(t,1,!1,t.toLowerCase(),null,!0,!0)});function ld(t,e,r,n){var s=et.hasOwnProperty(e)?et[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Nx(e,r,s,n)&&(r=null),n||s===null?_x(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Er=bx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,La=Symbol.for("react.element"),is=Symbol.for("react.portal"),as=Symbol.for("react.fragment"),cd=Symbol.for("react.strict_mode"),Mc=Symbol.for("react.profiler"),xm=Symbol.for("react.provider"),wm=Symbol.for("react.context"),ud=Symbol.for("react.forward_ref"),zc=Symbol.for("react.suspense"),Uc=Symbol.for("react.suspense_list"),dd=Symbol.for("react.memo"),Tr=Symbol.for("react.lazy"),bm=Symbol.for("react.offscreen"),kh=Symbol.iterator;function Xs(t){return t===null||typeof t!="object"?null:(t=kh&&t[kh]||t["@@iterator"],typeof t=="function"?t:null)}var Ae=Object.assign,Wl;function di(t){if(Wl===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Wl=e&&e[1]||""}return`
`+Wl+t}var Kl=!1;function Gl(t,e){if(!t||Kl)return"";Kl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{Kl=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?di(t):""}function kx(t){switch(t.tag){case 5:return di(t.type);case 16:return di("Lazy");case 13:return di("Suspense");case 19:return di("SuspenseList");case 0:case 2:case 15:return t=Gl(t.type,!1),t;case 11:return t=Gl(t.type.render,!1),t;case 1:return t=Gl(t.type,!0),t;default:return""}}function Fc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case as:return"Fragment";case is:return"Portal";case Mc:return"Profiler";case cd:return"StrictMode";case zc:return"Suspense";case Uc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wm:return(t.displayName||"Context")+".Consumer";case xm:return(t._context.displayName||"Context")+".Provider";case ud:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dd:return e=t.displayName||null,e!==null?e:Fc(t.type)||"Memo";case Tr:e=t._payload,t=t._init;try{return Fc(t(e))}catch{}}return null}function Ex(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fc(e);case 8:return e===cd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Cx(t){var e=jm(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Aa(t){t._valueTracker||(t._valueTracker=Cx(t))}function _m(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=jm(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Eo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bc(t,e){var r=e.checked;return Ae({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Eh(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Qr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Sm(t,e){e=e.checked,e!=null&&ld(t,"checked",e,!1)}function Hc(t,e){Sm(t,e);var r=Qr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vc(t,e.type,r):e.hasOwnProperty("defaultValue")&&Vc(t,e.type,Qr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ch(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Vc(t,e,r){(e!=="number"||Eo(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var hi=Array.isArray;function ys(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Qr(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function qc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ae({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ph(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(U(92));if(hi(r)){if(1<r.length)throw Error(U(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Qr(r)}}function Nm(t,e){var r=Qr(e.value),n=Qr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Rh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function km(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?km(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ia,Em=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ia=Ia||document.createElement("div"),Ia.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ia.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Mi(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Px=["Webkit","ms","Moz","O"];Object.keys(wi).forEach(function(t){Px.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wi[e]=wi[t]})});function Cm(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||wi.hasOwnProperty(t)&&wi[t]?(""+e).trim():e+"px"}function Pm(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Cm(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var Rx=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kc(t,e){if(e){if(Rx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Gc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jc=null;function hd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qc=null,xs=null,ws=null;function Oh(t){if(t=ga(t)){if(typeof Qc!="function")throw Error(U(280));var e=t.stateNode;e&&(e=vl(e),Qc(t.stateNode,t.type,e))}}function Rm(t){xs?ws?ws.push(t):ws=[t]:xs=t}function Om(){if(xs){var t=xs,e=ws;if(ws=xs=null,Oh(t),e)for(t=0;t<e.length;t++)Oh(e[t])}}function Tm(t,e){return t(e)}function Lm(){}var Jl=!1;function Am(t,e,r){if(Jl)return t(e,r);Jl=!0;try{return Tm(t,e,r)}finally{Jl=!1,(xs!==null||ws!==null)&&(Lm(),Om())}}function zi(t,e){var r=t.stateNode;if(r===null)return null;var n=vl(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(U(231,e,typeof r));return r}var Yc=!1;if(_r)try{var Zs={};Object.defineProperty(Zs,"passive",{get:function(){Yc=!0}}),window.addEventListener("test",Zs,Zs),window.removeEventListener("test",Zs,Zs)}catch{Yc=!1}function Ox(t,e,r,n,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var bi=!1,Co=null,Po=!1,Xc=null,Tx={onError:function(t){bi=!0,Co=t}};function Lx(t,e,r,n,s,i,a,l,c){bi=!1,Co=null,Ox.apply(Tx,arguments)}function Ax(t,e,r,n,s,i,a,l,c){if(Lx.apply(this,arguments),bi){if(bi){var u=Co;bi=!1,Co=null}else throw Error(U(198));Po||(Po=!0,Xc=u)}}function Un(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Im(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Th(t){if(Un(t)!==t)throw Error(U(188))}function Ix(t){var e=t.alternate;if(!e){if(e=Un(t),e===null)throw Error(U(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Th(s),t;if(i===n)return Th(s),e;i=i.sibling}throw Error(U(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(U(189))}}if(r.alternate!==n)throw Error(U(190))}if(r.tag!==3)throw Error(U(188));return r.stateNode.current===r?t:e}function Dm(t){return t=Ix(t),t!==null?$m(t):null}function $m(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$m(t);if(e!==null)return e;t=t.sibling}return null}var Mm=Tt.unstable_scheduleCallback,Lh=Tt.unstable_cancelCallback,Dx=Tt.unstable_shouldYield,$x=Tt.unstable_requestPaint,Ue=Tt.unstable_now,Mx=Tt.unstable_getCurrentPriorityLevel,fd=Tt.unstable_ImmediatePriority,zm=Tt.unstable_UserBlockingPriority,Ro=Tt.unstable_NormalPriority,zx=Tt.unstable_LowPriority,Um=Tt.unstable_IdlePriority,fl=null,ur=null;function Ux(t){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(fl,t,void 0,(t.current.flags&128)===128)}catch{}}var er=Math.clz32?Math.clz32:Hx,Fx=Math.log,Bx=Math.LN2;function Hx(t){return t>>>=0,t===0?32:31-(Fx(t)/Bx|0)|0}var Da=64,$a=4194304;function fi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Oo(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=fi(l):(i&=a,i!==0&&(n=fi(i)))}else a=r&~s,a!==0?n=fi(a):i!==0&&(n=fi(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-er(e),s=1<<r,n|=t[r],e&=~s;return n}function Vx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qx(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-er(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=Vx(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Zc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Fm(){var t=Da;return Da<<=1,!(Da&4194240)&&(Da=64),t}function Ql(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function pa(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-er(e),t[e]=r}function Wx(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-er(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function pd(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-er(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var be=0;function Bm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Hm,md,Vm,qm,Wm,eu=!1,Ma=[],Br=null,Hr=null,Vr=null,Ui=new Map,Fi=new Map,Ar=[],Kx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ah(t,e){switch(t){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":Ui.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fi.delete(e.pointerId)}}function ei(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ga(e),e!==null&&md(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Gx(t,e,r,n,s){switch(e){case"focusin":return Br=ei(Br,t,e,r,n,s),!0;case"dragenter":return Hr=ei(Hr,t,e,r,n,s),!0;case"mouseover":return Vr=ei(Vr,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ui.set(i,ei(Ui.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Fi.set(i,ei(Fi.get(i)||null,t,e,r,n,s)),!0}return!1}function Km(t){var e=wn(t.target);if(e!==null){var r=Un(e);if(r!==null){if(e=r.tag,e===13){if(e=Im(r),e!==null){t.blockedOn=e,Wm(t.priority,function(){Vm(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ho(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=tu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Jc=n,r.target.dispatchEvent(n),Jc=null}else return e=ga(r),e!==null&&md(e),t.blockedOn=r,!1;e.shift()}return!0}function Ih(t,e,r){ho(t)&&r.delete(e)}function Jx(){eu=!1,Br!==null&&ho(Br)&&(Br=null),Hr!==null&&ho(Hr)&&(Hr=null),Vr!==null&&ho(Vr)&&(Vr=null),Ui.forEach(Ih),Fi.forEach(Ih)}function ti(t,e){t.blockedOn===e&&(t.blockedOn=null,eu||(eu=!0,Tt.unstable_scheduleCallback(Tt.unstable_NormalPriority,Jx)))}function Bi(t){function e(s){return ti(s,t)}if(0<Ma.length){ti(Ma[0],t);for(var r=1;r<Ma.length;r++){var n=Ma[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Br!==null&&ti(Br,t),Hr!==null&&ti(Hr,t),Vr!==null&&ti(Vr,t),Ui.forEach(e),Fi.forEach(e),r=0;r<Ar.length;r++)n=Ar[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ar.length&&(r=Ar[0],r.blockedOn===null);)Km(r),r.blockedOn===null&&Ar.shift()}var bs=Er.ReactCurrentBatchConfig,To=!0;function Qx(t,e,r,n){var s=be,i=bs.transition;bs.transition=null;try{be=1,gd(t,e,r,n)}finally{be=s,bs.transition=i}}function Yx(t,e,r,n){var s=be,i=bs.transition;bs.transition=null;try{be=4,gd(t,e,r,n)}finally{be=s,bs.transition=i}}function gd(t,e,r,n){if(To){var s=tu(t,e,r,n);if(s===null)ac(t,e,n,Lo,r),Ah(t,n);else if(Gx(s,t,e,r,n))n.stopPropagation();else if(Ah(t,n),e&4&&-1<Kx.indexOf(t)){for(;s!==null;){var i=ga(s);if(i!==null&&Hm(i),i=tu(t,e,r,n),i===null&&ac(t,e,n,Lo,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else ac(t,e,n,null,r)}}var Lo=null;function tu(t,e,r,n){if(Lo=null,t=hd(n),t=wn(t),t!==null)if(e=Un(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Im(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Lo=t,null}function Gm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mx()){case fd:return 1;case zm:return 4;case Ro:case zx:return 16;case Um:return 536870912;default:return 16}default:return 16}}var zr=null,vd=null,fo=null;function Jm(){if(fo)return fo;var t,e=vd,r=e.length,n,s="value"in zr?zr.value:zr.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return fo=s.slice(t,1<n?1-n:void 0)}function po(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function za(){return!0}function Dh(){return!1}function At(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?za:Dh,this.isPropagationStopped=Dh,this}return Ae(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=za)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=za)},persist:function(){},isPersistent:za}),e}var Us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yd=At(Us),ma=Ae({},Us,{view:0,detail:0}),Xx=At(ma),Yl,Xl,ri,pl=Ae({},ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ri&&(ri&&t.type==="mousemove"?(Yl=t.screenX-ri.screenX,Xl=t.screenY-ri.screenY):Xl=Yl=0,ri=t),Yl)},movementY:function(t){return"movementY"in t?t.movementY:Xl}}),$h=At(pl),Zx=Ae({},pl,{dataTransfer:0}),ew=At(Zx),tw=Ae({},ma,{relatedTarget:0}),Zl=At(tw),rw=Ae({},Us,{animationName:0,elapsedTime:0,pseudoElement:0}),nw=At(rw),sw=Ae({},Us,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iw=At(sw),aw=Ae({},Us,{data:0}),Mh=At(aw),ow={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cw[t])?!!e[t]:!1}function xd(){return uw}var dw=Ae({},ma,{key:function(t){if(t.key){var e=ow[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=po(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xd,charCode:function(t){return t.type==="keypress"?po(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?po(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hw=At(dw),fw=Ae({},pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zh=At(fw),pw=Ae({},ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xd}),mw=At(pw),gw=Ae({},Us,{propertyName:0,elapsedTime:0,pseudoElement:0}),vw=At(gw),yw=Ae({},pl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xw=At(yw),ww=[9,13,27,32],wd=_r&&"CompositionEvent"in window,ji=null;_r&&"documentMode"in document&&(ji=document.documentMode);var bw=_r&&"TextEvent"in window&&!ji,Qm=_r&&(!wd||ji&&8<ji&&11>=ji),Uh=" ",Fh=!1;function Ym(t,e){switch(t){case"keyup":return ww.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var os=!1;function jw(t,e){switch(t){case"compositionend":return Xm(e);case"keypress":return e.which!==32?null:(Fh=!0,Uh);case"textInput":return t=e.data,t===Uh&&Fh?null:t;default:return null}}function _w(t,e){if(os)return t==="compositionend"||!wd&&Ym(t,e)?(t=Jm(),fo=vd=zr=null,os=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Qm&&e.locale!=="ko"?null:e.data;default:return null}}var Sw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Sw[t.type]:e==="textarea"}function Zm(t,e,r,n){Rm(n),e=Ao(e,"onChange"),0<e.length&&(r=new yd("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var _i=null,Hi=null;function Nw(t){ug(t,0)}function ml(t){var e=us(t);if(_m(e))return t}function kw(t,e){if(t==="change")return e}var eg=!1;if(_r){var ec;if(_r){var tc="oninput"in document;if(!tc){var Hh=document.createElement("div");Hh.setAttribute("oninput","return;"),tc=typeof Hh.oninput=="function"}ec=tc}else ec=!1;eg=ec&&(!document.documentMode||9<document.documentMode)}function Vh(){_i&&(_i.detachEvent("onpropertychange",tg),Hi=_i=null)}function tg(t){if(t.propertyName==="value"&&ml(Hi)){var e=[];Zm(e,Hi,t,hd(t)),Am(Nw,e)}}function Ew(t,e,r){t==="focusin"?(Vh(),_i=e,Hi=r,_i.attachEvent("onpropertychange",tg)):t==="focusout"&&Vh()}function Cw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ml(Hi)}function Pw(t,e){if(t==="click")return ml(e)}function Rw(t,e){if(t==="input"||t==="change")return ml(e)}function Ow(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rr=typeof Object.is=="function"?Object.is:Ow;function Vi(t,e){if(rr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!$c.call(e,s)||!rr(t[s],e[s]))return!1}return!0}function qh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wh(t,e){var r=qh(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=qh(r)}}function rg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ng(){for(var t=window,e=Eo();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Eo(t.document)}return e}function bd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Tw(t){var e=ng(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&rg(r.ownerDocument.documentElement,r)){if(n!==null&&bd(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Wh(r,i);var a=Wh(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Lw=_r&&"documentMode"in document&&11>=document.documentMode,ls=null,ru=null,Si=null,nu=!1;function Kh(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nu||ls==null||ls!==Eo(n)||(n=ls,"selectionStart"in n&&bd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Si&&Vi(Si,n)||(Si=n,n=Ao(ru,"onSelect"),0<n.length&&(e=new yd("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ls)))}function Ua(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var cs={animationend:Ua("Animation","AnimationEnd"),animationiteration:Ua("Animation","AnimationIteration"),animationstart:Ua("Animation","AnimationStart"),transitionend:Ua("Transition","TransitionEnd")},rc={},sg={};_r&&(sg=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function gl(t){if(rc[t])return rc[t];if(!cs[t])return t;var e=cs[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in sg)return rc[t]=e[r];return t}var ig=gl("animationend"),ag=gl("animationiteration"),og=gl("animationstart"),lg=gl("transitionend"),cg=new Map,Gh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zr(t,e){cg.set(t,e),zn(e,[t])}for(var nc=0;nc<Gh.length;nc++){var sc=Gh[nc],Aw=sc.toLowerCase(),Iw=sc[0].toUpperCase()+sc.slice(1);Zr(Aw,"on"+Iw)}Zr(ig,"onAnimationEnd");Zr(ag,"onAnimationIteration");Zr(og,"onAnimationStart");Zr("dblclick","onDoubleClick");Zr("focusin","onFocus");Zr("focusout","onBlur");Zr(lg,"onTransitionEnd");Es("onMouseEnter",["mouseout","mouseover"]);Es("onMouseLeave",["mouseout","mouseover"]);Es("onPointerEnter",["pointerout","pointerover"]);Es("onPointerLeave",["pointerout","pointerover"]);zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dw=new Set("cancel close invalid load scroll toggle".split(" ").concat(pi));function Jh(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Ax(n,e,void 0,t),t.currentTarget=null}function ug(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Jh(s,l,u),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Jh(s,l,u),i=c}}}if(Po)throw t=Xc,Po=!1,Xc=null,t}function Ce(t,e){var r=e[lu];r===void 0&&(r=e[lu]=new Set);var n=t+"__bubble";r.has(n)||(dg(e,t,2,!1),r.add(n))}function ic(t,e,r){var n=0;e&&(n|=4),dg(r,t,n,e)}var Fa="_reactListening"+Math.random().toString(36).slice(2);function qi(t){if(!t[Fa]){t[Fa]=!0,ym.forEach(function(r){r!=="selectionchange"&&(Dw.has(r)||ic(r,!1,t),ic(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fa]||(e[Fa]=!0,ic("selectionchange",!1,e))}}function dg(t,e,r,n){switch(Gm(e)){case 1:var s=Qx;break;case 4:s=Yx;break;default:s=gd}r=s.bind(null,e,r,t),s=void 0,!Yc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function ac(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=wn(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}Am(function(){var u=i,d=hd(r),h=[];e:{var p=cg.get(t);if(p!==void 0){var f=yd,g=t;switch(t){case"keypress":if(po(r)===0)break e;case"keydown":case"keyup":f=hw;break;case"focusin":g="focus",f=Zl;break;case"focusout":g="blur",f=Zl;break;case"beforeblur":case"afterblur":f=Zl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=$h;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=ew;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=mw;break;case ig:case ag:case og:f=nw;break;case lg:f=vw;break;case"scroll":f=Xx;break;case"wheel":f=xw;break;case"copy":case"cut":case"paste":f=iw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=zh}var y=(e&4)!==0,x=!y&&t==="scroll",v=y?p!==null?p+"Capture":null:p;y=[];for(var m=u,w;m!==null;){w=m;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,v!==null&&(S=zi(m,v),S!=null&&y.push(Wi(m,S,w)))),x)break;m=m.return}0<y.length&&(p=new f(p,g,null,r,d),h.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",p&&r!==Jc&&(g=r.relatedTarget||r.fromElement)&&(wn(g)||g[Sr]))break e;if((f||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,f?(g=r.relatedTarget||r.toElement,f=u,g=g?wn(g):null,g!==null&&(x=Un(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=u),f!==g)){if(y=$h,S="onMouseLeave",v="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=zh,S="onPointerLeave",v="onPointerEnter",m="pointer"),x=f==null?p:us(f),w=g==null?p:us(g),p=new y(S,m+"leave",f,r,d),p.target=x,p.relatedTarget=w,S=null,wn(d)===u&&(y=new y(v,m+"enter",g,r,d),y.target=w,y.relatedTarget=x,S=y),x=S,f&&g)t:{for(y=f,v=g,m=0,w=y;w;w=Kn(w))m++;for(w=0,S=v;S;S=Kn(S))w++;for(;0<m-w;)y=Kn(y),m--;for(;0<w-m;)v=Kn(v),w--;for(;m--;){if(y===v||v!==null&&y===v.alternate)break t;y=Kn(y),v=Kn(v)}y=null}else y=null;f!==null&&Qh(h,p,f,y,!1),g!==null&&x!==null&&Qh(h,x,g,y,!0)}}e:{if(p=u?us(u):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var N=kw;else if(Bh(p))if(eg)N=Rw;else{N=Cw;var R=Ew}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=Pw);if(N&&(N=N(t,u))){Zm(h,N,r,d);break e}R&&R(t,p,u),t==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&Vc(p,"number",p.value)}switch(R=u?us(u):window,t){case"focusin":(Bh(R)||R.contentEditable==="true")&&(ls=R,ru=u,Si=null);break;case"focusout":Si=ru=ls=null;break;case"mousedown":nu=!0;break;case"contextmenu":case"mouseup":case"dragend":nu=!1,Kh(h,r,d);break;case"selectionchange":if(Lw)break;case"keydown":case"keyup":Kh(h,r,d)}var j;if(wd)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else os?Ym(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(Qm&&r.locale!=="ko"&&(os||T!=="onCompositionStart"?T==="onCompositionEnd"&&os&&(j=Jm()):(zr=d,vd="value"in zr?zr.value:zr.textContent,os=!0)),R=Ao(u,T),0<R.length&&(T=new Mh(T,t,null,r,d),h.push({event:T,listeners:R}),j?T.data=j:(j=Xm(r),j!==null&&(T.data=j)))),(j=bw?jw(t,r):_w(t,r))&&(u=Ao(u,"onBeforeInput"),0<u.length&&(d=new Mh("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=j))}ug(h,e)})}function Wi(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ao(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=zi(t,r),i!=null&&n.unshift(Wi(t,i,s)),i=zi(t,e),i!=null&&n.push(Wi(t,i,s))),t=t.return}return n}function Kn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Qh(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=zi(r,i),c!=null&&a.unshift(Wi(r,c,l))):s||(c=zi(r,i),c!=null&&a.push(Wi(r,c,l)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var $w=/\r\n?/g,Mw=/\u0000|\uFFFD/g;function Yh(t){return(typeof t=="string"?t:""+t).replace($w,`
`).replace(Mw,"")}function Ba(t,e,r){if(e=Yh(e),Yh(t)!==e&&r)throw Error(U(425))}function Io(){}var su=null,iu=null;function au(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ou=typeof setTimeout=="function"?setTimeout:void 0,zw=typeof clearTimeout=="function"?clearTimeout:void 0,Xh=typeof Promise=="function"?Promise:void 0,Uw=typeof queueMicrotask=="function"?queueMicrotask:typeof Xh<"u"?function(t){return Xh.resolve(null).then(t).catch(Fw)}:ou;function Fw(t){setTimeout(function(){throw t})}function oc(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Bi(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Bi(e)}function qr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Zh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Fs=Math.random().toString(36).slice(2),lr="__reactFiber$"+Fs,Ki="__reactProps$"+Fs,Sr="__reactContainer$"+Fs,lu="__reactEvents$"+Fs,Bw="__reactListeners$"+Fs,Hw="__reactHandles$"+Fs;function wn(t){var e=t[lr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Sr]||r[lr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Zh(t);t!==null;){if(r=t[lr])return r;t=Zh(t)}return e}t=r,r=t.parentNode}return null}function ga(t){return t=t[lr]||t[Sr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function us(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function vl(t){return t[Ki]||null}var cu=[],ds=-1;function en(t){return{current:t}}function Pe(t){0>ds||(t.current=cu[ds],cu[ds]=null,ds--)}function Ne(t,e){ds++,cu[ds]=t.current,t.current=e}var Yr={},ot=en(Yr),wt=en(!1),Rn=Yr;function Cs(t,e){var r=t.type.contextTypes;if(!r)return Yr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function bt(t){return t=t.childContextTypes,t!=null}function Do(){Pe(wt),Pe(ot)}function ef(t,e,r){if(ot.current!==Yr)throw Error(U(168));Ne(ot,e),Ne(wt,r)}function hg(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(U(108,Ex(t)||"Unknown",s));return Ae({},r,n)}function $o(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yr,Rn=ot.current,Ne(ot,t),Ne(wt,wt.current),!0}function tf(t,e,r){var n=t.stateNode;if(!n)throw Error(U(169));r?(t=hg(t,e,Rn),n.__reactInternalMemoizedMergedChildContext=t,Pe(wt),Pe(ot),Ne(ot,t)):Pe(wt),Ne(wt,r)}var xr=null,yl=!1,lc=!1;function fg(t){xr===null?xr=[t]:xr.push(t)}function Vw(t){yl=!0,fg(t)}function tn(){if(!lc&&xr!==null){lc=!0;var t=0,e=be;try{var r=xr;for(be=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}xr=null,yl=!1}catch(s){throw xr!==null&&(xr=xr.slice(t+1)),Mm(fd,tn),s}finally{be=e,lc=!1}}return null}var hs=[],fs=0,Mo=null,zo=0,$t=[],Mt=0,On=null,wr=1,br="";function fn(t,e){hs[fs++]=zo,hs[fs++]=Mo,Mo=t,zo=e}function pg(t,e,r){$t[Mt++]=wr,$t[Mt++]=br,$t[Mt++]=On,On=t;var n=wr;t=br;var s=32-er(n)-1;n&=~(1<<s),r+=1;var i=32-er(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,wr=1<<32-er(e)+s|r<<s|n,br=i+t}else wr=1<<i|r<<s|n,br=t}function jd(t){t.return!==null&&(fn(t,1),pg(t,1,0))}function _d(t){for(;t===Mo;)Mo=hs[--fs],hs[fs]=null,zo=hs[--fs],hs[fs]=null;for(;t===On;)On=$t[--Mt],$t[Mt]=null,br=$t[--Mt],$t[Mt]=null,wr=$t[--Mt],$t[Mt]=null}var Ot=null,Rt=null,Re=!1,Zt=null;function mg(t,e){var r=zt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function rf(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ot=t,Rt=qr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ot=t,Rt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=On!==null?{id:wr,overflow:br}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=zt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ot=t,Rt=null,!0):!1;default:return!1}}function uu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function du(t){if(Re){var e=Rt;if(e){var r=e;if(!rf(t,e)){if(uu(t))throw Error(U(418));e=qr(r.nextSibling);var n=Ot;e&&rf(t,e)?mg(n,r):(t.flags=t.flags&-4097|2,Re=!1,Ot=t)}}else{if(uu(t))throw Error(U(418));t.flags=t.flags&-4097|2,Re=!1,Ot=t}}}function nf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ot=t}function Ha(t){if(t!==Ot)return!1;if(!Re)return nf(t),Re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!au(t.type,t.memoizedProps)),e&&(e=Rt)){if(uu(t))throw gg(),Error(U(418));for(;e;)mg(t,e),e=qr(e.nextSibling)}if(nf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Rt=qr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Rt=null}}else Rt=Ot?qr(t.stateNode.nextSibling):null;return!0}function gg(){for(var t=Rt;t;)t=qr(t.nextSibling)}function Ps(){Rt=Ot=null,Re=!1}function Sd(t){Zt===null?Zt=[t]:Zt.push(t)}var qw=Er.ReactCurrentBatchConfig;function ni(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(U(309));var n=r.stateNode}if(!n)throw Error(U(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(U(284));if(!r._owner)throw Error(U(290,t))}return t}function Va(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sf(t){var e=t._init;return e(t._payload)}function vg(t){function e(v,m){if(t){var w=v.deletions;w===null?(v.deletions=[m],v.flags|=16):w.push(m)}}function r(v,m){if(!t)return null;for(;m!==null;)e(v,m),m=m.sibling;return null}function n(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function s(v,m){return v=Jr(v,m),v.index=0,v.sibling=null,v}function i(v,m,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<m?(v.flags|=2,m):w):(v.flags|=2,m)):(v.flags|=1048576,m)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,m,w,S){return m===null||m.tag!==6?(m=mc(w,v.mode,S),m.return=v,m):(m=s(m,w),m.return=v,m)}function c(v,m,w,S){var N=w.type;return N===as?d(v,m,w.props.children,S,w.key):m!==null&&(m.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Tr&&sf(N)===m.type)?(S=s(m,w.props),S.ref=ni(v,m,w),S.return=v,S):(S=bo(w.type,w.key,w.props,null,v.mode,S),S.ref=ni(v,m,w),S.return=v,S)}function u(v,m,w,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=gc(w,v.mode,S),m.return=v,m):(m=s(m,w.children||[]),m.return=v,m)}function d(v,m,w,S,N){return m===null||m.tag!==7?(m=En(w,v.mode,S,N),m.return=v,m):(m=s(m,w),m.return=v,m)}function h(v,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=mc(""+m,v.mode,w),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case La:return w=bo(m.type,m.key,m.props,null,v.mode,w),w.ref=ni(v,null,m),w.return=v,w;case is:return m=gc(m,v.mode,w),m.return=v,m;case Tr:var S=m._init;return h(v,S(m._payload),w)}if(hi(m)||Xs(m))return m=En(m,v.mode,w,null),m.return=v,m;Va(v,m)}return null}function p(v,m,w,S){var N=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(v,m,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case La:return w.key===N?c(v,m,w,S):null;case is:return w.key===N?u(v,m,w,S):null;case Tr:return N=w._init,p(v,m,N(w._payload),S)}if(hi(w)||Xs(w))return N!==null?null:d(v,m,w,S,null);Va(v,w)}return null}function f(v,m,w,S,N){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(w)||null,l(m,v,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case La:return v=v.get(S.key===null?w:S.key)||null,c(m,v,S,N);case is:return v=v.get(S.key===null?w:S.key)||null,u(m,v,S,N);case Tr:var R=S._init;return f(v,m,w,R(S._payload),N)}if(hi(S)||Xs(S))return v=v.get(w)||null,d(m,v,S,N,null);Va(m,S)}return null}function g(v,m,w,S){for(var N=null,R=null,j=m,T=m=0,M=null;j!==null&&T<w.length;T++){j.index>T?(M=j,j=null):M=j.sibling;var E=p(v,j,w[T],S);if(E===null){j===null&&(j=M);break}t&&j&&E.alternate===null&&e(v,j),m=i(E,m,T),R===null?N=E:R.sibling=E,R=E,j=M}if(T===w.length)return r(v,j),Re&&fn(v,T),N;if(j===null){for(;T<w.length;T++)j=h(v,w[T],S),j!==null&&(m=i(j,m,T),R===null?N=j:R.sibling=j,R=j);return Re&&fn(v,T),N}for(j=n(v,j);T<w.length;T++)M=f(j,v,T,w[T],S),M!==null&&(t&&M.alternate!==null&&j.delete(M.key===null?T:M.key),m=i(M,m,T),R===null?N=M:R.sibling=M,R=M);return t&&j.forEach(function(W){return e(v,W)}),Re&&fn(v,T),N}function y(v,m,w,S){var N=Xs(w);if(typeof N!="function")throw Error(U(150));if(w=N.call(w),w==null)throw Error(U(151));for(var R=N=null,j=m,T=m=0,M=null,E=w.next();j!==null&&!E.done;T++,E=w.next()){j.index>T?(M=j,j=null):M=j.sibling;var W=p(v,j,E.value,S);if(W===null){j===null&&(j=M);break}t&&j&&W.alternate===null&&e(v,j),m=i(W,m,T),R===null?N=W:R.sibling=W,R=W,j=M}if(E.done)return r(v,j),Re&&fn(v,T),N;if(j===null){for(;!E.done;T++,E=w.next())E=h(v,E.value,S),E!==null&&(m=i(E,m,T),R===null?N=E:R.sibling=E,R=E);return Re&&fn(v,T),N}for(j=n(v,j);!E.done;T++,E=w.next())E=f(j,v,T,E.value,S),E!==null&&(t&&E.alternate!==null&&j.delete(E.key===null?T:E.key),m=i(E,m,T),R===null?N=E:R.sibling=E,R=E);return t&&j.forEach(function(Q){return e(v,Q)}),Re&&fn(v,T),N}function x(v,m,w,S){if(typeof w=="object"&&w!==null&&w.type===as&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case La:e:{for(var N=w.key,R=m;R!==null;){if(R.key===N){if(N=w.type,N===as){if(R.tag===7){r(v,R.sibling),m=s(R,w.props.children),m.return=v,v=m;break e}}else if(R.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Tr&&sf(N)===R.type){r(v,R.sibling),m=s(R,w.props),m.ref=ni(v,R,w),m.return=v,v=m;break e}r(v,R);break}else e(v,R);R=R.sibling}w.type===as?(m=En(w.props.children,v.mode,S,w.key),m.return=v,v=m):(S=bo(w.type,w.key,w.props,null,v.mode,S),S.ref=ni(v,m,w),S.return=v,v=S)}return a(v);case is:e:{for(R=w.key;m!==null;){if(m.key===R)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){r(v,m.sibling),m=s(m,w.children||[]),m.return=v,v=m;break e}else{r(v,m);break}else e(v,m);m=m.sibling}m=gc(w,v.mode,S),m.return=v,v=m}return a(v);case Tr:return R=w._init,x(v,m,R(w._payload),S)}if(hi(w))return g(v,m,w,S);if(Xs(w))return y(v,m,w,S);Va(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(r(v,m.sibling),m=s(m,w),m.return=v,v=m):(r(v,m),m=mc(w,v.mode,S),m.return=v,v=m),a(v)):r(v,m)}return x}var Rs=vg(!0),yg=vg(!1),Uo=en(null),Fo=null,ps=null,Nd=null;function kd(){Nd=ps=Fo=null}function Ed(t){var e=Uo.current;Pe(Uo),t._currentValue=e}function hu(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function js(t,e){Fo=t,Nd=ps=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xt=!0),t.firstContext=null)}function Ft(t){var e=t._currentValue;if(Nd!==t)if(t={context:t,memoizedValue:e,next:null},ps===null){if(Fo===null)throw Error(U(308));ps=t,Fo.dependencies={lanes:0,firstContext:t}}else ps=ps.next=t;return e}var bn=null;function Cd(t){bn===null?bn=[t]:bn.push(t)}function xg(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Cd(e)):(r.next=s.next,s.next=r),e.interleaved=r,Nr(t,n)}function Nr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Lr=!1;function Pd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ye&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Nr(t,r)}return s=n.interleaved,s===null?(e.next=e,Cd(n)):(e.next=s.next,s.next=e),n.interleaved=e,Nr(t,r)}function mo(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,pd(t,r)}}function af(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Bo(t,e,r,n){var s=t.updateQueue;Lr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,l=i;do{var p=l.lane,f=l.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,y=l;switch(p=e,f=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(f,h,p);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,p=typeof g=="function"?g.call(f,h,p):g,p==null)break e;h=Ae({},h,p);break e;case 2:Lr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else f={eventTime:f,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=f,c=h):d=d.next=f,a|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ln|=a,t.lanes=a,t.memoizedState=h}}function of(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(U(191,s));s.call(n)}}}var va={},dr=en(va),Gi=en(va),Ji=en(va);function jn(t){if(t===va)throw Error(U(174));return t}function Rd(t,e){switch(Ne(Ji,e),Ne(Gi,t),Ne(dr,va),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wc(e,t)}Pe(dr),Ne(dr,e)}function Os(){Pe(dr),Pe(Gi),Pe(Ji)}function bg(t){jn(Ji.current);var e=jn(dr.current),r=Wc(e,t.type);e!==r&&(Ne(Gi,t),Ne(dr,r))}function Od(t){Gi.current===t&&(Pe(dr),Pe(Gi))}var Te=en(0);function Ho(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cc=[];function Td(){for(var t=0;t<cc.length;t++)cc[t]._workInProgressVersionPrimary=null;cc.length=0}var go=Er.ReactCurrentDispatcher,uc=Er.ReactCurrentBatchConfig,Tn=0,Le=null,We=null,Je=null,Vo=!1,Ni=!1,Qi=0,Ww=0;function st(){throw Error(U(321))}function Ld(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!rr(t[r],e[r]))return!1;return!0}function Ad(t,e,r,n,s,i){if(Tn=i,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,go.current=t===null||t.memoizedState===null?Qw:Yw,t=r(n,s),Ni){i=0;do{if(Ni=!1,Qi=0,25<=i)throw Error(U(301));i+=1,Je=We=null,e.updateQueue=null,go.current=Xw,t=r(n,s)}while(Ni)}if(go.current=qo,e=We!==null&&We.next!==null,Tn=0,Je=We=Le=null,Vo=!1,e)throw Error(U(300));return t}function Id(){var t=Qi!==0;return Qi=0,t}function or(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Le.memoizedState=Je=t:Je=Je.next=t,Je}function Bt(){if(We===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var e=Je===null?Le.memoizedState:Je.next;if(e!==null)Je=e,We=t;else{if(t===null)throw Error(U(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Je===null?Le.memoizedState=Je=t:Je=Je.next=t}return Je}function Yi(t,e){return typeof e=="function"?e(t):e}function dc(t){var e=Bt(),r=e.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=t;var n=We,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((Tn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=n):c=c.next=h,Le.lanes|=d,Ln|=d}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=l,rr(n,e.memoizedState)||(xt=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,Le.lanes|=i,Ln|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function hc(t){var e=Bt(),r=e.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);rr(i,e.memoizedState)||(xt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function jg(){}function _g(t,e){var r=Le,n=Bt(),s=e(),i=!rr(n.memoizedState,s);if(i&&(n.memoizedState=s,xt=!0),n=n.queue,Dd(kg.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Je!==null&&Je.memoizedState.tag&1){if(r.flags|=2048,Xi(9,Ng.bind(null,r,n,s,e),void 0,null),Qe===null)throw Error(U(349));Tn&30||Sg(r,e,s)}return s}function Sg(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Ng(t,e,r,n){e.value=r,e.getSnapshot=n,Eg(e)&&Cg(t)}function kg(t,e,r){return r(function(){Eg(e)&&Cg(t)})}function Eg(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!rr(t,r)}catch{return!0}}function Cg(t){var e=Nr(t,1);e!==null&&tr(e,t,1,-1)}function lf(t){var e=or();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:t},e.queue=t,t=t.dispatch=Jw.bind(null,Le,t),[e.memoizedState,t]}function Xi(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Pg(){return Bt().memoizedState}function vo(t,e,r,n){var s=or();Le.flags|=t,s.memoizedState=Xi(1|e,r,void 0,n===void 0?null:n)}function xl(t,e,r,n){var s=Bt();n=n===void 0?null:n;var i=void 0;if(We!==null){var a=We.memoizedState;if(i=a.destroy,n!==null&&Ld(n,a.deps)){s.memoizedState=Xi(e,r,i,n);return}}Le.flags|=t,s.memoizedState=Xi(1|e,r,i,n)}function cf(t,e){return vo(8390656,8,t,e)}function Dd(t,e){return xl(2048,8,t,e)}function Rg(t,e){return xl(4,2,t,e)}function Og(t,e){return xl(4,4,t,e)}function Tg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Lg(t,e,r){return r=r!=null?r.concat([t]):null,xl(4,4,Tg.bind(null,e,t),r)}function $d(){}function Ag(t,e){var r=Bt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ld(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Ig(t,e){var r=Bt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ld(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Dg(t,e,r){return Tn&21?(rr(r,e)||(r=Fm(),Le.lanes|=r,Ln|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xt=!0),t.memoizedState=r)}function Kw(t,e){var r=be;be=r!==0&&4>r?r:4,t(!0);var n=uc.transition;uc.transition={};try{t(!1),e()}finally{be=r,uc.transition=n}}function $g(){return Bt().memoizedState}function Gw(t,e,r){var n=Gr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Mg(t))zg(e,r);else if(r=xg(t,e,r,n),r!==null){var s=dt();tr(r,t,n,s),Ug(r,e,n)}}function Jw(t,e,r){var n=Gr(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Mg(t))zg(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,rr(l,a)){var c=e.interleaved;c===null?(s.next=s,Cd(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=xg(t,e,s,n),r!==null&&(s=dt(),tr(r,t,n,s),Ug(r,e,n))}}function Mg(t){var e=t.alternate;return t===Le||e!==null&&e===Le}function zg(t,e){Ni=Vo=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Ug(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,pd(t,r)}}var qo={readContext:Ft,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},Qw={readContext:Ft,useCallback:function(t,e){return or().memoizedState=[t,e===void 0?null:e],t},useContext:Ft,useEffect:cf,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,vo(4194308,4,Tg.bind(null,e,t),r)},useLayoutEffect:function(t,e){return vo(4194308,4,t,e)},useInsertionEffect:function(t,e){return vo(4,2,t,e)},useMemo:function(t,e){var r=or();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=or();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Gw.bind(null,Le,t),[n.memoizedState,t]},useRef:function(t){var e=or();return t={current:t},e.memoizedState=t},useState:lf,useDebugValue:$d,useDeferredValue:function(t){return or().memoizedState=t},useTransition:function(){var t=lf(!1),e=t[0];return t=Kw.bind(null,t[1]),or().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Le,s=or();if(Re){if(r===void 0)throw Error(U(407));r=r()}else{if(r=e(),Qe===null)throw Error(U(349));Tn&30||Sg(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,cf(kg.bind(null,n,i,t),[t]),n.flags|=2048,Xi(9,Ng.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=or(),e=Qe.identifierPrefix;if(Re){var r=br,n=wr;r=(n&~(1<<32-er(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Qi++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Ww++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Yw={readContext:Ft,useCallback:Ag,useContext:Ft,useEffect:Dd,useImperativeHandle:Lg,useInsertionEffect:Rg,useLayoutEffect:Og,useMemo:Ig,useReducer:dc,useRef:Pg,useState:function(){return dc(Yi)},useDebugValue:$d,useDeferredValue:function(t){var e=Bt();return Dg(e,We.memoizedState,t)},useTransition:function(){var t=dc(Yi)[0],e=Bt().memoizedState;return[t,e]},useMutableSource:jg,useSyncExternalStore:_g,useId:$g,unstable_isNewReconciler:!1},Xw={readContext:Ft,useCallback:Ag,useContext:Ft,useEffect:Dd,useImperativeHandle:Lg,useInsertionEffect:Rg,useLayoutEffect:Og,useMemo:Ig,useReducer:hc,useRef:Pg,useState:function(){return hc(Yi)},useDebugValue:$d,useDeferredValue:function(t){var e=Bt();return We===null?e.memoizedState=t:Dg(e,We.memoizedState,t)},useTransition:function(){var t=hc(Yi)[0],e=Bt().memoizedState;return[t,e]},useMutableSource:jg,useSyncExternalStore:_g,useId:$g,unstable_isNewReconciler:!1};function Jt(t,e){if(t&&t.defaultProps){e=Ae({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function fu(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ae({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var wl={isMounted:function(t){return(t=t._reactInternals)?Un(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=dt(),s=Gr(t),i=jr(n,s);i.payload=e,r!=null&&(i.callback=r),e=Wr(t,i,s),e!==null&&(tr(e,t,s,n),mo(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=dt(),s=Gr(t),i=jr(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Wr(t,i,s),e!==null&&(tr(e,t,s,n),mo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=dt(),n=Gr(t),s=jr(r,n);s.tag=2,e!=null&&(s.callback=e),e=Wr(t,s,n),e!==null&&(tr(e,t,n,r),mo(e,t,n))}};function uf(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!Vi(r,n)||!Vi(s,i):!0}function Fg(t,e,r){var n=!1,s=Yr,i=e.contextType;return typeof i=="object"&&i!==null?i=Ft(i):(s=bt(e)?Rn:ot.current,n=e.contextTypes,i=(n=n!=null)?Cs(t,s):Yr),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wl,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function df(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&wl.enqueueReplaceState(e,e.state,null)}function pu(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Pd(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ft(i):(i=bt(e)?Rn:ot.current,s.context=Cs(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(fu(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&wl.enqueueReplaceState(s,s.state,null),Bo(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ts(t,e){try{var r="",n=e;do r+=kx(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function fc(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function mu(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Zw=typeof WeakMap=="function"?WeakMap:Map;function Bg(t,e,r){r=jr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ko||(Ko=!0,Nu=n),mu(t,e)},r}function Hg(t,e,r){r=jr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){mu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){mu(t,e),typeof n!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function hf(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Zw;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=fb.bind(null,t,e,r),e.then(t,t))}function ff(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function pf(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=jr(-1,1),e.tag=2,Wr(r,e,1))),r.lanes|=1),t)}var eb=Er.ReactCurrentOwner,xt=!1;function lt(t,e,r,n){e.child=t===null?yg(e,null,r,n):Rs(e,t.child,r,n)}function mf(t,e,r,n,s){r=r.render;var i=e.ref;return js(e,s),n=Ad(t,e,r,n,i,s),r=Id(),t!==null&&!xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,kr(t,e,s)):(Re&&r&&jd(e),e.flags|=1,lt(t,e,n,s),e.child)}function gf(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!qd(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Vg(t,e,i,n,s)):(t=bo(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Vi,r(a,n)&&t.ref===e.ref)return kr(t,e,s)}return e.flags|=1,t=Jr(i,n),t.ref=e.ref,t.return=e,e.child=t}function Vg(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Vi(i,n)&&t.ref===e.ref)if(xt=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(xt=!0);else return e.lanes=t.lanes,kr(t,e,s)}return gu(t,e,r,n,s)}function qg(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(gs,kt),kt|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ne(gs,kt),kt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ne(gs,kt),kt|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Ne(gs,kt),kt|=n;return lt(t,e,s,r),e.child}function Wg(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function gu(t,e,r,n,s){var i=bt(r)?Rn:ot.current;return i=Cs(e,i),js(e,s),r=Ad(t,e,r,n,i,s),n=Id(),t!==null&&!xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,kr(t,e,s)):(Re&&n&&jd(e),e.flags|=1,lt(t,e,r,s),e.child)}function vf(t,e,r,n,s){if(bt(r)){var i=!0;$o(e)}else i=!1;if(js(e,s),e.stateNode===null)yo(t,e),Fg(e,r,n),pu(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ft(u):(u=bt(r)?Rn:ot.current,u=Cs(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&df(e,a,n,u),Lr=!1;var p=e.memoizedState;a.state=p,Bo(e,n,a,s),c=e.memoizedState,l!==n||p!==c||wt.current||Lr?(typeof d=="function"&&(fu(e,r,d,n),c=e.memoizedState),(l=Lr||uf(e,r,l,n,p,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,wg(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Jt(e.type,l),a.props=u,h=e.pendingProps,p=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ft(c):(c=bt(r)?Rn:ot.current,c=Cs(e,c));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||p!==c)&&df(e,a,n,c),Lr=!1,p=e.memoizedState,a.state=p,Bo(e,n,a,s);var g=e.memoizedState;l!==h||p!==g||wt.current||Lr?(typeof f=="function"&&(fu(e,r,f,n),g=e.memoizedState),(u=Lr||uf(e,r,u,n,p,g,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),a.props=n,a.state=g,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return vu(t,e,r,n,i,s)}function vu(t,e,r,n,s,i){Wg(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&tf(e,r,!1),kr(t,e,i);n=e.stateNode,eb.current=e;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Rs(e,t.child,null,i),e.child=Rs(e,null,l,i)):lt(t,e,l,i),e.memoizedState=n.state,s&&tf(e,r,!0),e.child}function Kg(t){var e=t.stateNode;e.pendingContext?ef(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ef(t,e.context,!1),Rd(t,e.containerInfo)}function yf(t,e,r,n,s){return Ps(),Sd(s),e.flags|=256,lt(t,e,r,n),e.child}var yu={dehydrated:null,treeContext:null,retryLane:0};function xu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Gg(t,e,r){var n=e.pendingProps,s=Te.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ne(Te,s&1),t===null)return du(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=_l(a,n,0,null),t=En(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=xu(r),e.memoizedState=yu,t):Md(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return tb(t,e,a,n,l,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Jr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Jr(l,i):(i=En(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?xu(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=yu,n}return i=t.child,t=i.sibling,n=Jr(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Md(t,e){return e=_l({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qa(t,e,r,n){return n!==null&&Sd(n),Rs(e,t.child,null,r),t=Md(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tb(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=fc(Error(U(422))),qa(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=_l({mode:"visible",children:n.children},s,0,null),i=En(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Rs(e,t.child,null,a),e.child.memoizedState=xu(a),e.memoizedState=yu,i);if(!(e.mode&1))return qa(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(U(419)),n=fc(i,n,void 0),qa(t,e,a,n)}if(l=(a&t.childLanes)!==0,xt||l){if(n=Qe,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Nr(t,s),tr(n,t,s,-1))}return Vd(),n=fc(Error(U(421))),qa(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=pb.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Rt=qr(s.nextSibling),Ot=e,Re=!0,Zt=null,t!==null&&($t[Mt++]=wr,$t[Mt++]=br,$t[Mt++]=On,wr=t.id,br=t.overflow,On=e),e=Md(e,n.children),e.flags|=4096,e)}function xf(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),hu(t.return,e,r)}function pc(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Jg(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(lt(t,e,n.children,r),n=Te.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xf(t,r,e);else if(t.tag===19)xf(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ne(Te,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Ho(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),pc(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ho(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}pc(e,!0,r,null,i);break;case"together":pc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function kr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ln|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,r=Jr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Jr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function rb(t,e,r){switch(e.tag){case 3:Kg(e),Ps();break;case 5:bg(e);break;case 1:bt(e.type)&&$o(e);break;case 4:Rd(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Ne(Uo,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ne(Te,Te.current&1),e.flags|=128,null):r&e.child.childLanes?Gg(t,e,r):(Ne(Te,Te.current&1),t=kr(t,e,r),t!==null?t.sibling:null);Ne(Te,Te.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Jg(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ne(Te,Te.current),n)break;return null;case 22:case 23:return e.lanes=0,qg(t,e,r)}return kr(t,e,r)}var Qg,wu,Yg,Xg;Qg=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};wu=function(){};Yg=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,jn(dr.current);var i=null;switch(r){case"input":s=Bc(t,s),n=Bc(t,n),i=[];break;case"select":s=Ae({},s,{value:void 0}),n=Ae({},n,{value:void 0}),i=[];break;case"textarea":s=qc(t,s),n=qc(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Io)}Kc(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($i.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($i.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ce("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Xg=function(t,e,r,n){r!==n&&(e.flags|=4)};function si(t,e){if(!Re)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function it(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function nb(t,e,r){var n=e.pendingProps;switch(_d(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(e),null;case 1:return bt(e.type)&&Do(),it(e),null;case 3:return n=e.stateNode,Os(),Pe(wt),Pe(ot),Td(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ha(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zt!==null&&(Cu(Zt),Zt=null))),wu(t,e),it(e),null;case 5:Od(e);var s=jn(Ji.current);if(r=e.type,t!==null&&e.stateNode!=null)Yg(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(U(166));return it(e),null}if(t=jn(dr.current),Ha(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[lr]=e,n[Ki]=i,t=(e.mode&1)!==0,r){case"dialog":Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":case"embed":Ce("load",n);break;case"video":case"audio":for(s=0;s<pi.length;s++)Ce(pi[s],n);break;case"source":Ce("error",n);break;case"img":case"image":case"link":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"input":Eh(n,i),Ce("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ce("invalid",n);break;case"textarea":Ph(n,i),Ce("invalid",n)}Kc(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ba(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ba(n.textContent,l,t),s=["children",""+l]):$i.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ce("scroll",n)}switch(r){case"input":Aa(n),Ch(n,i,!0);break;case"textarea":Aa(n),Rh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Io)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=km(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[lr]=e,t[Ki]=n,Qg(t,e,!1,!1),e.stateNode=t;e:{switch(a=Gc(r,n),r){case"dialog":Ce("cancel",t),Ce("close",t),s=n;break;case"iframe":case"object":case"embed":Ce("load",t),s=n;break;case"video":case"audio":for(s=0;s<pi.length;s++)Ce(pi[s],t);s=n;break;case"source":Ce("error",t),s=n;break;case"img":case"image":case"link":Ce("error",t),Ce("load",t),s=n;break;case"details":Ce("toggle",t),s=n;break;case"input":Eh(t,n),s=Bc(t,n),Ce("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Ae({},n,{value:void 0}),Ce("invalid",t);break;case"textarea":Ph(t,n),s=qc(t,n),Ce("invalid",t);break;default:s=n}Kc(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Pm(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Em(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Mi(t,c):typeof c=="number"&&Mi(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&($i.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ce("scroll",t):c!=null&&ld(t,i,c,a))}switch(r){case"input":Aa(t),Ch(t,n,!1);break;case"textarea":Aa(t),Rh(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Qr(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?ys(t,!!n.multiple,i,!1):n.defaultValue!=null&&ys(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Io)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return it(e),null;case 6:if(t&&e.stateNode!=null)Xg(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(U(166));if(r=jn(Ji.current),jn(dr.current),Ha(e)){if(n=e.stateNode,r=e.memoizedProps,n[lr]=e,(i=n.nodeValue!==r)&&(t=Ot,t!==null))switch(t.tag){case 3:Ba(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ba(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[lr]=e,e.stateNode=n}return it(e),null;case 13:if(Pe(Te),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Re&&Rt!==null&&e.mode&1&&!(e.flags&128))gg(),Ps(),e.flags|=98560,i=!1;else if(i=Ha(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[lr]=e}else Ps(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;it(e),i=!1}else Zt!==null&&(Cu(Zt),Zt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Te.current&1?Ke===0&&(Ke=3):Vd())),e.updateQueue!==null&&(e.flags|=4),it(e),null);case 4:return Os(),wu(t,e),t===null&&qi(e.stateNode.containerInfo),it(e),null;case 10:return Ed(e.type._context),it(e),null;case 17:return bt(e.type)&&Do(),it(e),null;case 19:if(Pe(Te),i=e.memoizedState,i===null)return it(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)si(i,!1);else{if(Ke!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ho(t),a!==null){for(e.flags|=128,si(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ne(Te,Te.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ue()>Ls&&(e.flags|=128,n=!0,si(i,!1),e.lanes=4194304)}else{if(!n)if(t=Ho(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),si(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Re)return it(e),null}else 2*Ue()-i.renderingStartTime>Ls&&r!==1073741824&&(e.flags|=128,n=!0,si(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ue(),e.sibling=null,r=Te.current,Ne(Te,n?r&1|2:r&1),e):(it(e),null);case 22:case 23:return Hd(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?kt&1073741824&&(it(e),e.subtreeFlags&6&&(e.flags|=8192)):it(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function sb(t,e){switch(_d(e),e.tag){case 1:return bt(e.type)&&Do(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Os(),Pe(wt),Pe(ot),Td(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Od(e),null;case 13:if(Pe(Te),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Ps()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pe(Te),null;case 4:return Os(),null;case 10:return Ed(e.type._context),null;case 22:case 23:return Hd(),null;case 24:return null;default:return null}}var Wa=!1,at=!1,ib=typeof WeakSet=="function"?WeakSet:Set,K=null;function ms(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){$e(t,e,n)}else r.current=null}function bu(t,e,r){try{r()}catch(n){$e(t,e,n)}}var wf=!1;function ab(t,e){if(su=To,t=ng(),bd(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var f;h!==r||s!==0&&h.nodeType!==3||(l=a+s),h!==i||n!==0&&h.nodeType!==3||(c=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===t)break t;if(p===r&&++u===s&&(l=a),p===i&&++d===n&&(c=a),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(iu={focusedElem:t,selectionRange:r},To=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,x=g.memoizedState,v=e.stateNode,m=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:Jt(e.type,y),x);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(S){$e(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return g=wf,wf=!1,g}function ki(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&bu(e,r,i)}s=s.next}while(s!==n)}}function bl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function ju(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Zg(t){var e=t.alternate;e!==null&&(t.alternate=null,Zg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lr],delete e[Ki],delete e[lu],delete e[Bw],delete e[Hw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function e0(t){return t.tag===5||t.tag===3||t.tag===4}function bf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||e0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _u(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Io));else if(n!==4&&(t=t.child,t!==null))for(_u(t,e,r),t=t.sibling;t!==null;)_u(t,e,r),t=t.sibling}function Su(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Su(t,e,r),t=t.sibling;t!==null;)Su(t,e,r),t=t.sibling}var Xe=null,Yt=!1;function Rr(t,e,r){for(r=r.child;r!==null;)t0(t,e,r),r=r.sibling}function t0(t,e,r){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(fl,r)}catch{}switch(r.tag){case 5:at||ms(r,e);case 6:var n=Xe,s=Yt;Xe=null,Rr(t,e,r),Xe=n,Yt=s,Xe!==null&&(Yt?(t=Xe,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Xe.removeChild(r.stateNode));break;case 18:Xe!==null&&(Yt?(t=Xe,r=r.stateNode,t.nodeType===8?oc(t.parentNode,r):t.nodeType===1&&oc(t,r),Bi(t)):oc(Xe,r.stateNode));break;case 4:n=Xe,s=Yt,Xe=r.stateNode.containerInfo,Yt=!0,Rr(t,e,r),Xe=n,Yt=s;break;case 0:case 11:case 14:case 15:if(!at&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&bu(r,e,a),s=s.next}while(s!==n)}Rr(t,e,r);break;case 1:if(!at&&(ms(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){$e(r,e,l)}Rr(t,e,r);break;case 21:Rr(t,e,r);break;case 22:r.mode&1?(at=(n=at)||r.memoizedState!==null,Rr(t,e,r),at=n):Rr(t,e,r);break;default:Rr(t,e,r)}}function jf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new ib),e.forEach(function(n){var s=mb.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Kt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Xe=l.stateNode,Yt=!1;break e;case 3:Xe=l.stateNode.containerInfo,Yt=!0;break e;case 4:Xe=l.stateNode.containerInfo,Yt=!0;break e}l=l.return}if(Xe===null)throw Error(U(160));t0(i,a,s),Xe=null,Yt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){$e(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)r0(e,t),e=e.sibling}function r0(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Kt(e,t),ar(t),n&4){try{ki(3,t,t.return),bl(3,t)}catch(y){$e(t,t.return,y)}try{ki(5,t,t.return)}catch(y){$e(t,t.return,y)}}break;case 1:Kt(e,t),ar(t),n&512&&r!==null&&ms(r,r.return);break;case 5:if(Kt(e,t),ar(t),n&512&&r!==null&&ms(r,r.return),t.flags&32){var s=t.stateNode;try{Mi(s,"")}catch(y){$e(t,t.return,y)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Sm(s,i),Gc(l,a);var u=Gc(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?Pm(s,h):d==="dangerouslySetInnerHTML"?Em(s,h):d==="children"?Mi(s,h):ld(s,d,h,u)}switch(l){case"input":Hc(s,i);break;case"textarea":Nm(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?ys(s,!!i.multiple,f,!1):p!==!!i.multiple&&(i.defaultValue!=null?ys(s,!!i.multiple,i.defaultValue,!0):ys(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ki]=i}catch(y){$e(t,t.return,y)}}break;case 6:if(Kt(e,t),ar(t),n&4){if(t.stateNode===null)throw Error(U(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){$e(t,t.return,y)}}break;case 3:if(Kt(e,t),ar(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Bi(e.containerInfo)}catch(y){$e(t,t.return,y)}break;case 4:Kt(e,t),ar(t);break;case 13:Kt(e,t),ar(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Fd=Ue())),n&4&&jf(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(at=(u=at)||d,Kt(e,t),at=u):Kt(e,t),ar(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(K=t,d=t.child;d!==null;){for(h=K=d;K!==null;){switch(p=K,f=p.child,p.tag){case 0:case 11:case 14:case 15:ki(4,p,p.return);break;case 1:ms(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){$e(n,r,y)}}break;case 5:ms(p,p.return);break;case 22:if(p.memoizedState!==null){Sf(h);continue}}f!==null?(f.return=p,K=f):Sf(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Cm("display",a))}catch(y){$e(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){$e(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Kt(e,t),ar(t),n&4&&jf(t);break;case 21:break;default:Kt(e,t),ar(t)}}function ar(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(e0(r)){var n=r;break e}r=r.return}throw Error(U(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Mi(s,""),n.flags&=-33);var i=bf(t);Su(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=bf(t);_u(t,l,a);break;default:throw Error(U(161))}}catch(c){$e(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ob(t,e,r){K=t,n0(t)}function n0(t,e,r){for(var n=(t.mode&1)!==0;K!==null;){var s=K,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Wa;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||at;l=Wa;var u=at;if(Wa=a,(at=c)&&!u)for(K=s;K!==null;)a=K,c=a.child,a.tag===22&&a.memoizedState!==null?Nf(s):c!==null?(c.return=a,K=c):Nf(s);for(;i!==null;)K=i,n0(i),i=i.sibling;K=s,Wa=l,at=u}_f(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,K=i):_f(t)}}function _f(t){for(;K!==null;){var e=K;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:at||bl(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!at)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Jt(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&of(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}of(e,a,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Bi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}at||e.flags&512&&ju(e)}catch(p){$e(e,e.return,p)}}if(e===t){K=null;break}if(r=e.sibling,r!==null){r.return=e.return,K=r;break}K=e.return}}function Sf(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var r=e.sibling;if(r!==null){r.return=e.return,K=r;break}K=e.return}}function Nf(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{bl(4,e)}catch(c){$e(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){$e(e,s,c)}}var i=e.return;try{ju(e)}catch(c){$e(e,i,c)}break;case 5:var a=e.return;try{ju(e)}catch(c){$e(e,a,c)}}}catch(c){$e(e,e.return,c)}if(e===t){K=null;break}var l=e.sibling;if(l!==null){l.return=e.return,K=l;break}K=e.return}}var lb=Math.ceil,Wo=Er.ReactCurrentDispatcher,zd=Er.ReactCurrentOwner,Ut=Er.ReactCurrentBatchConfig,ye=0,Qe=null,Be=null,Ze=0,kt=0,gs=en(0),Ke=0,Zi=null,Ln=0,jl=0,Ud=0,Ei=null,yt=null,Fd=0,Ls=1/0,vr=null,Ko=!1,Nu=null,Kr=null,Ka=!1,Ur=null,Go=0,Ci=0,ku=null,xo=-1,wo=0;function dt(){return ye&6?Ue():xo!==-1?xo:xo=Ue()}function Gr(t){return t.mode&1?ye&2&&Ze!==0?Ze&-Ze:qw.transition!==null?(wo===0&&(wo=Fm()),wo):(t=be,t!==0||(t=window.event,t=t===void 0?16:Gm(t.type)),t):1}function tr(t,e,r,n){if(50<Ci)throw Ci=0,ku=null,Error(U(185));pa(t,r,n),(!(ye&2)||t!==Qe)&&(t===Qe&&(!(ye&2)&&(jl|=r),Ke===4&&Ir(t,Ze)),jt(t,n),r===1&&ye===0&&!(e.mode&1)&&(Ls=Ue()+500,yl&&tn()))}function jt(t,e){var r=t.callbackNode;qx(t,e);var n=Oo(t,t===Qe?Ze:0);if(n===0)r!==null&&Lh(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Lh(r),e===1)t.tag===0?Vw(kf.bind(null,t)):fg(kf.bind(null,t)),Uw(function(){!(ye&6)&&tn()}),r=null;else{switch(Bm(n)){case 1:r=fd;break;case 4:r=zm;break;case 16:r=Ro;break;case 536870912:r=Um;break;default:r=Ro}r=d0(r,s0.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function s0(t,e){if(xo=-1,wo=0,ye&6)throw Error(U(327));var r=t.callbackNode;if(_s()&&t.callbackNode!==r)return null;var n=Oo(t,t===Qe?Ze:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Jo(t,n);else{e=n;var s=ye;ye|=2;var i=a0();(Qe!==t||Ze!==e)&&(vr=null,Ls=Ue()+500,kn(t,e));do try{db();break}catch(l){i0(t,l)}while(!0);kd(),Wo.current=i,ye=s,Be!==null?e=0:(Qe=null,Ze=0,e=Ke)}if(e!==0){if(e===2&&(s=Zc(t),s!==0&&(n=s,e=Eu(t,s))),e===1)throw r=Zi,kn(t,0),Ir(t,n),jt(t,Ue()),r;if(e===6)Ir(t,n);else{if(s=t.current.alternate,!(n&30)&&!cb(s)&&(e=Jo(t,n),e===2&&(i=Zc(t),i!==0&&(n=i,e=Eu(t,i))),e===1))throw r=Zi,kn(t,0),Ir(t,n),jt(t,Ue()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(U(345));case 2:pn(t,yt,vr);break;case 3:if(Ir(t,n),(n&130023424)===n&&(e=Fd+500-Ue(),10<e)){if(Oo(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){dt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ou(pn.bind(null,t,yt,vr),e);break}pn(t,yt,vr);break;case 4:if(Ir(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-er(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=Ue()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*lb(n/1960))-n,10<n){t.timeoutHandle=ou(pn.bind(null,t,yt,vr),n);break}pn(t,yt,vr);break;case 5:pn(t,yt,vr);break;default:throw Error(U(329))}}}return jt(t,Ue()),t.callbackNode===r?s0.bind(null,t):null}function Eu(t,e){var r=Ei;return t.current.memoizedState.isDehydrated&&(kn(t,e).flags|=256),t=Jo(t,e),t!==2&&(e=yt,yt=r,e!==null&&Cu(e)),t}function Cu(t){yt===null?yt=t:yt.push.apply(yt,t)}function cb(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!rr(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ir(t,e){for(e&=~Ud,e&=~jl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-er(e),n=1<<r;t[r]=-1,e&=~n}}function kf(t){if(ye&6)throw Error(U(327));_s();var e=Oo(t,0);if(!(e&1))return jt(t,Ue()),null;var r=Jo(t,e);if(t.tag!==0&&r===2){var n=Zc(t);n!==0&&(e=n,r=Eu(t,n))}if(r===1)throw r=Zi,kn(t,0),Ir(t,e),jt(t,Ue()),r;if(r===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,pn(t,yt,vr),jt(t,Ue()),null}function Bd(t,e){var r=ye;ye|=1;try{return t(e)}finally{ye=r,ye===0&&(Ls=Ue()+500,yl&&tn())}}function An(t){Ur!==null&&Ur.tag===0&&!(ye&6)&&_s();var e=ye;ye|=1;var r=Ut.transition,n=be;try{if(Ut.transition=null,be=1,t)return t()}finally{be=n,Ut.transition=r,ye=e,!(ye&6)&&tn()}}function Hd(){kt=gs.current,Pe(gs)}function kn(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,zw(r)),Be!==null)for(r=Be.return;r!==null;){var n=r;switch(_d(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Do();break;case 3:Os(),Pe(wt),Pe(ot),Td();break;case 5:Od(n);break;case 4:Os();break;case 13:Pe(Te);break;case 19:Pe(Te);break;case 10:Ed(n.type._context);break;case 22:case 23:Hd()}r=r.return}if(Qe=t,Be=t=Jr(t.current,null),Ze=kt=e,Ke=0,Zi=null,Ud=jl=Ln=0,yt=Ei=null,bn!==null){for(e=0;e<bn.length;e++)if(r=bn[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}bn=null}return t}function i0(t,e){do{var r=Be;try{if(kd(),go.current=qo,Vo){for(var n=Le.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Vo=!1}if(Tn=0,Je=We=Le=null,Ni=!1,Qi=0,zd.current=null,r===null||r.return===null){Ke=1,Zi=e,Be=null;break}e:{var i=t,a=r.return,l=r,c=e;if(e=Ze,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=ff(a);if(f!==null){f.flags&=-257,pf(f,a,l,i,e),f.mode&1&&hf(i,u,e),e=f,c=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(c),e.updateQueue=y}else g.add(c);break e}else{if(!(e&1)){hf(i,u,e),Vd();break e}c=Error(U(426))}}else if(Re&&l.mode&1){var x=ff(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),pf(x,a,l,i,e),Sd(Ts(c,l));break e}}i=c=Ts(c,l),Ke!==4&&(Ke=2),Ei===null?Ei=[i]:Ei.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=Bg(i,c,e);af(i,v);break e;case 1:l=c;var m=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Kr===null||!Kr.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=Hg(i,l,e);af(i,S);break e}}i=i.return}while(i!==null)}l0(r)}catch(N){e=N,Be===r&&r!==null&&(Be=r=r.return);continue}break}while(!0)}function a0(){var t=Wo.current;return Wo.current=qo,t===null?qo:t}function Vd(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),Qe===null||!(Ln&268435455)&&!(jl&268435455)||Ir(Qe,Ze)}function Jo(t,e){var r=ye;ye|=2;var n=a0();(Qe!==t||Ze!==e)&&(vr=null,kn(t,e));do try{ub();break}catch(s){i0(t,s)}while(!0);if(kd(),ye=r,Wo.current=n,Be!==null)throw Error(U(261));return Qe=null,Ze=0,Ke}function ub(){for(;Be!==null;)o0(Be)}function db(){for(;Be!==null&&!Dx();)o0(Be)}function o0(t){var e=u0(t.alternate,t,kt);t.memoizedProps=t.pendingProps,e===null?l0(t):Be=e,zd.current=null}function l0(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=sb(r,e),r!==null){r.flags&=32767,Be=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ke=6,Be=null;return}}else if(r=nb(r,e,kt),r!==null){Be=r;return}if(e=e.sibling,e!==null){Be=e;return}Be=e=t}while(e!==null);Ke===0&&(Ke=5)}function pn(t,e,r){var n=be,s=Ut.transition;try{Ut.transition=null,be=1,hb(t,e,r,n)}finally{Ut.transition=s,be=n}return null}function hb(t,e,r,n){do _s();while(Ur!==null);if(ye&6)throw Error(U(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Wx(t,i),t===Qe&&(Be=Qe=null,Ze=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ka||(Ka=!0,d0(Ro,function(){return _s(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ut.transition,Ut.transition=null;var a=be;be=1;var l=ye;ye|=4,zd.current=null,ab(t,r),r0(r,t),Tw(iu),To=!!su,iu=su=null,t.current=r,ob(r),$x(),ye=l,be=a,Ut.transition=i}else t.current=r;if(Ka&&(Ka=!1,Ur=t,Go=s),i=t.pendingLanes,i===0&&(Kr=null),Ux(r.stateNode),jt(t,Ue()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ko)throw Ko=!1,t=Nu,Nu=null,t;return Go&1&&t.tag!==0&&_s(),i=t.pendingLanes,i&1?t===ku?Ci++:(Ci=0,ku=t):Ci=0,tn(),null}function _s(){if(Ur!==null){var t=Bm(Go),e=Ut.transition,r=be;try{if(Ut.transition=null,be=16>t?16:t,Ur===null)var n=!1;else{if(t=Ur,Ur=null,Go=0,ye&6)throw Error(U(331));var s=ye;for(ye|=4,K=t.current;K!==null;){var i=K,a=i.child;if(K.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(K=u;K!==null;){var d=K;switch(d.tag){case 0:case 11:case 15:ki(8,d,i)}var h=d.child;if(h!==null)h.return=d,K=h;else for(;K!==null;){d=K;var p=d.sibling,f=d.return;if(Zg(d),d===u){K=null;break}if(p!==null){p.return=f,K=p;break}K=f}}}var g=i.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}K=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,K=a;else e:for(;K!==null;){if(i=K,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ki(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,K=v;break e}K=i.return}}var m=t.current;for(K=m;K!==null;){a=K;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,K=w;else e:for(a=m;K!==null;){if(l=K,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:bl(9,l)}}catch(N){$e(l,l.return,N)}if(l===a){K=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,K=S;break e}K=l.return}}if(ye=s,tn(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(fl,t)}catch{}n=!0}return n}finally{be=r,Ut.transition=e}}return!1}function Ef(t,e,r){e=Ts(r,e),e=Bg(t,e,1),t=Wr(t,e,1),e=dt(),t!==null&&(pa(t,1,e),jt(t,e))}function $e(t,e,r){if(t.tag===3)Ef(t,t,r);else for(;e!==null;){if(e.tag===3){Ef(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Kr===null||!Kr.has(n))){t=Ts(r,t),t=Hg(e,t,1),e=Wr(e,t,1),t=dt(),e!==null&&(pa(e,1,t),jt(e,t));break}}e=e.return}}function fb(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=dt(),t.pingedLanes|=t.suspendedLanes&r,Qe===t&&(Ze&r)===r&&(Ke===4||Ke===3&&(Ze&130023424)===Ze&&500>Ue()-Fd?kn(t,0):Ud|=r),jt(t,e)}function c0(t,e){e===0&&(t.mode&1?(e=$a,$a<<=1,!($a&130023424)&&($a=4194304)):e=1);var r=dt();t=Nr(t,e),t!==null&&(pa(t,e,r),jt(t,r))}function pb(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),c0(t,r)}function mb(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(U(314))}n!==null&&n.delete(e),c0(t,r)}var u0;u0=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||wt.current)xt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return xt=!1,rb(t,e,r);xt=!!(t.flags&131072)}else xt=!1,Re&&e.flags&1048576&&pg(e,zo,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;yo(t,e),t=e.pendingProps;var s=Cs(e,ot.current);js(e,r),s=Ad(null,e,n,t,s,r);var i=Id();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bt(n)?(i=!0,$o(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Pd(e),s.updater=wl,e.stateNode=s,s._reactInternals=e,pu(e,n,t,r),e=vu(null,e,n,!0,i,r)):(e.tag=0,Re&&i&&jd(e),lt(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(yo(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=vb(n),t=Jt(n,t),s){case 0:e=gu(null,e,n,t,r);break e;case 1:e=vf(null,e,n,t,r);break e;case 11:e=mf(null,e,n,t,r);break e;case 14:e=gf(null,e,n,Jt(n.type,t),r);break e}throw Error(U(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Jt(n,s),gu(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Jt(n,s),vf(t,e,n,s,r);case 3:e:{if(Kg(e),t===null)throw Error(U(387));n=e.pendingProps,i=e.memoizedState,s=i.element,wg(t,e),Bo(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ts(Error(U(423)),e),e=yf(t,e,n,r,s);break e}else if(n!==s){s=Ts(Error(U(424)),e),e=yf(t,e,n,r,s);break e}else for(Rt=qr(e.stateNode.containerInfo.firstChild),Ot=e,Re=!0,Zt=null,r=yg(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ps(),n===s){e=kr(t,e,r);break e}lt(t,e,n,r)}e=e.child}return e;case 5:return bg(e),t===null&&du(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,au(n,s)?a=null:i!==null&&au(n,i)&&(e.flags|=32),Wg(t,e),lt(t,e,a,r),e.child;case 6:return t===null&&du(e),null;case 13:return Gg(t,e,r);case 4:return Rd(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Rs(e,null,n,r):lt(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Jt(n,s),mf(t,e,n,s,r);case 7:return lt(t,e,e.pendingProps,r),e.child;case 8:return lt(t,e,e.pendingProps.children,r),e.child;case 12:return lt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Ne(Uo,n._currentValue),n._currentValue=a,i!==null)if(rr(i.value,a)){if(i.children===s.children&&!wt.current){e=kr(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=jr(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),hu(i.return,r,e),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(U(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),hu(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}lt(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,js(e,r),s=Ft(s),n=n(s),e.flags|=1,lt(t,e,n,r),e.child;case 14:return n=e.type,s=Jt(n,e.pendingProps),s=Jt(n.type,s),gf(t,e,n,s,r);case 15:return Vg(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Jt(n,s),yo(t,e),e.tag=1,bt(n)?(t=!0,$o(e)):t=!1,js(e,r),Fg(e,n,s),pu(e,n,s,r),vu(null,e,n,!0,t,r);case 19:return Jg(t,e,r);case 22:return qg(t,e,r)}throw Error(U(156,e.tag))};function d0(t,e){return Mm(t,e)}function gb(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(t,e,r,n){return new gb(t,e,r,n)}function qd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vb(t){if(typeof t=="function")return qd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ud)return 11;if(t===dd)return 14}return 2}function Jr(t,e){var r=t.alternate;return r===null?(r=zt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function bo(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")qd(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case as:return En(r.children,s,i,e);case cd:a=8,s|=8;break;case Mc:return t=zt(12,r,e,s|2),t.elementType=Mc,t.lanes=i,t;case zc:return t=zt(13,r,e,s),t.elementType=zc,t.lanes=i,t;case Uc:return t=zt(19,r,e,s),t.elementType=Uc,t.lanes=i,t;case bm:return _l(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xm:a=10;break e;case wm:a=9;break e;case ud:a=11;break e;case dd:a=14;break e;case Tr:a=16,n=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=zt(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function En(t,e,r,n){return t=zt(7,t,n,e),t.lanes=r,t}function _l(t,e,r,n){return t=zt(22,t,n,e),t.elementType=bm,t.lanes=r,t.stateNode={isHidden:!1},t}function mc(t,e,r){return t=zt(6,t,null,e),t.lanes=r,t}function gc(t,e,r){return e=zt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yb(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ql(0),this.expirationTimes=Ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ql(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Wd(t,e,r,n,s,i,a,l,c){return t=new yb(t,e,r,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=zt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pd(i),t}function xb(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:is,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function h0(t){if(!t)return Yr;t=t._reactInternals;e:{if(Un(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var r=t.type;if(bt(r))return hg(t,r,e)}return e}function f0(t,e,r,n,s,i,a,l,c){return t=Wd(r,n,!0,t,s,i,a,l,c),t.context=h0(null),r=t.current,n=dt(),s=Gr(r),i=jr(n,s),i.callback=e??null,Wr(r,i,s),t.current.lanes=s,pa(t,s,n),jt(t,n),t}function Sl(t,e,r,n){var s=e.current,i=dt(),a=Gr(s);return r=h0(r),e.context===null?e.context=r:e.pendingContext=r,e=jr(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Wr(s,e,a),t!==null&&(tr(t,s,a,i),mo(t,s,a)),a}function Qo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Cf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Kd(t,e){Cf(t,e),(t=t.alternate)&&Cf(t,e)}function wb(){return null}var p0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gd(t){this._internalRoot=t}Nl.prototype.render=Gd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Sl(t,e,null,null)};Nl.prototype.unmount=Gd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;An(function(){Sl(null,t,null,null)}),e[Sr]=null}};function Nl(t){this._internalRoot=t}Nl.prototype.unstable_scheduleHydration=function(t){if(t){var e=qm();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ar.length&&e!==0&&e<Ar[r].priority;r++);Ar.splice(r,0,t),r===0&&Km(t)}};function Jd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Pf(){}function bb(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Qo(a);i.call(u)}}var a=f0(e,n,t,0,null,!1,!1,"",Pf);return t._reactRootContainer=a,t[Sr]=a.current,qi(t.nodeType===8?t.parentNode:t),An(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Qo(c);l.call(u)}}var c=Wd(t,0,!1,null,null,!1,!1,"",Pf);return t._reactRootContainer=c,t[Sr]=c.current,qi(t.nodeType===8?t.parentNode:t),An(function(){Sl(e,c,r,n)}),c}function El(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Qo(a);l.call(c)}}Sl(e,a,t,s)}else a=bb(r,e,t,s,n);return Qo(a)}Hm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=fi(e.pendingLanes);r!==0&&(pd(e,r|1),jt(e,Ue()),!(ye&6)&&(Ls=Ue()+500,tn()))}break;case 13:An(function(){var n=Nr(t,1);if(n!==null){var s=dt();tr(n,t,1,s)}}),Kd(t,1)}};md=function(t){if(t.tag===13){var e=Nr(t,134217728);if(e!==null){var r=dt();tr(e,t,134217728,r)}Kd(t,134217728)}};Vm=function(t){if(t.tag===13){var e=Gr(t),r=Nr(t,e);if(r!==null){var n=dt();tr(r,t,e,n)}Kd(t,e)}};qm=function(){return be};Wm=function(t,e){var r=be;try{return be=t,e()}finally{be=r}};Qc=function(t,e,r){switch(e){case"input":if(Hc(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=vl(n);if(!s)throw Error(U(90));_m(n),Hc(n,s)}}}break;case"textarea":Nm(t,r);break;case"select":e=r.value,e!=null&&ys(t,!!r.multiple,e,!1)}};Tm=Bd;Lm=An;var jb={usingClientEntryPoint:!1,Events:[ga,us,vl,Rm,Om,Bd]},ii={findFiberByHostInstance:wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_b={bundleType:ii.bundleType,version:ii.version,rendererPackageName:ii.rendererPackageName,rendererConfig:ii.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Er.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Dm(t),t===null?null:t.stateNode},findFiberByHostInstance:ii.findFiberByHostInstance||wb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ga=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ga.isDisabled&&Ga.supportsFiber)try{fl=Ga.inject(_b),ur=Ga}catch{}}Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jb;Lt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jd(e))throw Error(U(200));return xb(t,e,null,r)};Lt.createRoot=function(t,e){if(!Jd(t))throw Error(U(299));var r=!1,n="",s=p0;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Wd(t,1,!1,null,null,r,!1,n,s),t[Sr]=e.current,qi(t.nodeType===8?t.parentNode:t),new Gd(e)};Lt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=Dm(e),t=t===null?null:t.stateNode,t};Lt.flushSync=function(t){return An(t)};Lt.hydrate=function(t,e,r){if(!kl(e))throw Error(U(200));return El(null,t,e,!0,r)};Lt.hydrateRoot=function(t,e,r){if(!Jd(t))throw Error(U(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=p0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=f0(e,null,t,1,r??null,s,!1,i,a),t[Sr]=e.current,qi(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Nl(e)};Lt.render=function(t,e,r){if(!kl(e))throw Error(U(200));return El(null,t,e,!1,r)};Lt.unmountComponentAtNode=function(t){if(!kl(t))throw Error(U(40));return t._reactRootContainer?(An(function(){El(null,null,t,!1,function(){t._reactRootContainer=null,t[Sr]=null})}),!0):!1};Lt.unstable_batchedUpdates=Bd;Lt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!kl(r))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return El(t,e,r,!1,n)};Lt.version="18.3.1-next-f1338f8080-20240426";function m0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m0)}catch(t){console.error(t)}}m0(),mm.exports=Lt;var g0=mm.exports,Rf=g0;Dc.createRoot=Rf.createRoot,Dc.hydrateRoot=Rf.hydrateRoot;const Sb="modulepreload",Nb=function(t){return"/"+t},Of={},As=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Nb(c),c in Of)return;Of[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Sb,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var v0=t=>{throw TypeError(t)},kb=(t,e,r)=>e.has(t)||v0("Cannot "+r),vc=(t,e,r)=>(kb(t,e,"read from private field"),r?r.call(t):e.get(t)),Eb=(t,e,r)=>e.has(t)?v0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Tf="popstate";function Cb(t={}){function e(n,s){let{pathname:i,search:a,hash:l}=n.location;return ea("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:fr(s)}return Rb(e,r,null,t)}function he(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Me(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Pb(){return Math.random().toString(36).substring(2,10)}function Lf(t,e){return{usr:t.state,key:t.key,idx:e}}function ea(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?rn(e):e,state:r,key:e&&e.key||n||Pb()}}function fr({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function rn(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function Rb(t,e,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,l="POP",c=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function h(){l="POP";let x=d(),v=x==null?null:x-u;u=x,c&&c({action:l,location:y.location,delta:v})}function p(x,v){l="PUSH";let m=ea(y.location,x,v);u=d()+1;let w=Lf(m,u),S=y.createHref(m);try{a.pushState(w,"",S)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(S)}i&&c&&c({action:l,location:y.location,delta:1})}function f(x,v){l="REPLACE";let m=ea(y.location,x,v);u=d();let w=Lf(m,u),S=y.createHref(m);a.replaceState(w,"",S),i&&c&&c({action:l,location:y.location,delta:0})}function g(x){return y0(x)}let y={get action(){return l},get location(){return t(s,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Tf,h),c=x,()=>{s.removeEventListener(Tf,h),c=null}},createHref(x){return e(s,x)},createURL:g,encodeLocation(x){let v=g(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:f,go(x){return a.go(x)}};return y}function y0(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),he(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:fr(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}var mi,Af=class{constructor(t){if(Eb(this,mi,new Map),t)for(let[e,r]of t)this.set(e,r)}get(t){if(vc(this,mi).has(t))return vc(this,mi).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){vc(this,mi).set(t,e)}};mi=new WeakMap;var Ob=new Set(["lazy","caseSensitive","path","id","index","children"]);function Tb(t){return Ob.has(t)}var Lb=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function Ab(t){return Lb.has(t)}function Ib(t){return t.index===!0}function ta(t,e,r=[],n={},s=!1){return t.map((i,a)=>{let l=[...r,String(a)],c=typeof i.id=="string"?i.id:l.join("-");if(he(i.index!==!0||!i.children,"Cannot specify children on an index route"),he(s||!n[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),Ib(i)){let u={...i,id:c};return n[c]=If(u,e(u)),u}else{let u={...i,id:c,children:void 0};return n[c]=If(u,e(u)),i.children&&(u.children=ta(i.children,e,l,n,s)),u}})}function If(t,e){return Object.assign(t,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...t.lazy,...e.lazy}}:{}})}function Dr(t,e,r="/"){return gi(t,e,r,!1)}function gi(t,e,r,n){let s=typeof e=="string"?rn(e):e,i=Ht(s.pathname||"/",r);if(i==null)return null;let a=x0(t);$b(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=Gb(i);l=Wb(a[c],u,n)}return l}function Db(t,e){let{route:r,pathname:n,params:s}=t;return{id:r.id,pathname:n,params:s,data:e[r.id],loaderData:e[r.id],handle:r.handle}}function x0(t,e=[],r=[],n="",s=!1){let i=(a,l,c=s,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;he(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let h=hr([n,d.relativePath]),p=r.concat(d);a.children&&a.children.length>0&&(he(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),x0(a.children,e,p,h,c)),!(a.path==null&&!a.index)&&e.push({path:h,score:Vb(h,a.index),routesMeta:p})};return t.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let u of w0(a.path))i(a,l,!0,u)}),e}function w0(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=w0(n.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function $b(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:qb(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Mb=/^:[\w-]+$/,zb=3,Ub=2,Fb=1,Bb=10,Hb=-2,Df=t=>t==="*";function Vb(t,e){let r=t.split("/"),n=r.length;return r.some(Df)&&(n+=Hb),e&&(n+=Ub),r.filter(s=>!Df(s)).reduce((s,i)=>s+(Mb.test(i)?zb:i===""?Fb:Bb),n)}function qb(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function Wb(t,e,r=!1){let{routesMeta:n}=t,s={},i="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=Yo({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=Yo({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:hr([i,h.pathname]),pathnameBase:Xb(hr([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=hr([i,h.pathnameBase]))}return a}function Yo(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Kb(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:h},p)=>{if(d==="*"){let g=l[p]||"";a=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const f=l[p];return h&&!f?u[d]=void 0:u[d]=(f||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function Kb(t,e=!1,r=!0){Me(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Gb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Me(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ht(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Jb({basename:t,pathname:e}){return e==="/"?t:hr([t,e])}var Qb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cl=t=>Qb.test(t);function Yb(t,e="/"){let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?rn(t):t,i;if(r)if(Cl(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),Me(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${r}`)}r.startsWith("/")?i=$f(r.substring(1),"/"):i=$f(r,e)}else i=e;return{pathname:i,search:Zb(n),hash:ej(s)}}function $f(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function yc(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function b0(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Pl(t){let e=b0(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Rl(t,e,r,n=!1){let s;typeof t=="string"?s=rn(t):(s={...t},he(!s.pathname||!s.pathname.includes("?"),yc("?","pathname","search",s)),he(!s.pathname||!s.pathname.includes("#"),yc("#","pathname","hash",s)),he(!s.search||!s.search.includes("#"),yc("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}l=h>=0?e[h]:"/"}let c=Yb(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var hr=t=>t.join("/").replace(/\/\/+/g,"/"),Xb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Zb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ej=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Xo=class{constructor(t,e,r,n=!1){this.status=t,this.statusText=e||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function ra(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Qd(t){return t.filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Fr=Symbol("Uninstrumented");function tj(t,e){let r={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(s=>s({id:e.id,index:e.index,path:e.path,instrument(i){let a=Object.keys(r);for(let l of a)i[l]&&r[l].push(i[l])}}));let n={};if(typeof e.lazy=="function"&&r.lazy.length>0){let s=vs(r.lazy,e.lazy,()=>{});s&&(n.lazy=s)}if(typeof e.lazy=="object"){let s=e.lazy;["middleware","loader","action"].forEach(i=>{let a=s[i],l=r[`lazy.${i}`];if(typeof a=="function"&&l.length>0){let c=vs(l,a,()=>{});c&&(n.lazy=Object.assign(n.lazy||{},{[i]:c}))}})}return["loader","action"].forEach(s=>{let i=e[s];if(typeof i=="function"&&r[s].length>0){let a=i[Fr]??i,l=vs(r[s],a,(...c)=>Mf(c[0]));l&&(l[Fr]=a,n[s]=l)}}),e.middleware&&e.middleware.length>0&&r.middleware.length>0&&(n.middleware=e.middleware.map(s=>{let i=s[Fr]??s,a=vs(r.middleware,i,(...l)=>Mf(l[0]));return a?(a[Fr]=i,a):s})),n}function rj(t,e){let r={navigate:[],fetch:[]};if(e.forEach(n=>n({instrument(s){let i=Object.keys(s);for(let a of i)s[a]&&r[a].push(s[a])}})),r.navigate.length>0){let n=t.navigate[Fr]??t.navigate,s=vs(r.navigate,n,(...i)=>{let[a,l]=i;return{to:typeof a=="number"||typeof a=="string"?a:a?fr(a):".",...zf(t,l??{})}});s&&(s[Fr]=n,t.navigate=s)}if(r.fetch.length>0){let n=t.fetch[Fr]??t.fetch,s=vs(r.fetch,n,(...i)=>{let[a,,l,c]=i;return{href:l??".",fetcherKey:a,...zf(t,c??{})}});s&&(s[Fr]=n,t.fetch=s)}return t}function vs(t,e,r){return t.length===0?null:async(...n)=>{let s=await j0(t,r(...n),()=>e(...n),t.length-1);if(s.type==="error")throw s.value;return s.value}}async function j0(t,e,r,n){let s=t[n],i;if(s){let a,l=async()=>(a?console.error("You cannot call instrumented handlers more than once"):a=j0(t,e,r,n-1),i=await a,he(i,"Expected a result"),i.type==="error"&&i.value instanceof Error?{status:"error",error:i.value}:{status:"success",error:void 0});try{await s(l,e)}catch(c){console.error("An instrumentation function threw an error:",c)}a||await l(),await a}else try{i={type:"success",value:await r()}}catch(a){i={type:"error",value:a}}return i||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function Mf(t){let{request:e,context:r,params:n,unstable_pattern:s}=t;return{request:nj(e),params:{...n},unstable_pattern:s,context:sj(r)}}function zf(t,e){return{currentUrl:fr(t.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function nj(t){return{method:t.method,url:t.url,headers:{get:(...e)=>t.headers.get(...e)}}}function sj(t){if(aj(t)){let e={...t};return Object.freeze(e),e}else return{get:e=>t.get(e)}}var ij=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function aj(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===ij}var _0=["POST","PUT","PATCH","DELETE"],oj=new Set(_0),lj=["GET",..._0],cj=new Set(lj),uj=new Set([301,302,303,307,308]),dj=new Set([307,308]),xc={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hj={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ai={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},fj=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),S0="remix-router-transitions",N0=Symbol("ResetLoaderData");function pj(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";he(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=t.hydrationRouteProperties||[],s=t.mapRouteProperties||fj,i=s;if(t.unstable_instrumentations){let _=t.unstable_instrumentations;i=k=>({...s(k),...tj(_.map(P=>P.route).filter(Boolean),k)})}let a={},l=ta(t.routes,i,void 0,a),c,u=t.basename||"/";u.startsWith("/")||(u=`/${u}`);let d=t.dataStrategy||xj,h={...t.future},p=null,f=new Set,g=null,y=null,x=null,v=t.hydrationData!=null,m=Dr(l,t.history.location,u),w=!1,S=null,N;if(m==null&&!t.patchRoutesOnNavigation){let _=Dt(404,{pathname:t.history.location.pathname}),{matches:k,route:P}=Ja(l);N=!0,m=k,S={[P.id]:_}}else if(m&&!t.hydrationData&&Ea(m,l,t.history.location.pathname).active&&(m=null),m)if(m.some(_=>_.route.lazy))N=!1;else if(!m.some(_=>Yd(_.route)))N=!0;else{let _=t.hydrationData?t.hydrationData.loaderData:null,k=t.hydrationData?t.hydrationData.errors:null;if(k){let P=m.findIndex($=>k[$.route.id]!==void 0);N=m.slice(0,P+1).every($=>!Ru($.route,_,k))}else N=m.every(P=>!Ru(P.route,_,k))}else{N=!1,m=[];let _=Ea(null,l,t.history.location.pathname);_.active&&_.matches&&(w=!0,m=_.matches)}let R,j={historyAction:t.history.action,location:t.history.location,matches:m,initialized:N,navigation:xc,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||S,fetchers:new Map,blockers:new Map},T="POP",M=!1,E,W=!1,Q=new Map,G=null,L=!1,A=!1,z=new Set,D=new Map,O=0,I=-1,H=new Map,F=new Set,oe=new Map,xe=new Map,pe=new Set,we=new Map,je,V=null;function ge(){if(p=t.history.listen(({action:_,location:k,delta:P})=>{if(je){je(),je=void 0;return}Me(we.size===0||P!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let $=gh({currentLocation:j.location,nextLocation:k,historyAction:_});if($&&P!=null){let B=new Promise(ee=>{je=ee});t.history.go(P*-1),qn($,{state:"blocked",location:k,proceed(){qn($,{state:"proceeding",proceed:void 0,reset:void 0,location:k}),B.then(()=>t.history.go(P))},reset(){let ee=new Map(j.blockers);ee.set($,ai),C({blockers:ee})}});return}return mt(_,k)}),r){Aj(e,Q);let _=()=>Ij(e,Q);e.addEventListener("pagehide",_),G=()=>e.removeEventListener("pagehide",_)}return j.initialized||mt("POP",j.location,{initialHydration:!0}),R}function He(){p&&p(),G&&G(),f.clear(),E&&E.abort(),j.fetchers.forEach((_,k)=>Js(k)),j.blockers.forEach((_,k)=>Cr(k))}function sr(_){return f.add(_),()=>f.delete(_)}function C(_,k={}){_.matches&&(_.matches=_.matches.map(B=>{let ee=a[B.route.id],te=B.route;return te.element!==ee.element||te.errorElement!==ee.errorElement||te.hydrateFallbackElement!==ee.hydrateFallbackElement?{...B,route:ee}:B})),j={...j,..._};let P=[],$=[];j.fetchers.forEach((B,ee)=>{B.state==="idle"&&(pe.has(ee)?P.push(ee):$.push(ee))}),pe.forEach(B=>{!j.fetchers.has(B)&&!D.has(B)&&P.push(B)}),[...f].forEach(B=>B(j,{deletedFetchers:P,viewTransitionOpts:k.viewTransitionOpts,flushSync:k.flushSync===!0})),P.forEach(B=>Js(B)),$.forEach(B=>j.fetchers.delete(B))}function ue(_,k,{flushSync:P}={}){var le,ne;let $=j.actionData!=null&&j.navigation.formMethod!=null&&ct(j.navigation.formMethod)&&j.navigation.state==="loading"&&((le=_.state)==null?void 0:le._isRedirect)!==!0,B;k.actionData?Object.keys(k.actionData).length>0?B=k.actionData:B=null:$?B=j.actionData:B=null;let ee=k.loaderData?Jf(j.loaderData,k.loaderData,k.matches||[],k.errors):j.loaderData,te=j.blockers;te.size>0&&(te=new Map(te),te.forEach((de,_e)=>te.set(_e,ai)));let Y=L?!1:yh(_,k.matches||j.matches),re=M===!0||j.navigation.formMethod!=null&&ct(j.navigation.formMethod)&&((ne=_.state)==null?void 0:ne._isRedirect)!==!0;c&&(l=c,c=void 0),L||T==="POP"||(T==="PUSH"?t.history.push(_,_.state):T==="REPLACE"&&t.history.replace(_,_.state));let se;if(T==="POP"){let de=Q.get(j.location.pathname);de&&de.has(_.pathname)?se={currentLocation:j.location,nextLocation:_}:Q.has(_.pathname)&&(se={currentLocation:_,nextLocation:j.location})}else if(W){let de=Q.get(j.location.pathname);de?de.add(_.pathname):(de=new Set([_.pathname]),Q.set(j.location.pathname,de)),se={currentLocation:j.location,nextLocation:_}}C({...k,actionData:B,loaderData:ee,historyAction:T,location:_,initialized:!0,navigation:xc,revalidation:"idle",restoreScrollPosition:Y,preventScrollReset:re,blockers:te},{viewTransitionOpts:se,flushSync:P===!0}),T="POP",M=!1,W=!1,L=!1,A=!1,V==null||V.resolve(),V=null}async function rt(_,k){if(typeof _=="number"){t.history.go(_);return}let P=Pu(j.location,j.matches,u,_,k==null?void 0:k.fromRouteId,k==null?void 0:k.relative),{path:$,submission:B,error:ee}=Uf(!1,P,k),te=j.location,Y=ea(j.location,$,k&&k.state);Y={...Y,...t.history.encodeLocation(Y)};let re=k&&k.replace!=null?k.replace:void 0,se="PUSH";re===!0?se="REPLACE":re===!1||B!=null&&ct(B.formMethod)&&B.formAction===j.location.pathname+j.location.search&&(se="REPLACE");let le=k&&"preventScrollReset"in k?k.preventScrollReset===!0:void 0,ne=(k&&k.flushSync)===!0,de=gh({currentLocation:te,nextLocation:Y,historyAction:se});if(de){qn(de,{state:"blocked",location:Y,proceed(){qn(de,{state:"proceeding",proceed:void 0,reset:void 0,location:Y}),rt(_,k)},reset(){let _e=new Map(j.blockers);_e.set(de,ai),C({blockers:_e})}});return}await mt(se,Y,{submission:B,pendingError:ee,preventScrollReset:le,replace:k&&k.replace,enableViewTransition:k&&k.viewTransition,flushSync:ne})}function Ie(){V||(V=Dj()),Vn(),C({revalidation:"loading"});let _=V.promise;return j.navigation.state==="submitting"?_:j.navigation.state==="idle"?(mt(j.historyAction,j.location,{startUninterruptedRevalidation:!0}),_):(mt(T||j.historyAction,j.navigation.location,{overrideNavigation:j.navigation,enableViewTransition:W===!0}),_)}async function mt(_,k,P){E&&E.abort(),E=null,T=_,L=(P&&P.startUninterruptedRevalidation)===!0,Wy(j.location,j.matches),M=(P&&P.preventScrollReset)===!0,W=(P&&P.enableViewTransition)===!0;let $=c||l,B=P&&P.overrideNavigation,ee=P!=null&&P.initialHydration&&j.matches&&j.matches.length>0&&!w?j.matches:Dr($,k,u),te=(P&&P.flushSync)===!0;if(ee&&j.initialized&&!A&&Ej(j.location,k)&&!(P&&P.submission&&ct(P.submission.formMethod))){ue(k,{matches:ee},{flushSync:te});return}let Y=Ea(ee,$,k.pathname);if(Y.active&&Y.matches&&(ee=Y.matches),!ee){let{error:Ge,notFoundMatches:ke,route:Ee}=Hl(k.pathname);ue(k,{matches:ke,loaderData:{},errors:{[Ee.id]:Ge}},{flushSync:te});return}E=new AbortController;let re=rs(t.history,k,E.signal,P&&P.submission),se=t.getContext?await t.getContext():new Af,le;if(P&&P.pendingError)le=[$r(ee).route.id,{type:"error",error:P.pendingError}];else if(P&&P.submission&&ct(P.submission.formMethod)){let Ge=await Ws(re,k,P.submission,ee,se,Y.active,P&&P.initialHydration===!0,{replace:P.replace,flushSync:te});if(Ge.shortCircuited)return;if(Ge.pendingActionResult){let[ke,Ee]=Ge.pendingActionResult;if(Et(Ee)&&ra(Ee.error)&&Ee.error.status===404){E=null,ue(k,{matches:Ge.matches,loaderData:{},errors:{[ke]:Ee.error}});return}}ee=Ge.matches||ee,le=Ge.pendingActionResult,B=wc(k,P.submission),te=!1,Y.active=!1,re=rs(t.history,re.url,re.signal)}let{shortCircuited:ne,matches:de,loaderData:_e,errors:Ve}=await ja(re,k,ee,se,Y.active,B,P&&P.submission,P&&P.fetcherSubmission,P&&P.replace,P&&P.initialHydration===!0,te,le);ne||(E=null,ue(k,{matches:de||ee,...Qf(le),loaderData:_e,errors:Ve}))}async function Ws(_,k,P,$,B,ee,te,Y={}){Vn();let re=Tj(k,P);if(C({navigation:re},{flushSync:Y.flushSync===!0}),ee){let ne=await Ca($,k.pathname,_.signal);if(ne.type==="aborted")return{shortCircuited:!0};if(ne.type==="error"){if(ne.partialMatches.length===0){let{matches:_e,route:Ve}=Ja(l);return{matches:_e,pendingActionResult:[Ve.id,{type:"error",error:ne.error}]}}let de=$r(ne.partialMatches).route.id;return{matches:ne.partialMatches,pendingActionResult:[de,{type:"error",error:ne.error}]}}else if(ne.matches)$=ne.matches;else{let{notFoundMatches:de,error:_e,route:Ve}=Hl(k.pathname);return{matches:de,pendingActionResult:[Ve.id,{type:"error",error:_e}]}}}let se,le=jo($,k);if(!le.route.action&&!le.route.lazy)se={type:"error",error:Dt(405,{method:_.method,pathname:k.pathname,routeId:le.route.id})};else{let ne=Ss(i,a,_,$,le,te?[]:n,B),de=await on(_,ne,B,null);if(se=de[le.route.id],!se){for(let _e of $)if(de[_e.route.id]){se=de[_e.route.id];break}}if(_.signal.aborted)return{shortCircuited:!0}}if(_n(se)){let ne;return Y&&Y.replace!=null?ne=Y.replace:ne=Wf(se.response.headers.get("Location"),new URL(_.url),u)===j.location.pathname+j.location.search,await It(_,se,!0,{submission:P,replace:ne}),{shortCircuited:!0}}if(Et(se)){let ne=$r($,le.route.id);return(Y&&Y.replace)!==!0&&(T="PUSH"),{matches:$,pendingActionResult:[ne.route.id,se,le.route.id]}}return{matches:$,pendingActionResult:[le.route.id,se]}}async function ja(_,k,P,$,B,ee,te,Y,re,se,le,ne){let de=ee||wc(k,te),_e=te||Y||Xf(de),Ve=!L&&!se;if(B){if(Ve){let nt=Bn(ne);C({navigation:de,...nt!==void 0?{actionData:nt}:{}},{flushSync:le})}let ve=await Ca(P,k.pathname,_.signal);if(ve.type==="aborted")return{shortCircuited:!0};if(ve.type==="error"){if(ve.partialMatches.length===0){let{matches:Wn,route:un}=Ja(l);return{matches:Wn,loaderData:{},errors:{[un.id]:ve.error}}}let nt=$r(ve.partialMatches).route.id;return{matches:ve.partialMatches,loaderData:{},errors:{[nt]:ve.error}}}else if(ve.matches)P=ve.matches;else{let{error:nt,notFoundMatches:Wn,route:un}=Hl(k.pathname);return{matches:Wn,loaderData:{},errors:{[un.id]:nt}}}}let Ge=c||l,{dsMatches:ke,revalidatingFetchers:Ee}=Ff(_,$,i,a,t.history,j,P,_e,k,se?[]:n,se===!0,A,z,pe,oe,F,Ge,u,t.patchRoutesOnNavigation!=null,ne);if(I=++O,!t.dataStrategy&&!ke.some(ve=>ve.shouldLoad)&&!ke.some(ve=>ve.route.middleware&&ve.route.middleware.length>0)&&Ee.length===0){let ve=ze();return ue(k,{matches:P,loaderData:{},errors:ne&&Et(ne[1])?{[ne[0]]:ne[1].error}:null,...Qf(ne),...ve?{fetchers:new Map(j.fetchers)}:{}},{flushSync:le}),{shortCircuited:!0}}if(Ve){let ve={};if(!B){ve.navigation=de;let nt=Bn(ne);nt!==void 0&&(ve.actionData=nt)}Ee.length>0&&(ve.fetchers=_a(Ee)),C(ve,{flushSync:le})}Ee.forEach(ve=>{St(ve.key),ve.controller&&D.set(ve.key,ve.controller)});let ln=()=>Ee.forEach(ve=>St(ve.key));E&&E.signal.addEventListener("abort",ln);let{loaderResults:Qs,fetcherResults:Pr}=await Hn(ke,Ee,_,$);if(_.signal.aborted)return{shortCircuited:!0};E&&E.signal.removeEventListener("abort",ln),Ee.forEach(ve=>D.delete(ve.key));let ir=Qa(Qs);if(ir)return await It(_,ir.result,!0,{replace:re}),{shortCircuited:!0};if(ir=Qa(Pr),ir)return F.add(ir.key),await It(_,ir.result,!0,{replace:re}),{shortCircuited:!0};let{loaderData:Vl,errors:Ys}=Gf(j,P,Qs,ne,Ee,Pr);se&&j.errors&&(Ys={...j.errors,...Ys});let cn=ze(),Pa=vt(I),Ra=cn||Pa||Ee.length>0;return{matches:P,loaderData:Vl,errors:Ys,...Ra?{fetchers:new Map(j.fetchers)}:{}}}function Bn(_){if(_&&!Et(_[1]))return{[_[0]]:_[1].data};if(j.actionData)return Object.keys(j.actionData).length===0?null:j.actionData}function _a(_){return _.forEach(k=>{let P=j.fetchers.get(k.key),$=oi(void 0,P?P.data:void 0);j.fetchers.set(k.key,$)}),new Map(j.fetchers)}async function Ks(_,k,P,$){St(_);let B=($&&$.flushSync)===!0,ee=c||l,te=Pu(j.location,j.matches,u,P,k,$==null?void 0:$.relative),Y=Dr(ee,te,u),re=Ea(Y,ee,te);if(re.active&&re.matches&&(Y=re.matches),!Y){Wt(_,k,Dt(404,{pathname:te}),{flushSync:B});return}let{path:se,submission:le,error:ne}=Uf(!0,te,$);if(ne){Wt(_,k,ne,{flushSync:B});return}let de=t.getContext?await t.getContext():new Af,_e=($&&$.preventScrollReset)===!0;if(le&&ct(le.formMethod)){await Sa(_,k,se,Y,de,re.active,B,_e,le);return}oe.set(_,{routeId:k,path:se}),await Gs(_,k,se,Y,de,re.active,B,_e,le)}async function Sa(_,k,P,$,B,ee,te,Y,re){Vn(),oe.delete(_);let se=j.fetchers.get(_);gt(_,Lj(re,se),{flushSync:te});let le=new AbortController,ne=rs(t.history,P,le.signal,re);if(ee){let De=await Ca($,new URL(ne.url).pathname,ne.signal,_);if(De.type==="aborted")return;if(De.type==="error"){Wt(_,k,De.error,{flushSync:te});return}else if(De.matches)$=De.matches;else{Wt(_,k,Dt(404,{pathname:P}),{flushSync:te});return}}let de=jo($,P);if(!de.route.action&&!de.route.lazy){let De=Dt(405,{method:re.formMethod,pathname:P,routeId:k});Wt(_,k,De,{flushSync:te});return}D.set(_,le);let _e=O,Ve=Ss(i,a,ne,$,de,n,B),Ge=await on(ne,Ve,B,_),ke=Ge[de.route.id];if(!ke){for(let De of Ve)if(Ge[De.route.id]){ke=Ge[De.route.id];break}}if(ne.signal.aborted){D.get(_)===le&&D.delete(_);return}if(pe.has(_)){if(_n(ke)||Et(ke)){gt(_,gr(void 0));return}}else{if(_n(ke))if(D.delete(_),I>_e){gt(_,gr(void 0));return}else return F.add(_),gt(_,oi(re)),It(ne,ke,!1,{fetcherSubmission:re,preventScrollReset:Y});if(Et(ke)){Wt(_,k,ke.error);return}}let Ee=j.navigation.location||j.location,ln=rs(t.history,Ee,le.signal),Qs=c||l,Pr=j.navigation.state!=="idle"?Dr(Qs,j.navigation.location,u):j.matches;he(Pr,"Didn't find any matches after fetcher action");let ir=++O;H.set(_,ir);let Vl=oi(re,ke.data);j.fetchers.set(_,Vl);let{dsMatches:Ys,revalidatingFetchers:cn}=Ff(ln,B,i,a,t.history,j,Pr,re,Ee,n,!1,A,z,pe,oe,F,Qs,u,t.patchRoutesOnNavigation!=null,[de.route.id,ke]);cn.filter(De=>De.key!==_).forEach(De=>{let Oa=De.key,wh=j.fetchers.get(Oa),Jy=oi(void 0,wh?wh.data:void 0);j.fetchers.set(Oa,Jy),St(Oa),De.controller&&D.set(Oa,De.controller)}),C({fetchers:new Map(j.fetchers)});let Pa=()=>cn.forEach(De=>St(De.key));le.signal.addEventListener("abort",Pa);let{loaderResults:Ra,fetcherResults:ve}=await Hn(Ys,cn,ln,B);if(le.signal.aborted)return;if(le.signal.removeEventListener("abort",Pa),H.delete(_),D.delete(_),cn.forEach(De=>D.delete(De.key)),j.fetchers.has(_)){let De=gr(ke.data);j.fetchers.set(_,De)}let nt=Qa(Ra);if(nt)return It(ln,nt.result,!1,{preventScrollReset:Y});if(nt=Qa(ve),nt)return F.add(nt.key),It(ln,nt.result,!1,{preventScrollReset:Y});let{loaderData:Wn,errors:un}=Gf(j,Pr,Ra,void 0,cn,ve);vt(ir),j.navigation.state==="loading"&&ir>I?(he(T,"Expected pending action"),E&&E.abort(),ue(j.navigation.location,{matches:Pr,loaderData:Wn,errors:un,fetchers:new Map(j.fetchers)})):(C({errors:un,loaderData:Jf(j.loaderData,Wn,Pr,un),fetchers:new Map(j.fetchers)}),A=!1)}async function Gs(_,k,P,$,B,ee,te,Y,re){let se=j.fetchers.get(_);gt(_,oi(re,se?se.data:void 0),{flushSync:te});let le=new AbortController,ne=rs(t.history,P,le.signal);if(ee){let Ee=await Ca($,new URL(ne.url).pathname,ne.signal,_);if(Ee.type==="aborted")return;if(Ee.type==="error"){Wt(_,k,Ee.error,{flushSync:te});return}else if(Ee.matches)$=Ee.matches;else{Wt(_,k,Dt(404,{pathname:P}),{flushSync:te});return}}let de=jo($,P);D.set(_,le);let _e=O,Ve=Ss(i,a,ne,$,de,n,B),ke=(await on(ne,Ve,B,_))[de.route.id];if(D.get(_)===le&&D.delete(_),!ne.signal.aborted){if(pe.has(_)){gt(_,gr(void 0));return}if(_n(ke))if(I>_e){gt(_,gr(void 0));return}else{F.add(_),await It(ne,ke,!1,{preventScrollReset:Y});return}if(Et(ke)){Wt(_,k,ke.error);return}gt(_,gr(ke.data))}}async function It(_,k,P,{submission:$,fetcherSubmission:B,preventScrollReset:ee,replace:te}={}){k.response.headers.has("X-Remix-Revalidate")&&(A=!0);let Y=k.response.headers.get("Location");he(Y,"Expected a Location header on the redirect Response"),Y=Wf(Y,new URL(_.url),u);let re=ea(j.location,Y,{_isRedirect:!0});if(r){let Ve=!1;if(k.response.headers.has("X-Remix-Reload-Document"))Ve=!0;else if(Cl(Y)){const Ge=y0(Y,!0);Ve=Ge.origin!==e.location.origin||Ht(Ge.pathname,u)==null}if(Ve){te?e.location.replace(Y):e.location.assign(Y);return}}E=null;let se=te===!0||k.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:le,formAction:ne,formEncType:de}=j.navigation;!$&&!B&&le&&ne&&de&&($=Xf(j.navigation));let _e=$||B;if(dj.has(k.response.status)&&_e&&ct(_e.formMethod))await mt(se,re,{submission:{..._e,formAction:Y},preventScrollReset:ee||M,enableViewTransition:P?W:void 0});else{let Ve=wc(re,$);await mt(se,re,{overrideNavigation:Ve,fetcherSubmission:B,preventScrollReset:ee||M,enableViewTransition:P?W:void 0})}}async function on(_,k,P,$){let B,ee={};try{B=await bj(d,_,k,$,P,!1)}catch(te){return k.filter(Y=>Y.shouldLoad).forEach(Y=>{ee[Y.route.id]={type:"error",error:te}}),ee}if(_.signal.aborted)return ee;for(let[te,Y]of Object.entries(B))if(Rj(Y)){let re=Y.result;ee[te]={type:"redirect",response:Nj(re,_,te,k,u)}}else ee[te]=await Sj(Y);return ee}async function Hn(_,k,P,$){let B=on(P,_,$,null),ee=Promise.all(k.map(async re=>{if(re.matches&&re.match&&re.request&&re.controller){let le=(await on(re.request,re.matches,$,re.key))[re.match.route.id];return{[re.key]:le}}else return Promise.resolve({[re.key]:{type:"error",error:Dt(404,{pathname:re.path})}})})),te=await B,Y=(await ee).reduce((re,se)=>Object.assign(re,se),{});return{loaderResults:te,fetcherResults:Y}}function Vn(){A=!0,oe.forEach((_,k)=>{D.has(k)&&z.add(k),St(k)})}function gt(_,k,P={}){j.fetchers.set(_,k),C({fetchers:new Map(j.fetchers)},{flushSync:(P&&P.flushSync)===!0})}function Wt(_,k,P,$={}){let B=$r(j.matches,k);Js(_),C({errors:{[B.route.id]:P},fetchers:new Map(j.fetchers)},{flushSync:($&&$.flushSync)===!0})}function Na(_){return xe.set(_,(xe.get(_)||0)+1),pe.has(_)&&pe.delete(_),j.fetchers.get(_)||hj}function Bl(_,k){St(_,k==null?void 0:k.reason),gt(_,gr(null))}function Js(_){let k=j.fetchers.get(_);D.has(_)&&!(k&&k.state==="loading"&&H.has(_))&&St(_),oe.delete(_),H.delete(_),F.delete(_),pe.delete(_),z.delete(_),j.fetchers.delete(_)}function ka(_){let k=(xe.get(_)||0)-1;k<=0?(xe.delete(_),pe.add(_)):xe.set(_,k),C({fetchers:new Map(j.fetchers)})}function St(_,k){let P=D.get(_);P&&(P.abort(k),D.delete(_))}function q(_){for(let k of _){let P=Na(k),$=gr(P.data);j.fetchers.set(k,$)}}function ze(){let _=[],k=!1;for(let P of F){let $=j.fetchers.get(P);he($,`Expected fetcher: ${P}`),$.state==="loading"&&(F.delete(P),_.push(P),k=!0)}return q(_),k}function vt(_){let k=[];for(let[P,$]of H)if($<_){let B=j.fetchers.get(P);he(B,`Expected fetcher: ${P}`),B.state==="loading"&&(St(P),H.delete(P),k.push(P))}return q(k),k.length>0}function pr(_,k){let P=j.blockers.get(_)||ai;return we.get(_)!==k&&we.set(_,k),P}function Cr(_){j.blockers.delete(_),we.delete(_)}function qn(_,k){let P=j.blockers.get(_)||ai;he(P.state==="unblocked"&&k.state==="blocked"||P.state==="blocked"&&k.state==="blocked"||P.state==="blocked"&&k.state==="proceeding"||P.state==="blocked"&&k.state==="unblocked"||P.state==="proceeding"&&k.state==="unblocked",`Invalid blocker state transition: ${P.state} -> ${k.state}`);let $=new Map(j.blockers);$.set(_,k),C({blockers:$})}function gh({currentLocation:_,nextLocation:k,historyAction:P}){if(we.size===0)return;we.size>1&&Me(!1,"A router only supports one blocker at a time");let $=Array.from(we.entries()),[B,ee]=$[$.length-1],te=j.blockers.get(B);if(!(te&&te.state==="proceeding")&&ee({currentLocation:_,nextLocation:k,historyAction:P}))return B}function Hl(_){let k=Dt(404,{pathname:_}),P=c||l,{matches:$,route:B}=Ja(P);return{notFoundMatches:$,route:B,error:k}}function qy(_,k,P){if(g=_,x=k,y=P||null,!v&&j.navigation===xc){v=!0;let $=yh(j.location,j.matches);$!=null&&C({restoreScrollPosition:$})}return()=>{g=null,x=null,y=null}}function vh(_,k){return y&&y(_,k.map($=>Db($,j.loaderData)))||_.key}function Wy(_,k){if(g&&x){let P=vh(_,k);g[P]=x()}}function yh(_,k){if(g){let P=vh(_,k),$=g[P];if(typeof $=="number")return $}return null}function Ea(_,k,P){if(t.patchRoutesOnNavigation)if(_){if(Object.keys(_[0].params).length>0)return{active:!0,matches:gi(k,P,u,!0)}}else return{active:!0,matches:gi(k,P,u,!0)||[]};return{active:!1,matches:null}}async function Ca(_,k,P,$){if(!t.patchRoutesOnNavigation)return{type:"success",matches:_};let B=_;for(;;){let ee=c==null,te=c||l,Y=a;try{await t.patchRoutesOnNavigation({signal:P,path:k,matches:B,fetcherKey:$,patch:(le,ne)=>{P.aborted||Bf(le,ne,te,Y,i,!1)}})}catch(le){return{type:"error",error:le,partialMatches:B}}finally{ee&&!P.aborted&&(l=[...l])}if(P.aborted)return{type:"aborted"};let re=Dr(te,k,u),se=null;if(re){if(Object.keys(re[0].params).length===0)return{type:"success",matches:re};if(se=gi(te,k,u,!0),!(se&&B.length<se.length&&xh(B,se.slice(0,B.length))))return{type:"success",matches:re}}if(se||(se=gi(te,k,u,!0)),!se||xh(B,se))return{type:"success",matches:null};B=se}}function xh(_,k){return _.length===k.length&&_.every((P,$)=>P.route.id===k[$].route.id)}function Ky(_){a={},c=ta(_,i,void 0,a)}function Gy(_,k,P=!1){let $=c==null;Bf(_,k,c||l,a,i,P),$&&(l=[...l],C({}))}return R={get basename(){return u},get future(){return h},get state(){return j},get routes(){return l},get window(){return e},initialize:ge,subscribe:sr,enableScrollRestoration:qy,navigate:rt,fetch:Ks,revalidate:Ie,createHref:_=>t.history.createHref(_),encodeLocation:_=>t.history.encodeLocation(_),getFetcher:Na,resetFetcher:Bl,deleteFetcher:ka,dispose:He,getBlocker:pr,deleteBlocker:Cr,patchRoutes:Gy,_internalFetchControllers:D,_internalSetRoutes:Ky,_internalSetStateDoNotUseOrYouWillBreakYourApp(_){C(_)}},t.unstable_instrumentations&&(R=rj(R,t.unstable_instrumentations.map(_=>_.router).filter(Boolean))),R}function mj(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Pu(t,e,r,n,s,i){let a,l;if(s){a=[];for(let u of e)if(a.push(u),u.route.id===s){l=u;break}}else a=e,l=e[e.length-1];let c=Rl(n||".",Pl(a),Ht(t.pathname,r)||t.pathname,i==="path");if(n==null&&(c.search=t.search,c.hash=t.hash),(n==null||n===""||n===".")&&l){let u=Xd(c.search);if(l.route.index&&!u)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&u){let d=new URLSearchParams(c.search),h=d.getAll("index");d.delete("index"),h.filter(f=>f).forEach(f=>d.append("index",f));let p=d.toString();c.search=p?`?${p}`:""}}return r!=="/"&&(c.pathname=Jb({basename:r,pathname:c.pathname})),fr(c)}function Uf(t,e,r){if(!r||!mj(r))return{path:e};if(r.formMethod&&!Oj(r.formMethod))return{path:e,error:Dt(405,{method:r.formMethod})};let n=()=>({path:e,error:Dt(400,{type:"invalid-body"})}),i=(r.formMethod||"get").toUpperCase(),a=O0(e);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ct(i))return n();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,[f,g])=>`${p}${f}=${g}
`,""):String(r.body);return{path:e,submission:{formMethod:i,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!ct(i))return n();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:e,submission:{formMethod:i,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return n()}}}he(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Tu(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Tu(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=Kf(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=Kf(l)}catch{return n()}let u={formMethod:i,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(ct(u.formMethod))return{path:e,submission:u};let d=rn(e);return t&&d.search&&Xd(d.search)&&l.append("index",""),d.search=`?${l}`,{path:fr(d),submission:u}}function Ff(t,e,r,n,s,i,a,l,c,u,d,h,p,f,g,y,x,v,m,w){var L;let S=w?Et(w[1])?w[1].error:w[1].data:void 0,N=s.createURL(i.location),R=s.createURL(c),j;if(d&&i.errors){let A=Object.keys(i.errors)[0];j=a.findIndex(z=>z.route.id===A)}else if(w&&Et(w[1])){let A=w[0];j=a.findIndex(z=>z.route.id===A)-1}let T=w?w[1].statusCode:void 0,M=T&&T>=400,E={currentUrl:N,currentParams:((L=i.matches[0])==null?void 0:L.params)||{},nextUrl:R,nextParams:a[0].params,...l,actionResult:S,actionStatus:T},W=Qd(a.map(A=>A.route.path)),Q=a.map((A,z)=>{let{route:D}=A,O=null;if(j!=null&&z>j?O=!1:D.lazy?O=!0:Yd(D)?d?O=Ru(D,i.loaderData,i.errors):gj(i.loaderData,i.matches[z],A)&&(O=!0):O=!1,O!==null)return Ou(r,n,t,W,A,u,e,O);let I=M?!1:h||N.pathname+N.search===R.pathname+R.search||N.search!==R.search||vj(i.matches[z],A),H={...E,defaultShouldRevalidate:I},F=Zo(A,H);return Ou(r,n,t,W,A,u,e,F,H)}),G=[];return g.forEach((A,z)=>{if(d||!a.some(pe=>pe.route.id===A.routeId)||f.has(z))return;let D=i.fetchers.get(z),O=D&&D.state!=="idle"&&D.data===void 0,I=Dr(x,A.path,v);if(!I){if(m&&O)return;G.push({key:z,routeId:A.routeId,path:A.path,matches:null,match:null,request:null,controller:null});return}if(y.has(z))return;let H=jo(I,A.path),F=new AbortController,oe=rs(s,A.path,F.signal),xe=null;if(p.has(z))p.delete(z),xe=Ss(r,n,oe,I,H,u,e);else if(O)h&&(xe=Ss(r,n,oe,I,H,u,e));else{let pe={...E,defaultShouldRevalidate:M?!1:h};Zo(H,pe)&&(xe=Ss(r,n,oe,I,H,u,e,pe))}xe&&G.push({key:z,routeId:A.routeId,path:A.path,matches:xe,match:H,request:oe,controller:F})}),{dsMatches:Q,revalidatingFetchers:G}}function Yd(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function Ru(t,e,r){if(t.lazy)return!0;if(!Yd(t))return!1;let n=e!=null&&t.id in e,s=r!=null&&r[t.id]!==void 0;return!n&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!n&&!s}function gj(t,e,r){let n=!e||r.route.id!==e.route.id,s=!t.hasOwnProperty(r.route.id);return n||s}function vj(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function Zo(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function Bf(t,e,r,n,s,i){let a;if(t){let u=n[t];he(u,`No route found to patch children into: routeId = ${t}`),u.children||(u.children=[]),a=u.children}else a=r;let l=[],c=[];if(e.forEach(u=>{let d=a.find(h=>k0(u,h));d?c.push({existingRoute:d,newRoute:u}):l.push(u)}),l.length>0){let u=ta(l,s,[t||"_","patch",String((a==null?void 0:a.length)||"0")],n);a.push(...u)}if(i&&c.length>0)for(let u=0;u<c.length;u++){let{existingRoute:d,newRoute:h}=c[u],p=d,[f]=ta([h],s,[],{},!0);Object.assign(p,{element:f.element?f.element:p.element,errorElement:f.errorElement?f.errorElement:p.errorElement,hydrateFallbackElement:f.hydrateFallbackElement?f.hydrateFallbackElement:p.hydrateFallbackElement})}}function k0(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((r,n)=>{var s;return(s=e.children)==null?void 0:s.some(i=>k0(r,i))}):!1}var Hf=new WeakMap,E0=({key:t,route:e,manifest:r,mapRouteProperties:n})=>{let s=r[e.id];if(he(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let i=s.lazy[t];if(!i)return;let a=Hf.get(s);a||(a={},Hf.set(s,a));let l=a[t];if(l)return l;let c=(async()=>{let u=Tb(t),h=s[t]!==void 0&&t!=="hasErrorBoundary";if(u)Me(!u,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),a[t]=Promise.resolve();else if(h)Me(!1,`Route "${s.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let p=await i();p!=null&&(Object.assign(s,{[t]:p}),Object.assign(s,n(s)))}typeof s.lazy=="object"&&(s.lazy[t]=void 0,Object.values(s.lazy).every(p=>p===void 0)&&(s.lazy=void 0))})();return a[t]=c,c},Vf=new WeakMap;function yj(t,e,r,n,s){let i=r[t.id];if(he(i,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let d=Vf.get(i);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let h=(async()=>{he(typeof t.lazy=="function","No lazy route function found");let p=await t.lazy(),f={};for(let g in p){let y=p[g];if(y===void 0)continue;let x=Ab(g),m=i[g]!==void 0&&g!=="hasErrorBoundary";x?Me(!x,"Route property "+g+" is not a supported property to be returned from a lazy route function. This property will be ignored."):m?Me(!m,`Route "${i.id}" has a static property "${g}" defined but its lazy function is also returning a value for this property. The lazy route property "${g}" will be ignored.`):f[g]=y}Object.assign(i,f),Object.assign(i,{...n(i),lazy:void 0})})();return Vf.set(i,h),h.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:h}}let a=Object.keys(t.lazy),l=[],c;for(let d of a){if(s&&s.includes(d))continue;let h=E0({key:d,route:t,manifest:r,mapRouteProperties:n});h&&(l.push(h),d===e&&(c=h))}let u=l.length>0?Promise.all(l).then(()=>{}):void 0;return u==null||u.catch(()=>{}),c==null||c.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:c}}async function qf(t){let e=t.matches.filter(s=>s.shouldLoad),r={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,i)=>{r[e[i].route.id]=s}),r}async function xj(t){return t.matches.some(e=>e.route.middleware)?C0(t,()=>qf(t)):qf(t)}function C0(t,e){return wj(t,e,n=>n,Cj,r);function r(n,s,i){if(i)return Promise.resolve(Object.assign(i.value,{[s]:{type:"error",result:n}}));{let{matches:a}=t,l=Math.min(Math.max(a.findIndex(u=>u.route.id===s),0),Math.max(a.findIndex(u=>u.unstable_shouldCallHandler()),0)),c=$r(a,a[l].route.id).route.id;return Promise.resolve({[c]:{type:"error",result:n}})}}}async function wj(t,e,r,n,s){let{matches:i,request:a,params:l,context:c,unstable_pattern:u}=t,d=i.flatMap(p=>p.route.middleware?p.route.middleware.map(f=>[p.route.id,f]):[]);return await P0({request:a,params:l,context:c,unstable_pattern:u},d,e,r,n,s)}async function P0(t,e,r,n,s,i,a=0){let{request:l}=t;if(l.signal.aborted)throw l.signal.reason??new Error(`Request aborted: ${l.method} ${l.url}`);let c=e[a];if(!c)return await r();let[u,d]=c,h,p=async()=>{if(h)throw new Error("You may only call `next()` once per middleware");try{return h={value:await P0(t,e,r,n,s,i,a+1)},h.value}catch(f){return h={value:await i(f,u,h)},h.value}};try{let f=await d(t,p),g=f!=null?n(f):void 0;return s(g)?g:h?g??h.value:(h={value:await p()},h.value)}catch(f){return await i(f,u,h)}}function R0(t,e,r,n,s){let i=E0({key:"middleware",route:n.route,manifest:e,mapRouteProperties:t}),a=yj(n.route,ct(r.method)?"action":"loader",e,t,s);return{middleware:i,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function Ou(t,e,r,n,s,i,a,l,c=null){let u=!1,d=R0(t,e,r,s,i);return{...s,_lazyPromises:d,shouldLoad:l,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(h){return u=!0,c?typeof h=="boolean"?Zo(s,{...c,defaultShouldRevalidate:h}):Zo(s,c):l},resolve(h){let{lazy:p,loader:f,middleware:g}=s.route,y=u||l||h&&!ct(r.method)&&(p||f),x=g&&g.length>0&&!f&&!p;return y&&(ct(r.method)||!x)?jj({request:r,unstable_pattern:n,match:s,lazyHandlerPromise:d==null?void 0:d.handler,lazyRoutePromise:d==null?void 0:d.route,handlerOverride:h,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function Ss(t,e,r,n,s,i,a,l=null){return n.map(c=>c.route.id!==s.route.id?{...c,shouldLoad:!1,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler:()=>!1,_lazyPromises:R0(t,e,r,c,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Ou(t,e,r,Qd(n.map(u=>u.route.path)),c,i,a,!0,l))}async function bj(t,e,r,n,s,i){r.some(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware})&&await Promise.all(r.map(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware}));let a={request:e,unstable_pattern:Qd(r.map(u=>u.route.path)),params:r[0].params,context:s,matches:r},c=await t({...a,fetcherKey:n,runClientMiddleware:u=>{let d=a;return C0(d,()=>u({...d,fetcherKey:n,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(u=>{var d,h;return[(d=u._lazyPromises)==null?void 0:d.handler,(h=u._lazyPromises)==null?void 0:h.route]}))}catch{}return c}async function jj({request:t,unstable_pattern:e,match:r,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:i,scopedContext:a}){let l,c,u=ct(t.method),d=u?"action":"loader",h=p=>{let f,g=new Promise((v,m)=>f=m);c=()=>f(),t.signal.addEventListener("abort",c);let y=v=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${d}" [routeId: ${r.route.id}]`)):p({request:t,unstable_pattern:e,params:r.params,context:a},...v!==void 0?[v]:[]),x=(async()=>{try{return{type:"data",result:await(i?i(m=>y(m)):y())}}catch(v){return{type:"error",result:v}}})();return Promise.race([x,g])};try{let p=u?r.route.action:r.route.loader;if(n||s)if(p){let f,[g]=await Promise.all([h(p).catch(y=>{f=y}),n,s]);if(f!==void 0)throw f;l=g}else{await n;let f=u?r.route.action:r.route.loader;if(f)[l]=await Promise.all([h(f),s]);else if(d==="action"){let g=new URL(t.url),y=g.pathname+g.search;throw Dt(405,{method:t.method,pathname:y,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(p)l=await h(p);else{let f=new URL(t.url),g=f.pathname+f.search;throw Dt(404,{pathname:g})}}catch(p){return{type:"error",result:p}}finally{c&&t.signal.removeEventListener("abort",c)}return l}async function _j(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function Sj(t){var n,s,i,a,l,c;let{result:e,type:r}=t;if(T0(e)){let u;try{u=await _j(e)}catch(d){return{type:"error",error:d}}return r==="error"?{type:"error",error:new Xo(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:"data",data:u,statusCode:e.status,headers:e.headers}}return r==="error"?Yf(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(n=e.init)==null?void 0:n.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Xo(((i=e.init)==null?void 0:i.status)||500,void 0,e.data),statusCode:ra(e)?e.status:void 0,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:ra(e)?e.status:void 0}:Yf(e)?{type:"data",data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function Nj(t,e,r,n,s){let i=t.headers.get("Location");if(he(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!Cl(i)){let a=n.slice(0,n.findIndex(l=>l.route.id===r)+1);i=Pu(new URL(e.url),a,s,i),t.headers.set("Location",i)}return t}function Wf(t,e,r){if(Cl(t)){let n=t,s=n.startsWith("//")?new URL(e.protocol+n):new URL(n),i=Ht(s.pathname,r)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function rs(t,e,r,n){let s=t.createURL(O0(e)).toString(),i={signal:r};if(n&&ct(n.formMethod)){let{formMethod:a,formEncType:l}=n;i.method=a.toUpperCase(),l==="application/json"?(i.headers=new Headers({"Content-Type":l}),i.body=JSON.stringify(n.json)):l==="text/plain"?i.body=n.text:l==="application/x-www-form-urlencoded"&&n.formData?i.body=Tu(n.formData):i.body=n.formData}return new Request(s,i)}function Tu(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function Kf(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function kj(t,e,r,n=!1,s=!1){let i={},a=null,l,c=!1,u={},d=r&&Et(r[1])?r[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let p=h.route.id,f=e[p];if(he(!_n(f),"Cannot handle redirect results in processLoaderData"),Et(f)){let g=f.error;if(d!==void 0&&(g=d,d=void 0),a=a||{},s)a[p]=g;else{let y=$r(t,p);a[y.route.id]==null&&(a[y.route.id]=g)}n||(i[p]=N0),c||(c=!0,l=ra(f.error)?f.error.status:500),f.headers&&(u[p]=f.headers)}else i[p]=f.data,f.statusCode&&f.statusCode!==200&&!c&&(l=f.statusCode),f.headers&&(u[p]=f.headers)}),d!==void 0&&r&&(a={[r[0]]:d},r[2]&&(i[r[2]]=void 0)),{loaderData:i,errors:a,statusCode:l||200,loaderHeaders:u}}function Gf(t,e,r,n,s,i){let{loaderData:a,errors:l}=kj(e,r,n);return s.filter(c=>!c.matches||c.matches.some(u=>u.shouldLoad)).forEach(c=>{let{key:u,match:d,controller:h}=c;if(h&&h.signal.aborted)return;let p=i[u];if(he(p,"Did not find corresponding fetcher result"),Et(p)){let f=$r(t.matches,d==null?void 0:d.route.id);l&&l[f.route.id]||(l={...l,[f.route.id]:p.error}),t.fetchers.delete(u)}else if(_n(p))he(!1,"Unhandled fetcher revalidation redirect");else{let f=gr(p.data);t.fetchers.set(u,f)}}),{loaderData:a,errors:l}}function Jf(t,e,r,n){let s=Object.entries(e).filter(([,i])=>i!==N0).reduce((i,[a,l])=>(i[a]=l,i),{});for(let i of r){let a=i.route.id;if(!e.hasOwnProperty(a)&&t.hasOwnProperty(a)&&i.route.loader&&(s[a]=t[a]),n&&n.hasOwnProperty(a))break}return s}function Qf(t){return t?Et(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function $r(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function Ja(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Dt(t,{pathname:e,routeId:r,method:n,type:s,message:i}={}){let a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",n&&e&&r?l=`You made a ${n} request to "${e}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l=`Route "${r}" does not match URL "${e}"`):t===404?(a="Not Found",l=`No route matches URL "${e}"`):t===405&&(a="Method Not Allowed",n&&e&&r?l=`You made a ${n.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(l=`Invalid request method "${n.toUpperCase()}"`)),new Xo(t||500,a,new Error(l),!0)}function Qa(t){let e=Object.entries(t);for(let r=e.length-1;r>=0;r--){let[n,s]=e[r];if(_n(s))return{key:n,result:s}}}function O0(t){let e=typeof t=="string"?rn(t):t;return fr({...e,hash:""})}function Ej(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Cj(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,r])=>typeof e=="string"&&Pj(r))}function Pj(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function Rj(t){return T0(t.result)&&uj.has(t.result.status)}function Et(t){return t.type==="error"}function _n(t){return(t&&t.type)==="redirect"}function Yf(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function T0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Oj(t){return cj.has(t.toUpperCase())}function ct(t){return oj.has(t.toUpperCase())}function Xd(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function jo(t,e){let r=typeof e=="string"?rn(e).search:e.search;if(t[t.length-1].route.index&&Xd(r||""))return t[t.length-1];let n=b0(t);return n[n.length-1]}function Xf(t){let{formMethod:e,formAction:r,formEncType:n,text:s,formData:i,json:a}=t;if(!(!e||!r||!n)){if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:i,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:a,text:void 0}}}function wc(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Tj(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function oi(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Lj(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function gr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Aj(t,e){try{let r=t.sessionStorage.getItem(S0);if(r){let n=JSON.parse(r);for(let[s,i]of Object.entries(n||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function Ij(t,e){if(e.size>0){let r={};for(let[n,s]of e)r[n]=[...s];try{t.sessionStorage.setItem(S0,JSON.stringify(r))}catch(n){Me(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function Dj(){let t,e,r=new Promise((n,s)=>{t=async i=>{n(i);try{await r}catch{}},e=async i=>{s(i);try{await r}catch{}}});return{promise:r,resolve:t,reject:e}}var Fn=b.createContext(null);Fn.displayName="DataRouter";var ya=b.createContext(null);ya.displayName="DataRouterState";b.createContext(!1);var Zd=b.createContext({isTransitioning:!1});Zd.displayName="ViewTransition";var L0=b.createContext(new Map);L0.displayName="Fetchers";var $j=b.createContext(null);$j.displayName="Await";var nr=b.createContext(null);nr.displayName="Navigation";var Ol=b.createContext(null);Ol.displayName="Location";var Vt=b.createContext({outlet:null,matches:[],isDataRoute:!1});Vt.displayName="Route";var eh=b.createContext(null);eh.displayName="RouteError";function Mj(t,{relative:e}={}){he(Bs(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=b.useContext(nr),{hash:s,pathname:i,search:a}=xa(t,{relative:e}),l=i;return r!=="/"&&(l=i==="/"?r:hr([r,i])),n.createHref({pathname:l,search:a,hash:s})}function Bs(){return b.useContext(Ol)!=null}function qt(){return he(Bs(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Ol).location}var A0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function I0(t){b.useContext(nr).static||b.useLayoutEffect(t)}function nn(){let{isDataRoute:t}=b.useContext(Vt);return t?Zj():zj()}function zj(){he(Bs(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(Fn),{basename:e,navigator:r}=b.useContext(nr),{matches:n}=b.useContext(Vt),{pathname:s}=qt(),i=JSON.stringify(Pl(n)),a=b.useRef(!1);return I0(()=>{a.current=!0}),b.useCallback((c,u={})=>{if(Me(a.current,A0),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Rl(c,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:hr([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,i,s,t])}var Uj=b.createContext(null);function Fj(t){let e=b.useContext(Vt).outlet;return b.useMemo(()=>e&&b.createElement(Uj.Provider,{value:t},e),[e,t])}function D0(){let{matches:t}=b.useContext(Vt),e=t[t.length-1];return e?e.params:{}}function xa(t,{relative:e}={}){let{matches:r}=b.useContext(Vt),{pathname:n}=qt(),s=JSON.stringify(Pl(r));return b.useMemo(()=>Rl(t,JSON.parse(s),n,e==="path"),[t,s,n,e])}function Bj(t,e,r,n,s){he(Bs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=b.useContext(nr),{matches:a}=b.useContext(Vt),l=a[a.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",h=l&&l.route;{let m=h&&h.path||"";$0(u,!h||m.endsWith("*")||m.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${m}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${m}"> to <Route path="${m==="/"?"*":`${m}/*`}">.`)}let p=qt(),f;f=p;let g=f.pathname||"/",y=g;if(d!=="/"){let m=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(m.length).join("/")}let x=Dr(t,{pathname:y});return Me(h||x!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),Me(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Kj(x&&x.map(m=>Object.assign({},m,{params:Object.assign({},c,m.params),pathname:hr([d,i.encodeLocation?i.encodeLocation(m.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?d:hr([d,i.encodeLocation?i.encodeLocation(m.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:m.pathnameBase])})),a,r,n,s)}function Hj(){let t=Xj(),e=ra(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:i},"ErrorBoundary")," or"," ",b.createElement("code",{style:i},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),r?b.createElement("pre",{style:s},r):null,a)}var Vj=b.createElement(Hj,null),qj=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?b.createElement(Vt.Provider,{value:this.props.routeContext},b.createElement(eh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Wj({routeContext:t,match:e,children:r}){let n=b.useContext(Fn);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(Vt.Provider,{value:t},r)}function Kj(t,e=[],r=null,n=null,s=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,a=r==null?void 0:r.errors;if(a!=null){let d=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);he(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:f}=r,g=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!f||f[h.route.id]===void 0);if(h.route.lazy||g){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let u=r&&n?(d,h)=>{var p,f;n(d,{location:r.location,params:((f=(p=r.matches)==null?void 0:p[0])==null?void 0:f.params)??{},errorInfo:h})}:void 0;return i.reduceRight((d,h,p)=>{let f,g=!1,y=null,x=null;r&&(f=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||Vj,l&&(c<0&&p===0?($0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,x=null):c===p&&(g=!0,x=h.route.hydrateFallbackElement||null)));let v=e.concat(i.slice(0,p+1)),m=()=>{let w;return f?w=y:g?w=x:h.route.Component?w=b.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,b.createElement(Wj,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?b.createElement(qj,{location:r.location,revalidation:r.revalidation,component:y,error:f,children:m(),routeContext:{outlet:null,matches:v,isDataRoute:!0},onError:u}):m()},null)}function th(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gj(t){let e=b.useContext(Fn);return he(e,th(t)),e}function Jj(t){let e=b.useContext(ya);return he(e,th(t)),e}function Qj(t){let e=b.useContext(Vt);return he(e,th(t)),e}function rh(t){let e=Qj(t),r=e.matches[e.matches.length-1];return he(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function Yj(){return rh("useRouteId")}function Xj(){var n;let t=b.useContext(eh),e=Jj("useRouteError"),r=rh("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function Zj(){let{router:t}=Gj("useNavigate"),e=rh("useNavigate"),r=b.useRef(!1);return I0(()=>{r.current=!0}),b.useCallback(async(s,i={})=>{Me(r.current,A0),r.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var Zf={};function $0(t,e,r){!e&&!Zf[t]&&(Zf[t]=!0,Me(!1,r))}var ep={};function tp(t,e){!t&&!ep[e]&&(ep[e]=!0,console.warn(e))}function e1(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Me(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:b.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Me(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:b.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Me(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:b.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var t1=["HydrateFallback","hydrateFallbackElement"],r1=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function n1({router:t,flushSync:e,unstable_onError:r}){let[n,s]=b.useState(t.state),[i,a]=b.useState(),[l,c]=b.useState({isTransitioning:!1}),[u,d]=b.useState(),[h,p]=b.useState(),[f,g]=b.useState(),y=b.useRef(new Map),x=b.useCallback(N=>{s(R=>(N.errors&&r&&Object.entries(N.errors).forEach(([j,T])=>{var M,E;((M=R.errors)==null?void 0:M[j])!==T&&r(T,{location:N.location,params:((E=N.matches[0])==null?void 0:E.params)??{}})}),N))},[r]),v=b.useCallback((N,{deletedFetchers:R,flushSync:j,viewTransitionOpts:T})=>{N.fetchers.forEach((E,W)=>{E.data!==void 0&&y.current.set(W,E.data)}),R.forEach(E=>y.current.delete(E)),tp(j===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let M=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(tp(T==null||M,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!T||!M){e&&j?e(()=>x(N)):b.startTransition(()=>x(N));return}if(e&&j){e(()=>{h&&(u&&u.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:T.currentLocation,nextLocation:T.nextLocation})});let E=t.window.document.startViewTransition(()=>{e(()=>x(N))});E.finished.finally(()=>{e(()=>{d(void 0),p(void 0),a(void 0),c({isTransitioning:!1})})}),e(()=>p(E));return}h?(u&&u.resolve(),h.skipTransition(),g({state:N,currentLocation:T.currentLocation,nextLocation:T.nextLocation})):(a(N),c({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}))},[t.window,e,h,u,x]);b.useLayoutEffect(()=>t.subscribe(v),[t,v]),b.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new r1)},[l]),b.useEffect(()=>{if(u&&i&&t.window){let N=i,R=u.promise,j=t.window.document.startViewTransition(async()=>{b.startTransition(()=>x(N)),await R});j.finished.finally(()=>{d(void 0),p(void 0),a(void 0),c({isTransitioning:!1})}),p(j)}},[i,u,t.window,x]),b.useEffect(()=>{u&&i&&n.location.key===i.location.key&&u.resolve()},[u,h,n.location,i]),b.useEffect(()=>{!l.isTransitioning&&f&&(a(f.state),c({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),g(void 0))},[l.isTransitioning,f]);let m=b.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:N=>t.navigate(N),push:(N,R,j)=>t.navigate(N,{state:R,preventScrollReset:j==null?void 0:j.preventScrollReset}),replace:(N,R,j)=>t.navigate(N,{replace:!0,state:R,preventScrollReset:j==null?void 0:j.preventScrollReset})}),[t]),w=t.basename||"/",S=b.useMemo(()=>({router:t,navigator:m,static:!1,basename:w,unstable_onError:r}),[t,m,w,r]);return b.createElement(b.Fragment,null,b.createElement(Fn.Provider,{value:S},b.createElement(ya.Provider,{value:n},b.createElement(L0.Provider,{value:y.current},b.createElement(Zd.Provider,{value:l},b.createElement(a1,{basename:w,location:n.location,navigationType:n.historyAction,navigator:m},b.createElement(s1,{routes:t.routes,future:t.future,state:n,unstable_onError:r})))))),null)}var s1=b.memo(i1);function i1({routes:t,future:e,state:r,unstable_onError:n}){return Bj(t,void 0,r,n,e)}function Pi({to:t,replace:e,state:r,relative:n}){he(Bs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=b.useContext(nr);Me(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=b.useContext(Vt),{pathname:a}=qt(),l=nn(),c=Rl(t,Pl(i),a,n==="path"),u=JSON.stringify(c);return b.useEffect(()=>{l(JSON.parse(u),{replace:e,state:r,relative:n})},[l,u,n,e,r]),null}function M0(t){return Fj(t.context)}function a1({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){he(!Bs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=b.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof r=="string"&&(r=rn(r));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:p="default"}=r,f=b.useMemo(()=>{let g=Ht(c,a);return g==null?null:{location:{pathname:g,search:u,hash:d,state:h,key:p},navigationType:n}},[a,c,u,d,h,p,n]);return Me(f!=null,`<Router basename="${a}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:b.createElement(nr.Provider,{value:l},b.createElement(Ol.Provider,{children:e,value:f}))}var _o="get",So="application/x-www-form-urlencoded";function Tl(t){return t!=null&&typeof t.tagName=="string"}function o1(t){return Tl(t)&&t.tagName.toLowerCase()==="button"}function l1(t){return Tl(t)&&t.tagName.toLowerCase()==="form"}function c1(t){return Tl(t)&&t.tagName.toLowerCase()==="input"}function u1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function d1(t,e){return t.button===0&&(!e||e==="_self")&&!u1(t)}var Ya=null;function h1(){if(Ya===null)try{new FormData(document.createElement("form"),0),Ya=!1}catch{Ya=!0}return Ya}var f1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bc(t){return t!=null&&!f1.has(t)?(Me(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${So}"`),null):t}function p1(t,e){let r,n,s,i,a;if(l1(t)){let l=t.getAttribute("action");n=l?Ht(l,e):null,r=t.getAttribute("method")||_o,s=bc(t.getAttribute("enctype"))||So,i=new FormData(t)}else if(o1(t)||c1(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(n=c?Ht(c,e):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||_o,s=bc(t.getAttribute("formenctype"))||bc(l.getAttribute("enctype"))||So,i=new FormData(l,t),!h1()){let{name:u,type:d,value:h}=t;if(d==="image"){let p=u?`${u}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else u&&i.append(u,h)}}else{if(Tl(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=_o,n=null,s=So,a=t}return i&&s==="text/plain"&&(a=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nh(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function m1(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&Ht(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function g1(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function v1(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function y1(t,e,r){let n=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let a=await g1(i,r);return a.links?a.links():[]}return[]}));return j1(n.flat(1).filter(v1).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function rp(t,e,r,n,s,i){let a=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,u)=>a(c,u)||l(c,u)):i==="data"?e.filter((c,u)=>{var h;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function x1(t,e,{includeHydrateFallback:r}={}){return w1(t.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function w1(t){return[...new Set(t)]}function b1(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function j1(t,e){let r=new Set;return new Set(e),t.reduce((n,s)=>{let i=JSON.stringify(b1(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function z0(){let t=b.useContext(Fn);return nh(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function _1(){let t=b.useContext(ya);return nh(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var sh=b.createContext(void 0);sh.displayName="FrameworkContext";function U0(){let t=b.useContext(sh);return nh(t,"You must render this element inside a <HydratedRouter> element"),t}function S1(t,e){let r=b.useContext(sh),[n,s]=b.useState(!1),[i,a]=b.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,p=b.useRef(null);b.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let y=v=>{v.forEach(m=>{a(m.isIntersecting)})},x=new IntersectionObserver(y,{threshold:.5});return p.current&&x.observe(p.current),()=>{x.disconnect()}}},[t]),b.useEffect(()=>{if(n){let y=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(y)}}},[n]);let f=()=>{s(!0)},g=()=>{s(!1),a(!1)};return r?t!=="intent"?[i,p,{}]:[i,p,{onFocus:li(l,f),onBlur:li(c,g),onMouseEnter:li(u,f),onMouseLeave:li(d,g),onTouchStart:li(h,f)}]:[!1,p,{}]}function li(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function N1({page:t,...e}){let{router:r}=z0(),n=b.useMemo(()=>Dr(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?b.createElement(E1,{page:t,matches:n,...e}):null}function k1(t){let{manifest:e,routeModules:r}=U0(),[n,s]=b.useState([]);return b.useEffect(()=>{let i=!1;return y1(t,e,r).then(a=>{i||s(a)}),()=>{i=!0}},[t,e,r]),n}function E1({page:t,matches:e,...r}){let n=qt(),{manifest:s,routeModules:i}=U0(),{basename:a}=z0(),{loaderData:l,matches:c}=_1(),u=b.useMemo(()=>rp(t,e,c,s,n,"data"),[t,e,c,s,n]),d=b.useMemo(()=>rp(t,e,c,s,n,"assets"),[t,e,c,s,n]),h=b.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let g=new Set,y=!1;if(e.forEach(v=>{var w;let m=s.routes[v.route.id];!m||!m.hasLoader||(!u.some(S=>S.route.id===v.route.id)&&v.route.id in l&&((w=i[v.route.id])!=null&&w.shouldRevalidate)||m.hasClientLoader?y=!0:g.add(v.route.id))}),g.size===0)return[];let x=m1(t,a,"data");return y&&g.size>0&&x.searchParams.set("_routes",e.filter(v=>g.has(v.route.id)).map(v=>v.route.id).join(",")),[x.pathname+x.search]},[a,l,n,s,u,e,t,i]),p=b.useMemo(()=>x1(d,s),[d,s]),f=k1(d);return b.createElement(b.Fragment,null,h.map(g=>b.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...r})),p.map(g=>b.createElement("link",{key:g,rel:"modulepreload",href:g,...r})),f.map(({key:g,link:y})=>b.createElement("link",{key:g,nonce:r.nonce,...y})))}function C1(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var F0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{F0&&(window.__reactRouterVersion="7.9.6")}catch{}function P1(t,e){return pj({basename:e==null?void 0:e.basename,getContext:e==null?void 0:e.getContext,future:e==null?void 0:e.future,history:Cb({window:e==null?void 0:e.window}),hydrationData:R1(),routes:t,mapRouteProperties:e1,hydrationRouteProperties:t1,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window,unstable_instrumentations:e==null?void 0:e.unstable_instrumentations}).initialize()}function R1(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:O1(t.errors)}),t}function O1(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,s]of e)if(s&&s.__type==="RouteErrorResponse")r[n]=new Xo(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let a=new i(s.message);a.stack="",r[n]=a}catch{}}if(r[n]==null){let i=new Error(s.message);i.stack="",r[n]=i}}else r[n]=s;return r}var B0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gn=b.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h,...p},f){let{basename:g}=b.useContext(nr),y=typeof u=="string"&&B0.test(u),x,v=!1;if(typeof u=="string"&&y&&(x=u,F0))try{let M=new URL(window.location.href),E=u.startsWith("//")?new URL(M.protocol+u):new URL(u),W=Ht(E.pathname,g);E.origin===M.origin&&W!=null?u=W+E.search+E.hash:v=!0}catch{Me(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let m=Mj(u,{relative:s}),[w,S,N]=S1(n,p),R=A1(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function j(M){e&&e(M),M.defaultPrevented||R(M)}let T=b.createElement("a",{...p,...N,href:x||m,onClick:v||i?e:j,ref:C1(f,S),target:c,"data-discover":!y&&r==="render"?"true":void 0});return w&&!y?b.createElement(b.Fragment,null,T,b.createElement(N1,{page:m})):T});gn.displayName="Link";var H0=b.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:a,viewTransition:l,children:c,...u},d){let h=xa(a,{relative:u.relative}),p=qt(),f=b.useContext(ya),{navigator:g,basename:y}=b.useContext(nr),x=f!=null&&z1(h)&&l===!0,v=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,m=p.pathname,w=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;r||(m=m.toLowerCase(),w=w?w.toLowerCase():null,v=v.toLowerCase()),w&&y&&(w=Ht(w,y)||w);const S=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let N=m===v||!s&&m.startsWith(v)&&m.charAt(S)==="/",R=w!=null&&(w===v||!s&&w.startsWith(v)&&w.charAt(v.length)==="/"),j={isActive:N,isPending:R,isTransitioning:x},T=N?e:void 0,M;typeof n=="function"?M=n(j):M=[n,N?"active":null,R?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let E=typeof i=="function"?i(j):i;return b.createElement(gn,{...u,"aria-current":T,className:M,ref:d,style:E,to:a,viewTransition:l},typeof c=="function"?c(j):c)});H0.displayName="NavLink";var T1=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:s,state:i,method:a=_o,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,...p},f)=>{let g=$1(),y=M1(l,{relative:u}),x=a.toLowerCase()==="get"?"get":"post",v=typeof l=="string"&&B0.test(l),m=w=>{if(c&&c(w),w.defaultPrevented)return;w.preventDefault();let S=w.nativeEvent.submitter,N=(S==null?void 0:S.getAttribute("formmethod"))||a;g(S||w.currentTarget,{fetcherKey:e,method:N,navigate:r,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:h})};return b.createElement("form",{ref:f,method:x,action:y,onSubmit:n?c:m,...p,"data-discover":!v&&t==="render"?"true":void 0})});T1.displayName="Form";function L1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V0(t){let e=b.useContext(Fn);return he(e,L1(t)),e}function A1(t,{target:e,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:a}={}){let l=nn(),c=qt(),u=xa(t,{relative:i});return b.useCallback(d=>{if(d1(d,e)){d.preventDefault();let h=r!==void 0?r:fr(c)===fr(u);l(t,{replace:h,state:n,preventScrollReset:s,relative:i,viewTransition:a})}},[c,l,u,r,n,e,t,s,i,a])}var I1=0,D1=()=>`__${String(++I1)}__`;function $1(){let{router:t}=V0("useSubmit"),{basename:e}=b.useContext(nr),r=Yj();return b.useCallback(async(n,s={})=>{let{action:i,method:a,encType:l,formData:c,body:u}=p1(n,e);if(s.navigate===!1){let d=s.fetcherKey||D1();await t.fetch(d,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||a,formEncType:s.encType||l,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||a,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,r])}function M1(t,{relative:e}={}){let{basename:r}=b.useContext(nr),n=b.useContext(Vt);he(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...xa(t||".",{relative:e})},a=qt();if(t==null){i.search=a.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let d=l.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:hr([r,i.pathname])),fr(i)}function z1(t,{relative:e}={}){let r=b.useContext(Zd);he(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=V0("useViewTransitionState"),s=xa(t,{relative:e});if(!r.isTransitioning)return!1;let i=Ht(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Ht(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Yo(s.pathname,a)!=null||Yo(s.pathname,i)!=null}function U1(t){return b.createElement(n1,{flushSync:g0.flushSync,...t})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var F1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Z=(t,e)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>b.createElement("svg",{ref:d,...F1,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${B1(t)}`,l].join(" "),...u},[...e.map(([h,p])=>b.createElement(h,p)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=Z("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=Z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=Z("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=Z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=Z("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=Z("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=Z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=Z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=Z("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=Z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=Z("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=Z("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=Z("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=Z("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=Z("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=Z("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=Z("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=Z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=Z("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=Z("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=Z("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=Z("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=Z("LifeBuoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=Z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=Z("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=Z("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=Z("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=Z("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=Z("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=Z("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=Z("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=Z("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=Z("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=Z("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=Z("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=Z("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=Z("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=Z("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=Z("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=Z("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=Z("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=Z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=Z("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=Z("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=Z("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=Z("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=Z("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=Z("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var Iu=function(t,e){return Iu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Iu(t,e)};function Z0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Iu(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var rl=function(){return rl=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},rl.apply(this,arguments)};function Hs(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function ev(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(i=(s<3?a(i):s>3?a(e,r,i):a(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function tv(t,e){return function(r,n){e(r,n,t)}}function rv(t,e,r,n,s,i){function a(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,p=!1,f=r.length-1;f>=0;f--){var g={};for(var y in n)g[y]=y==="access"?{}:n[y];for(var y in n.access)g.access[y]=n.access[y];g.addInitializer=function(v){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(v||null))};var x=(0,r[f])(l==="accessor"?{get:d.get,set:d.set}:d[c],g);if(l==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(h=a(x.get))&&(d.get=h),(h=a(x.set))&&(d.set=h),(h=a(x.init))&&s.unshift(h)}else(h=a(x))&&(l==="field"?s.unshift(h):d[c]=h)}u&&Object.defineProperty(u,n.name,d),p=!0}function nv(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function sv(t){return typeof t=="symbol"?t:"".concat(t)}function iv(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function av(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function J(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})}function ov(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Dl=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function lv(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Dl(e,t,r)}function nl(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ah(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],a;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(l){a={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function cv(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ah(arguments[e]));return t}function uv(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],a=0,l=i.length;a<l;a++,s++)n[s]=i[a];return n}function dv(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function Is(t){return this instanceof Is?(this.v=t,this):new Is(t)}function hv(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(f){return function(g){return Promise.resolve(g).then(f,h)}}function l(f,g){n[f]&&(s[f]=function(y){return new Promise(function(x,v){i.push([f,y,x,v])>1||c(f,y)})},g&&(s[f]=g(s[f])))}function c(f,g){try{u(n[f](g))}catch(y){p(i[0][3],y)}}function u(f){f.value instanceof Is?Promise.resolve(f.value.v).then(d,h):p(i[0][2],f)}function d(f){c("next",f)}function h(f){c("throw",f)}function p(f,g){f(g),i.shift(),i.length&&c(i[0][0],i[0][1])}}function fv(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(a){return(r=!r)?{value:Is(t[s](a)),done:!1}:i?i(a):a}:i}}function pv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof nl=="function"?nl(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(a){return new Promise(function(l,c){a=t[i](a),s(l,c,a.done,a.value)})}}function s(i,a,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},a)}}function mv(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var p_=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Du=function(t){return Du=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Du(t)};function gv(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Du(t),n=0;n<r.length;n++)r[n]!=="default"&&Dl(e,t,r[n]);return p_(e,t),e}function vv(t){return t&&t.__esModule?t:{default:t}}function yv(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function xv(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function wv(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function bv(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var m_=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function jv(t){function e(i){t.error=t.hasError?new m_(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(a){return e(a),s()})}else n|=1}catch(a){e(a)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function _v(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,a){return n?e?".jsx":".js":s&&(!i||!a)?r:s+i+"."+a.toLowerCase()+"js"}):t}const g_={__extends:Z0,__assign:rl,__rest:Hs,__decorate:ev,__param:tv,__esDecorate:rv,__runInitializers:nv,__propKey:sv,__setFunctionName:iv,__metadata:av,__awaiter:J,__generator:ov,__createBinding:Dl,__exportStar:lv,__values:nl,__read:ah,__spread:cv,__spreadArrays:uv,__spreadArray:dv,__await:Is,__asyncGenerator:hv,__asyncDelegator:fv,__asyncValues:pv,__makeTemplateObject:mv,__importStar:gv,__importDefault:vv,__classPrivateFieldGet:yv,__classPrivateFieldSet:xv,__classPrivateFieldIn:wv,__addDisposableResource:bv,__disposeResources:jv,__rewriteRelativeImportExtension:_v},v_=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:bv,get __assign(){return rl},__asyncDelegator:fv,__asyncGenerator:hv,__asyncValues:pv,__await:Is,__awaiter:J,__classPrivateFieldGet:yv,__classPrivateFieldIn:wv,__classPrivateFieldSet:xv,__createBinding:Dl,__decorate:ev,__disposeResources:jv,__esDecorate:rv,__exportStar:lv,__extends:Z0,__generator:ov,__importDefault:vv,__importStar:gv,__makeTemplateObject:mv,__metadata:av,__param:tv,__propKey:sv,__read:ah,__rest:Hs,__rewriteRelativeImportExtension:_v,__runInitializers:nv,__setFunctionName:iv,__spread:cv,__spreadArray:dv,__spreadArrays:uv,__values:nl,default:g_},Symbol.toStringTag,{value:"Module"})),y_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class oh extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class x_ extends oh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class sp extends oh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ip extends oh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var $u;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})($u||($u={}));class w_{constructor(e,{headers:r={},customFetch:n,region:s=$u.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=y_(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return J(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=n;let p={},{region:f}=n;f||(f=this.region);const g=new URL(`${this.url}/${r}`);f&&f!=="any"&&(p["x-region"]=f,g.searchParams.set("forceFunctionRegion",f));let y;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(p["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(p["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;let x=d;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),d?(x=a.signal,d.addEventListener("abort",()=>a.abort())):x=a.signal);const v=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:y,signal:x}).catch(N=>{throw new x_(N)}),m=v.headers.get("x-relay-error");if(m&&m==="true")throw new sp(v);if(!v.ok)throw new ip(v);let w=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return w==="application/json"?S=yield v.json():w==="application/octet-stream"||w==="application/pdf"?S=yield v.blob():w==="text/event-stream"?S=v:w==="multipart/form-data"?S=yield v.formData():S=yield v.text(),{data:S,error:null,response:v}}catch(l){return{data:null,error:l,response:l instanceof ip||l instanceof sp?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var ut={};const Vs=Xy(v_);var Xa={},Za={},eo={},to={},ro={},no={},ap;function Sv(){if(ap)return no;ap=1,Object.defineProperty(no,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return no.default=t,no}var op;function Nv(){if(op)return ro;op=1,Object.defineProperty(ro,"__esModule",{value:!0});const e=Vs.__importDefault(Sv());class r{constructor(s){var i,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,h,p;let f=null,g=null,y=null,x=c.status,v=c.statusText;if(c.ok){if(this.method!=="HEAD"){const N=await c.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?g=N:g=JSON.parse(N))}const w=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),S=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");w&&S&&S.length>1&&(y=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(f={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,y=null,x=406,v="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const w=await c.text();try{f=JSON.parse(w),Array.isArray(f)&&c.status===404&&(g=[],f=null,x=200,v="OK")}catch{c.status===404&&w===""?(x=204,v="No Content"):f={message:w}}if(f&&this.isMaybeSingle&&(!((p=f==null?void 0:f.details)===null||p===void 0)&&p.includes("0 rows"))&&(f=null,x=200,v="OK"),f&&this.shouldThrowOnError)throw new e.default(f)}return{error:f,data:g,count:y,status:x,statusText:v}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,h,p,f,g;let y="";const x=c==null?void 0:c.cause;if(x){const v=(u=x==null?void 0:x.message)!==null&&u!==void 0?u:"",m=(d=x==null?void 0:x.code)!==null&&d!==void 0?d:"";y=`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,y+=`

Caused by: ${(p=x==null?void 0:x.name)!==null&&p!==void 0?p:"Error"}: ${v}`,m&&(y+=` (${m})`),x!=null&&x.stack&&(y+=`
${x.stack}`)}else y=(f=c==null?void 0:c.stack)!==null&&f!==void 0?f:"";return{error:{message:`${(g=c==null?void 0:c.name)!==null&&g!==void 0?g:"FetchError"}: ${c==null?void 0:c.message}`,details:y,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}}return ro.default=r,ro}var lp;function kv(){if(lp)return to;lp=1,Object.defineProperty(to,"__esModule",{value:!0});const e=Vs.__importDefault(Nv());class r extends e.default{select(s){let i=!1;const a=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:a,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:a=i}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:a,referencedTable:l=a}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:a=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const h=[s?"analyze":null,i?"verbose":null,a?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return to.default=r,to}var cp;function lh(){if(cp)return eo;cp=1,Object.defineProperty(eo,"__esModule",{value:!0});const e=Vs.__importDefault(kv()),r=new RegExp("[,()]");class n extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}regexMatch(i,a){return this.url.searchParams.append(i,`match.${a}`),this}regexIMatch(i,a){return this.url.searchParams.append(i,`imatch.${a}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}isDistinct(i,a){return this.url.searchParams.append(i,`isdistinct.${a}`),this}in(i,a){const l=Array.from(new Set(a)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${d}.${a}`),this}match(i){return Object.entries(i).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(i,a,l){return this.url.searchParams.append(i,`not.${a}.${l}`),this}or(i,{foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,a,l){return this.url.searchParams.append(i,`${a}.${l}`),this}}return eo.default=n,eo}var up;function Ev(){if(up)return Za;up=1,Object.defineProperty(Za,"__esModule",{value:!0});const e=Vs.__importDefault(lh());class r{constructor(s,{headers:i={},schema:a,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=a,this.fetch=l}select(s,i){const{head:a=!1,count:l}=i??{},c=a?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:a=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:a=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((p,f)=>p.concat(Object.keys(f)),[]);if(h.length>0){const p=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var a;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var i;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Za.default=r,Za}var dp;function b_(){if(dp)return Xa;dp=1,Object.defineProperty(Xa,"__esModule",{value:!0});const t=Vs,e=t.__importDefault(Ev()),r=t.__importDefault(lh());class n{constructor(i,{headers:a={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(a),this.schemaName=l,this.fetch=c}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const a=new URL(`${this.url}/${i}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,a={},{head:l=!1,get:c=!1,count:u}={}){var d;let h;const p=new URL(`${this.url}/rpc/${i}`);let f;l||c?(h=l?"HEAD":"GET",Object.entries(a).filter(([y,x])=>x!==void 0).map(([y,x])=>[y,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([y,x])=>{p.searchParams.append(y,x)})):(h="POST",f=a);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new r.default({method:h,url:p,headers:g,schema:this.schemaName,body:f,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Xa.default=n,Xa}Object.defineProperty(ut,"__esModule",{value:!0});var Cv=ut.PostgrestError=Mv=ut.PostgrestBuilder=Dv=ut.PostgrestTransformBuilder=Av=ut.PostgrestFilterBuilder=Tv=ut.PostgrestQueryBuilder=Rv=ut.PostgrestClient=void 0;const qs=Vs,Pv=qs.__importDefault(b_());var Rv=ut.PostgrestClient=Pv.default;const Ov=qs.__importDefault(Ev());var Tv=ut.PostgrestQueryBuilder=Ov.default;const Lv=qs.__importDefault(lh());var Av=ut.PostgrestFilterBuilder=Lv.default;const Iv=qs.__importDefault(kv());var Dv=ut.PostgrestTransformBuilder=Iv.default;const $v=qs.__importDefault(Nv());var Mv=ut.PostgrestBuilder=$v.default;const zv=qs.__importDefault(Sv());Cv=ut.PostgrestError=zv.default;var Uv=ut.default={PostgrestClient:Pv.default,PostgrestQueryBuilder:Ov.default,PostgrestFilterBuilder:Lv.default,PostgrestTransformBuilder:Iv.default,PostgrestBuilder:$v.default,PostgrestError:zv.default};const j_=Qy({__proto__:null,get PostgrestBuilder(){return Mv},get PostgrestClient(){return Rv},get PostgrestError(){return Cv},get PostgrestFilterBuilder(){return Av},get PostgrestQueryBuilder(){return Tv},get PostgrestTransformBuilder(){return Dv},default:Uv},[ut]),{PostgrestClient:__,PostgrestQueryBuilder:IE,PostgrestFilterBuilder:DE,PostgrestTransformBuilder:$E,PostgrestBuilder:ME,PostgrestError:zE}=Uv||j_;class S_{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const N_="2.84.0",k_=`realtime-js/${N_}`,Fv="1.0.0",E_="2.0.0",hp=Fv,Mu=1e4,C_=1e3,P_=100;var vn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(vn||(vn={}));var qe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(qe||(qe={}));var Xt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Xt||(Xt={}));var zu;(function(t){t.websocket="websocket"})(zu||(zu={}));var yn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(yn||(yn={}));class R_{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n,s,i;const a=e.topic,l=(r=e.ref)!==null&&r!==void 0?r:"",c=(n=e.join_ref)!==null&&n!==void 0?n:"",u=e.payload.event,d=(i=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0),h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+u.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let f=new DataView(p),g=0;f.setUint8(g++,this.KINDS.userBroadcastPush),f.setUint8(g++,c.length),f.setUint8(g++,l.length),f.setUint8(g++,a.length),f.setUint8(g++,u.length),f.setUint8(g++,this.BINARY_ENCODING),Array.from(c,x=>f.setUint8(g++,x.charCodeAt(0))),Array.from(l,x=>f.setUint8(g++,x.charCodeAt(0))),Array.from(a,x=>f.setUint8(g++,x.charCodeAt(0))),Array.from(u,x=>f.setUint8(g++,x.charCodeAt(0)));var y=new Uint8Array(p.byteLength+d.byteLength);return y.set(new Uint8Array(p),0),y.set(new Uint8Array(d),p.byteLength),y.buffer}_encodeJsonUserBroadcastPush(e){var r,n,s,i;const a=e.topic,l=(r=e.ref)!==null&&r!==void 0?r:"",c=(n=e.join_ref)!==null&&n!==void 0?n:"",u=e.payload.event,d=(i=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},p=new TextEncoder().encode(JSON.stringify(d)).buffer,f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+u.length,g=new ArrayBuffer(this.HEADER_LENGTH+f);let y=new DataView(g),x=0;y.setUint8(x++,this.KINDS.userBroadcastPush),y.setUint8(x++,c.length),y.setUint8(x++,l.length),y.setUint8(x++,a.length),y.setUint8(x++,u.length),y.setUint8(x++,this.JSON_ENCODING),Array.from(c,m=>y.setUint8(x++,m.charCodeAt(0))),Array.from(l,m=>y.setUint8(x++,m.charCodeAt(0))),Array.from(a,m=>y.setUint8(x++,m.charCodeAt(0))),Array.from(u,m=>y.setUint8(x++,m.charCodeAt(0)));var v=new Uint8Array(g.byteLength+p.byteLength);return v.set(new Uint8Array(g),0),v.set(new Uint8Array(p),g.byteLength),v.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,a,l,c]=n;return r({join_ref:s,ref:i,topic:a,event:l,payload:c})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(e.slice(c,c+s));c=c+s;const d=n.decode(e.slice(c,c+i));c=c+i;const h=n.decode(e.slice(c,c+a));c=c+a;const p=e.slice(c,e.byteLength),f=l===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,g={type:this.BROADCAST_EVENT,event:d,payload:f};return a>0&&(g.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class Bv{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Se||(Se={}));const fp=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=O_(a,t,e,s),i),{}):{}},O_=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?Hv(i,a):Uu(a)},Hv=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return I_(e,r)}switch(t){case Se.bool:return T_(e);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return L_(e);case Se.json:case Se.jsonb:return A_(e);case Se.timestamp:return D_(e);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return Uu(e);default:return Uu(e)}},Uu=t=>t,T_=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},L_=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},A_=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},I_=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>Hv(e,l))}return t},D_=t=>typeof t=="string"?t.replace(" ","T"):t,Vv=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class jc{constructor(e,r,n={},s=Mu){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var pp;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(pp||(pp={}));class Ti{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ti.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=Ti.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ti.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const p=d.map(x=>x.presence_ref),f=h.map(x=>x.presence_ref),g=d.filter(x=>f.indexOf(x.presence_ref)<0),y=h.filter(x=>p.indexOf(x.presence_ref)<0);g.length>0&&(l[u]=g),y.length>0&&(c[u]=y)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(f=>f.presence_ref),p=d.filter(f=>h.indexOf(f.presence_ref)<0);e[l].unshift(...p)}n(l,d,c)}),this.map(a,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mp;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(mp||(mp={}));var Li;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Li||(Li={}));var yr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(yr||(yr={}));class ch{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new jc(this,Xt.join,this.params,this.timeout),this.rejoinTimer=new Bv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qe.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xt.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new Ti(this),this.broadcastEndpointURL=Vv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==qe.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Li.PRESENCE]&&this.bindings[Li.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(yr.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(yr.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var g;if(this.socket.setAuth(),f===void 0){e==null||e(yr.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,x=(g=y==null?void 0:y.length)!==null&&g!==void 0?g:0,v=[];for(let m=0;m<x;m++){const w=y[m],{filter:{event:S,schema:N,table:R,filter:j}}=w,T=f&&f[m];if(T&&T.event===S&&T.schema===N&&T.table===R&&T.filter===j)v.push(Object.assign(Object.assign({},w),{id:T.id}));else{this.unsubscribe(),this.state=qe.errored,e==null||e(yr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(yr.SUBSCRIBED);return}}).receive("error",f=>{this.state=qe.errored,e==null||e(yr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(yr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===qe.joined&&e===Li.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=qe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new jc(this,Xt.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qe.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new jc(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>P_){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Xt;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let p=this._onMessage(a,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var g,y,x;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(y=f.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(f=>f.callback(p,n)):(i=this.bindings[a])===null||i===void 0||i.filter(f=>{var g,y,x,v,m,w;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const S=f.id,N=(g=f.filter)===null||g===void 0?void 0:g.event;return S&&((y=r.ids)===null||y===void 0?void 0:y.includes(S))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const S=(m=(v=f==null?void 0:f.filter)===null||v===void 0?void 0:v.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return S==="*"||S===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof p=="object"&&"ids"in p){const g=p.data,{schema:y,table:x,commit_timestamp:v,type:m,errors:w}=g;p=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:v,eventType:m,new:{},old:{},errors:w}),this._getPayloadRecords(g))}f.callback(p,n)})}_isClosed(){return this.state===qe.closed}_isJoined(){return this.state===qe.joined}_isJoining(){return this.state===qe.joining}_isLeaving(){return this.state===qe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&ch.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Xt.close,{},e)}_onError(e){this._on(Xt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=fp(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=fp(e.columns,e.old_record)),r}}const _c=()=>{},so={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$_=[1e3,2e3,5e3,1e4],M_=1e4,z_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class U_{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mu,this.transport=null,this.heartbeatIntervalMs=so.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_c,this.ref=0,this.reconnectTimer=null,this.vsn=hp,this.logger=_c,this.conn=null,this.sendBuffer=[],this.serializer=new R_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${zu.websocket}`,this.httpEndpoint=Vv(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=S_.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case vn.connecting:return yn.Connecting;case vn.open:return yn.Open;case vn.closing:return yn.Closing;default:return yn.Closed}}isConnected(){return this.connectionState()===yn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new ch(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(C_,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},so.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===vn.open||this.conn.readyState===vn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Xt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([z_],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:k_};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Xt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Bv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},so.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,a,l,c,u,d,h,p,f;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Mu,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:so.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:_c,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:hp,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:g=>$_[g-1]||M_,this.vsn){case Fv:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(g,y)=>y(JSON.stringify(g)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(g,y)=>y(JSON.parse(g));break;case E_:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class uh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Oe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class F_ extends uh{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fu extends uh{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const dh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),B_=()=>Response,Bu=t=>{if(Array.isArray(t))return t.map(r=>Bu(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Bu(n)}),e},H_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Sc=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},V_=(t,e,r)=>J(void 0,void 0,void 0,function*(){const n=yield B_();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,a=(s==null?void 0:s.statusCode)||i+"";e(new F_(Sc(s),i,a))}).catch(s=>{e(new Fu(Sc(s),s))}):e(new Fu(Sc(t),t))}),q_=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(H_(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function ba(t,e,r,n,s,i){return J(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(r,q_(e,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>V_(c,l,n))})})}function aa(t,e,r,n){return J(this,void 0,void 0,function*(){return ba(t,"GET",e,r,n)})}function Qt(t,e,r,n,s){return J(this,void 0,void 0,function*(){return ba(t,"POST",e,n,s,r)})}function Hu(t,e,r,n,s){return J(this,void 0,void 0,function*(){return ba(t,"PUT",e,n,s,r)})}function W_(t,e,r,n){return J(this,void 0,void 0,function*(){return ba(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function hh(t,e,r,n,s){return J(this,void 0,void 0,function*(){return ba(t,"DELETE",e,n,s,r)})}class K_{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return J(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Oe(e))return{data:null,error:e};throw e}})}}var qv;class G_{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[qv]="BlobDownloadBuilder",this.promise=null}asStream(){return new K_(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return J(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Oe(e))return{data:null,error:e};throw e}})}}qv=Symbol.toStringTag;const J_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Q_{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=dh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return J(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},gp),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?Hu:Qt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Oe(i))return{data:null,error:i};throw i}})}upload(e,r,n){return J(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return J(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:gp.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield Hu(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Oe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return J(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Qt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new uh("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}update(e,r,n){return J(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return J(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}})}copy(e,r,n){return J(this,void 0,void 0,function*(){try{return{data:{path:(yield Qt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return J(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Qt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return J(this,void 0,void 0,function*(){try{const s=yield Qt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"",l=this._getFinalPath(e),c=()=>aa(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new G_(c,this.shouldThrowOnError)}info(e){return J(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield aa(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Bu(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}exists(e){return J(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield W_(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n)&&n instanceof Fu){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return J(this,void 0,void 0,function*(){try{return{data:yield hh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}list(e,r,n){return J(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},J_),r),{prefix:e||""});return{data:yield Qt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}})}listV2(e,r){return J(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Qt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Wv="2.84.0",Kv={"X-Client-Info":`storage-js/${Wv}`};class Y_{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Kv),r),this.fetch=dh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return J(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield aa(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}getBucket(e){return J(this,void 0,void 0,function*(){try{return{data:yield aa(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}createBucket(e){return J(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Qt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return J(this,void 0,void 0,function*(){try{return{data:yield Hu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}emptyBucket(e){return J(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}deleteBucket(e){return J(this,void 0,void 0,function*(){try{return{data:yield hh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class X_{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Kv),r),this.fetch=dh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return J(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}listBuckets(e){return J(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield aa(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}deleteBucket(e){return J(this,void 0,void 0,function*(){try{return{data:yield hh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}}const fh={"X-Client-Info":`storage-js/${Wv}`,"Content-Type":"application/json"};class Gv extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ct(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Nc extends Gv{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Z_ extends Gv{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var vp;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(vp||(vp={}));const ph=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),eS=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},yp=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tS=(t,e,r)=>J(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";e(new Nc(yp(a),s,l))}).catch(()=>{const a=s+"",l=i.statusText||`HTTP ${s} error`;e(new Nc(l,s,a))});else{const a=s+"",l=i.statusText||`HTTP ${s} error`;e(new Nc(l,s,a))}}else e(new Z_(yp(t),t))}),rS=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(eS(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function nS(t,e,r,n,s,i){return J(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(r,rS(e,n,s,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>tS(c,l,n))})})}function Pt(t,e,r,n,s){return J(this,void 0,void 0,function*(){return nS(t,"POST",e,n,s,r)})}class sS{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fh),r),this.fetch=ph(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return J(this,void 0,void 0,function*(){try{return{data:(yield Pt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}getIndex(e,r){return J(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}})}listIndexes(e){return J(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return J(this,void 0,void 0,function*(){try{return{data:(yield Pt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}})}}class iS{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fh),r),this.fetch=ph(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return J(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Pt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}getVectors(e){return J(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}listVectors(e){return J(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Pt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}queryVectors(e){return J(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}deleteVectors(e){return J(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Pt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}}class aS{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fh),r),this.fetch=ph(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return J(this,void 0,void 0,function*(){try{return{data:(yield Pt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}getBucket(e){return J(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}listBuckets(){return J(this,arguments,void 0,function*(e={}){try{return{data:yield Pt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}deleteBucket(e){return J(this,void 0,void 0,function*(){try{return{data:(yield Pt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}}class oS extends aS{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new lS(this.url,this.headers,e,this.fetch)}}class lS extends sS{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return J(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return J(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return J(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return J(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new cS(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class cS extends iS{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return J(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return J(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return J(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return J(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return J(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class uS extends Y_{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new Q_(this.url,this.headers,e,this.fetch)}get vectors(){return new oS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new X_(this.url+"/iceberg",this.headers,this.fetch)}}const dS="2.84.0";let xi="";typeof Deno<"u"?xi="deno":typeof document<"u"?xi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xi="react-native":xi="node";const hS={"X-Client-Info":`supabase-js-${xi}/${dS}`},fS={headers:hS},pS={schema:"public"},mS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gS={},vS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),yS=()=>Headers,xS=(t,e,r)=>{const n=vS(r),s=yS();return async(i,a)=>{var l;const c=(l=await e())!==null&&l!==void 0?l:t;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},a),{headers:u}))}};function wS(t){return t.endsWith("/")?t:t+"/"}function bS(t,e){var r,n;const{db:s,auth:i,realtime:a,global:l}=t,{db:c,auth:u,realtime:d,global:h}=e,p={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function jS(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(wS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Jv="2.84.0",ns=30*1e3,Vu=3,kc=Vu*ns,_S="http://localhost:9999",SS="supabase.auth.token",NS={"X-Client-Info":`gotrue-js/${Jv}`},qu="X-Supabase-Api-Version",Qv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ES=10*60*1e3;class oa extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function X(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class CS extends oa{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function PS(t){return X(t)&&t.name==="AuthApiError"}class xn extends oa{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class sn extends oa{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Nt extends sn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function RS(t){return X(t)&&t.name==="AuthSessionMissingError"}class Gn extends sn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class io extends sn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ao extends sn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function OS(t){return X(t)&&t.name==="AuthImplicitGrantRedirectError"}class xp extends sn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wu extends sn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Ec(t){return X(t)&&t.name==="AuthRetryableFetchError"}class wp extends sn{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ku extends sn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const sl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bp=` 	
\r=`.split(""),TS=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<bp.length;e+=1)t[bp[e].charCodeAt(0)]=-2;for(let e=0;e<sl.length;e+=1)t[sl[e].charCodeAt(0)]=e;return t})();function jp(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(sl[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(sl[n]),e.queuedBits-=6}}function Yv(t,e,r){const n=TS[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function _p(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{IS(a,n,r)};for(let a=0;a<t.length;a+=1)Yv(t.charCodeAt(a),s,i);return e.join("")}function LS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function AS(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}LS(n,e)}}function IS(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function ks(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Yv(t.charCodeAt(s),r,n);return new Uint8Array(e)}function DS(t){const e=[];return AS(t,r=>e.push(r)),new Uint8Array(e)}function Nn(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>jp(s,r,n)),jp(null,r,n),e.join("")}function $S(t){return Math.round(Date.now()/1e3)+t}function MS(){return Symbol("auth-callback")}const Ye=()=>typeof window<"u"&&typeof document<"u",dn={tested:!1,writable:!1},Xv=()=>{if(!Ye())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(dn.tested)return dn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),dn.tested=!0,dn.writable=!0}catch{dn.tested=!0,dn.writable=!1}return dn.writable};function zS(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Zv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),US=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ss=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},hn=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Or=async(t,e)=>{await t.removeItem(e)};class $l{constructor(){this.promise=new $l.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}$l.promiseConstructor=Promise;function Cc(t){const e=t.split(".");if(e.length!==3)throw new Ku("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!kS.test(e[n]))throw new Ku("JWT not in base64url format");return{header:JSON.parse(_p(e[0])),payload:JSON.parse(_p(e[1])),signature:ks(e[2]),raw:{header:e[0],payload:e[1]}}}async function FS(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function BS(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function HS(t){return("0"+t.toString(16)).substr(-2)}function VS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,HS).join("")}async function qS(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function WS(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await qS(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jn(t,e,r=!1){const n=VS();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ss(t,`${e}-code-verifier`,s);const i=await WS(n);return[i,n===i?"plain":"s256"]}const KS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function GS(t){const e=t.headers.get(qu);if(!e||!e.match(KS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function JS(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function QS(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const YS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qn(t){if(!YS.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Pc(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function XS(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function Sp(t){return JSON.parse(JSON.stringify(t))}const mn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ZS=[502,503,504];async function Np(t){var e;if(!US(t))throw new Wu(mn(t),0);if(ZS.includes(t.status))throw new Wu(mn(t),t.status);let r;try{r=await t.json()}catch(i){throw new xn(mn(i),i)}let n;const s=GS(t);if(s&&s.getTime()>=Qv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new wp(mn(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Nt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new wp(mn(r),t.status,r.weak_password.reasons);throw new CS(mn(r),t.status||500,n)}const eN=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ae(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[qu]||(i[qu]=Qv["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await tN(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function tN(t,e,r,n,s,i){const a=eN(e,n,s,i);let l;try{l=await t(r,Object.assign({},a))}catch(c){throw console.error(c),new Wu(mn(c),0)}if(l.ok||await Np(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Np(c)}}function Gt(t){var e;let r=null;sN(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=$S(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function kp(t){const e=Gt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Mr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function rN(t){return{data:t,error:null}}function nN(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=Hs(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function Ep(t){return t}function sN(t){return t.access_token&&t.refresh_token&&t.expires_in}const Rc=["global","local","others"];class iN{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Zv(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Rc[0]){if(Rc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rc.join(", ")}`);try{return await ae(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Mr})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Hs(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:nN,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(X(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ae(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Mr})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ep});if(d.error)throw d.error;const h=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(X(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Qn(e);try{return await ae(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Mr})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Qn(e);try{return await ae(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Mr})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Qn(e);try{return await ae(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Mr})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Qn(e.userId);try{const{data:r,error:n}=await ae(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(X(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Qn(e.userId),Qn(e.id);try{return{data:await ae(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ep});if(d.error)throw d.error;const h=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(X(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(X(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(X(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await ae(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(X(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await ae(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(X(r))return{data:null,error:r};throw r}}}function Cp(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Yn={debug:!!(globalThis&&Xv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ey extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class aN extends ey{}async function oN(t,e,r){Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new aN(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Yn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function lN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ty(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function cN(t){return parseInt(t,16)}function uN(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function dN(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:p}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=ty(t.address),g=d?`${d}://${n}`:n,y=t.statement?`${t.statement}
`:"",x=`${g} wants you to sign in with your Ethereum account:
${f}

${y}`;let v=`URI: ${h}
Version: ${p}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(v+=`
Expiration Time: ${s.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),c&&(v+=`
Request ID: ${c}`),u){let m=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);m+=`
- ${w}`}v+=m}return`${x}
${v}`}class Fe extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class il extends Fe{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function hN({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Fe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(ry(a)){if(i.rp.id!==a)return new Fe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function fN({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Fe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(ry(n)){if(r.rpId!==n)return new Fe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class pN{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const mN=new pN;function gN(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=Hs(t,["challenge","user","excludeCredentials"]),i=ks(e).buffer,a=Object.assign(Object.assign({},r),{id:ks(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:ks(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function vN(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Hs(t,["challenge","allowCredentials"]),s=ks(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:ks(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function yN(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Nn(new Uint8Array(t.response.attestationObject)),clientDataJSON:Nn(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function xN(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Nn(new Uint8Array(s.authenticatorData)),clientDataJSON:Nn(new Uint8Array(s.clientDataJSON)),signature:Nn(new Uint8Array(s.signature)),userHandle:s.userHandle?Nn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ry(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Pp(){var t,e;return!!(Ye()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function wN(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new il("Browser returned unexpected credential type",e)}:{data:null,error:new il("Empty credential response",e)}}catch(e){return{data:null,error:hN({error:e,options:t})}}}async function bN(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new il("Browser returned unexpected credential type",e)}:{data:null,error:new il("Empty credential response",e)}}catch(e){return{data:null,error:fN({error:e,options:t})}}}const jN={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},_N={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function al(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(e(a)){const l=n[i];e(l)?n[i]=al(l,a):n[i]=al(a)}else n[i]=a}return n}function SN(t,e){return al(jN,t,e||{})}function NN(t,e){return al(_N,t,e||{})}class kN{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:l};const c=s??mN.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=SN(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await wN({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=NN(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await bN(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return X(a)?{data:null,error:a}:{data:null,error:new xn("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new oa("rpId is required for WebAuthn authentication")};try{if(!Pp())return{data:null,error:new xn("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(a){return X(a)?{data:null,error:a}:{data:null,error:new xn("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new oa("rpId is required for WebAuthn registration")};try{if(!Pp())return{data:null,error:new xn("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return X(a)?{data:null,error:a}:{data:null,error:new xn("Unexpected error in register",a)}}}}lN();const EN={url:_S,storageKey:SS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:NS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Rp(t,e,r){return await r()}const Xn={};class la{get jwks(){var e,r;return(r=(e=Xn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Xn[this.storageKey]=Object.assign(Object.assign({},Xn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Xn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Xn[this.storageKey]=Object.assign(Object.assign({},Xn[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},EN),e);if(this.storageKey=i.storageKey,this.instanceID=(r=la.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,la.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ye()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new iN({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Zv(i.fetch),this.lock=i.lock||Rp,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Ye()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=oN:this.lock=Rp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new kN(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Xv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Cp(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Cp(this.memoryStorage)),Ye()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Jv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Ye()&&(r=zS(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ye()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),OS(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return X(r)?this._returnResult({error:r}):this._returnResult({error:new xn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Gt}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(X(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:p}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await Jn(this.storage,this.storageKey)),i=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:g},xform:Gt})}else if("phone"in e){const{phone:d,password:h,options:p}=e;i=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Gt})}else throw new io("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(X(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:l}=e;r=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:kp})}else if("phone"in e){const{phone:i,password:a,options:l}=e;r=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:kp})}else throw new io("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Gn;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(X(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,a,l,c,u,d,h,p;let f,g;if("message"in e)f=e.message,g=e.signature;else{const{chain:y,wallet:x,statement:v,options:m}=e;let w;if(Ye())if(typeof x=="object")w=x;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")w=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const S=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),N=await w.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=ty(N[0]);let j=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const M=await w.request({method:"eth_chainId"});j=cN(M)}const T={domain:S.host,address:R,statement:v,uri:S.href,version:"1",chainId:j,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=dN(T),g=await w.request({method:"personal_sign",params:[uN(f),R]})}try{const{data:y,error:x}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:g},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Gt});if(x)throw x;if(!y||!y.session||!y.user){const v=new Gn;return this._returnResult({data:{user:null,session:null},error:v})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:x})}catch(y){if(X(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var r,n,s,i,a,l,c,u,d,h,p,f;let g,y;if("message"in e)g=e.message,y=e.signature;else{const{chain:x,wallet:v,statement:m,options:w}=e;let S;if(Ye())if(typeof v=="object")S=v;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))S=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const N=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const R=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),m?{statement:m}:null));let j;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")j=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)j=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)g=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),y=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${N.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const R=await S.signMessage(new TextEncoder().encode(g),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=R}}try{const{data:x,error:v}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Nn(y)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Gt});if(v)throw v;if(!x||!x.session||!x.user){const m=new Gn;return this._returnResult({data:{user:null,session:null},error:m})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:v})}catch(x){if(X(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const r=await hn(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Gt});if(await Or(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new Gn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(X(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,l=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Gt}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Gn;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(X(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Jn(this.storage,this.storageKey));const{error:h}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new io("You must provide either an email or phone number.")}catch(l){if(X(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Gt});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(X(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Jn(this.storage,this.storageKey));const u=await ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:rN});return!((i=u.data)===null||i===void 0)&&i.url&&Ye()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(X(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Nt;const{error:s}=await ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(X(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await ae(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:l}=await ae(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new io("You must provide either an email or phone number and a type")}catch(r){if(X(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await hn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<kc:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await hn(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Pc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=XS(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Mr}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nt}:await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Mr})})}catch(r){if(X(r))return RS(r)&&(await this._removeSession(),await Or(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Nt;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Jn(this.storage,this.storageKey));const{data:u,error:d}=await ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Mr});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(X(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Nt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Cc(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(X(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:l}=r;if(l)throw l;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Nt;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(X(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Ye())throw new ao("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ao(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new xp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ao("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new xp("No code detected.");const{data:m,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!a||!u)throw new ao("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let p=d+h;c&&(p=parseInt(c));const f=p-d;f*1e3<=ns&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const g=p-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,p,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,p,d);const{data:y,error:x}=await this._getUser(i);if(x)throw x;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:e.type},error:null})}catch(n){if(X(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await hn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(PS(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await Or(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=MS(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Jn(this.storage,this.storageKey,!0));try{return await ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(X(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:h,error:p}=i;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ae(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ye()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(X(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:l,token:c,access_token:u,nonce:d}=e,h=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Gt}),{data:p,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new Gn}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:f}))}catch(s){if(X(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await ae(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await BS(async s=>(s>0&&await FS(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Gt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Ec(i)&&Date.now()+a-n<ns})}catch(n){if(this._debug(r,"error",n),X(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ye()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await hn(this.storage,this.storageKey);if(s&&this.userStorage){let a=await hn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await ss(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Pc()}else if(s&&!s.user&&!s.user){const a=await hn(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Or(this.storage,this.storageKey+"-user"),await ss(this.storage,this.storageKey,s)):s.user=Pc()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<kc;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${kc}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Ec(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Nt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new $l;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Nt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),X(i)){const a={data:null,error:i};return Ec(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ss(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Sp(s);await ss(this.storage,this.storageKey,i)}else{const s=Sp(r);await ss(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Or(this.storage,this.storageKey),await Or(this.storage,this.storageKey+"-code-verifier"),await Or(this.storage,this.storageKey+"-user"),this.userStorage&&await Or(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ye()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ns);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/ns);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ns}ms, refresh threshold is ${Vu} ticks`),s<=Vu&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ey)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ye()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Jn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await ae(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await ae(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?yN(e.webauthn.credential_response):xN(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await ae(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await ae(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:gN(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:vN(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Cc(n.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await ae(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Nt})})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Nt});const a=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Ye()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(X(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Nt});const a=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Ye()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(X(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await ae(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Nt})})}catch(e){if(X(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await ae(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new Nt})})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+ES>s)return n;const{data:i,error:a}=await ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:f,error:g}=await this.getSession();if(g||!f.session)return this._returnResult({data:null,error:g});n=f.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=Cc(n);r!=null&&r.allowExpired||JS(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:s,signature:a},error:null}}const d=QS(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,DS(`${l}.${c}`)))throw new Ku("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(X(n))return this._returnResult({data:null,error:n});throw n}}}la.nextInstanceID={};const CN=la;class PN extends CN{constructor(e){super(e)}}class RN{constructor(e,r,n){var s,i,a;this.supabaseUrl=e,this.supabaseKey=r;const l=jS(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:pS,realtime:gS,auth:Object.assign(Object.assign({},mS),{storageKey:c}),global:fS},d=bS(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=xS(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new __(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new uS(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new w_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:a,flowType:l,lock:c,debug:u,throwOnError:d},h,p){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new PN({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),h),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:c,debug:u,throwOnError:d,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new U_(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ON=(t,e,r)=>new RN(t,e,r);function TN(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}TN()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const LN="https://zhimcixubyylezjvpzpc.supabase.co",AN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpoaW1jaXh1Ynl5bGV6anZwenBjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM5MDcyMjgsImV4cCI6MjA3OTQ4MzIyOH0.DRPrgd6XAHk5HU53PtuFUMWItvjpx78dF1tycNTEfps",me=ON(LN,AN),ny=async()=>{const{data:t,error:e}=await me.from("recursos").select(`
            *,
            categorias ( nombre )
        `);return e?(console.error("Error al obtener recursos:",e),[]):t.map(r=>{var n;return{...r,categoria:((n=r.categorias)==null?void 0:n.nombre)||"Sin Categora",stock:r.stock_total}})},sy=async()=>{const{data:t,error:e}=await me.from("sedes").select(`
            *,
            sede_servicios (
                servicios ( nombre )
            )
        `);return e?(console.error("Error al obtener sedes:",e),[]):t.map(r=>({...r,servicios:r.sede_servicios.map(n=>n.servicios.nombre)}))},iy=async()=>{const{data:t,error:e}=await me.from("horarios_sede").select("*");return e?(console.error("Error al obtener horarios:",e),[]):t},ay=async()=>{const{data:t,error:e}=await me.from("configuracion").select("*");if(e)return console.error("Error al obtener configuracin:",e),[];const r={};return t.forEach(n=>{r[n.clave]=n.valor}),r},oy=async()=>{const{data:t,error:e}=await me.from("usuarios").select(`
            *,
            roles ( nombre )
        `);return e?(console.error("Error al obtener usuarios:",e),[]):t.map(r=>{var i,a;let n="cliente";const s=((a=(i=r.roles)==null?void 0:i.nombre)==null?void 0:a.toLowerCase())||"";return s.includes("admin")?n="admin":s.includes("vend")?n="vendedor":s.includes("mecanic")||s.includes("mecnic")?n="mecanico":(s.includes("due")||s.includes("duen"))&&(n="dueno"),{...r,rol:n,sede:r.sede_id}})},ly=async t=>{var i,a;const{data:e,error:r}=await me.from("usuarios").select(`
            *,
            roles ( nombre )
        `).eq("id",t).single();if(r)return console.error("Error al obtener usuario por ID:",r),null;let n="cliente";const s=((a=(i=e.roles)==null?void 0:i.nombre)==null?void 0:a.toLowerCase())||"";return s.includes("admin")?n="admin":s.includes("vend")?n="vendedor":s.includes("mecanic")||s.includes("mecnic")?n="mecanico":(s.includes("due")||s.includes("duen"))&&(n="dueno"),{...e,rol:n,sede:e.sede_id}},cy=async t=>{const e=t.items.map(s=>({id:s.id,cantidad:s.cantidad,horas:s.horas,precioPorHora:s.precioPorHora,categoria:s.categoria})),{data:r,error:n}=await me.rpc("crear_reserva_robusta",{p_cliente_id:t.clienteId,p_vendedor_id:t.vendedorId,p_sede_id:t.sedeId||"costa",p_items:e,p_fecha_inicio:t.fechaInicio,p_tipo_reserva:t.tipoReserva,p_metodo_pago_id:t.metodoPago,p_tipo_comprobante:t.tipoComprobante,p_datos_factura:t.datosFactura});return n?(console.error("Error al crear reserva:",n),{success:!1,error:n.message}):r},IN=async(t,e)=>{const r=t.map(i=>({id:i.id,cantidad:i.cantidad,horas:i.horas})),{data:n,error:s}=await me.rpc("verificar_disponibilidad_items",{p_fecha_inicio:e,p_items:r});return s?(console.error("Error al verificar disponibilidad:",s),{valido:!1,mensaje:"Error de conexin al verificar disponibilidad"}):n},DN=async(t,e)=>{const r=t.map(i=>({id:i.id,cantidad:i.cantidad,horas:i.horas,precioPorHora:i.precioPorHora,categoria:i.categoria})),{data:n,error:s}=await me.rpc("calcular_descuento_simulado",{p_items:r,p_fecha_inicio:e||new Date});return s?(console.error("Error al calcular descuentos:",s),{descuentoTotal:0,alertas:[],promocionesAplicadas:[]}):n},uy=async t=>{const{data:e,error:r}=await me.rpc("registrar_devolucion_robusta",{p_alquiler_id:t});return r?(console.error("Error al registrar devolucin:",r),{success:!1,error:r}):e},ko=async()=>{const{data:t,error:e}=await me.from("alquileres").select(`
            *,
            alquiler_detalles (
                *,
                recursos ( nombre, imagen )
            ),
            usuarios!cliente_id ( nombre, email ),
            estados_alquiler ( nombre )
        `);return e?(console.error("Error al obtener alquileres:",e),[]):t.map(r=>{var n;return{...r,estado:((n=r.estados_alquiler)==null?void 0:n.nombre)||r.estado_id,items:r.alquiler_detalles.map(s=>{var i,a;return{id:s.recurso_id,nombre:(i=s.recursos)==null?void 0:i.nombre,imagen:(a=s.recursos)==null?void 0:a.imagen,cantidad:s.cantidad,horas:s.horas,precioPorHora:s.precio_unitario}})}})},$N=async()=>{const{data:t,error:e}=await me.from("promociones").select("*");return e?(console.error("Error al obtener promociones:",e),[]):t},dy=async t=>{const e={nombre:t.nombre,email:t.email,password:t.password,numero_documento:t.numeroDocumento,fecha_nacimiento:t.fechaNacimiento,licencia_conducir:t.licenciaConducir,tipo_documento:t.tipoDocumento||"DNI",nacionalidad:t.nacionalidad||"Nacional",rol_id:"cliente"},{data:r,error:n}=await me.from("usuarios").insert([e]).select();return n?(console.error("Error al registrar usuario:",n),{success:!1,error:n}):{success:!0,data:r[0]}},Gu=async(t,e)=>{const r={...e};r.rol&&(r.rol_id=r.rol,delete r.rol);const{data:n,error:s}=await me.from("usuarios").update(r).eq("id",t).select();return s?(console.error("Error al actualizar usuario:",s),{success:!1,error:s}):{success:!0,data:n[0]}},hy=async(t,e)=>{const{data:r,error:n}=await me.rpc("reprogramar_alquiler_robusto",{p_alquiler_id:t,p_horas_adicionales:e});return n?(console.error("Error al reprogramar:",n),{success:!1,error:n}):r},fy=async(t,e,r)=>{const{data:n,error:s}=await me.rpc("aplicar_descuento_manual",{p_alquiler_id:t,p_porcentaje:e,p_motivo:r});return s?(console.error("Error al aplicar descuento:",s),{success:!1,error:s}):n},py=async t=>{const{data:e,error:r}=await me.rpc("registrar_pago_saldo",{p_alquiler_id:t});return r?(console.error("Error al registrar pago:",r),{success:!1,error:r}):e},my=async t=>{const{data:e,error:r}=await me.rpc("aprobar_reserva",{p_alquiler_id:t});return r?(console.error("Error al aprobar reserva:",r),{success:!1,error:r}):e},gy=async t=>{const{data:e,error:r}=await me.rpc("entregar_alquiler_robusto",{p_alquiler_id:t});return r?(console.error("Error al entregar alquiler:",r),{success:!1,error:r}):e},Ju=async(t,e,r)=>{const{data:n,error:s}=await me.rpc("gestionar_mantenimiento",{p_recurso_id:t,p_accion:e,p_motivo:r});return s?(console.error("Error al gestionar mantenimiento:",s),{success:!1,error:s}):n},vy=async t=>{const{data:e,error:r}=await me.rpc("registrar_no_show_robusto",{p_alquiler_id:t});return r?(console.error("Error al registrar No Show:",r),{success:!1,error:r}):e},MN=async(t,e)=>{const r={};e.nombre&&(r.nombre=e.nombre),e.precioPorHora&&(r.precio_por_hora=e.precioPorHora),e.stock!==void 0&&(r.stock_total=e.stock),e.imagen&&(r.imagen=e.imagen),e.descripcion&&(r.descripcion=e.descripcion),e.activo!==void 0&&(r.activo=e.activo);const{data:n,error:s}=await me.from("recursos").update(r).eq("id",t).select();return s?(console.error("Error al actualizar recurso:",s),{success:!1,error:s}):{success:!0,data:n[0]}},yy=async t=>{const{data:e,error:r}=await me.from("tarjetas_credito").select("*").eq("usuario_id",t);return r?(console.error("Error al obtener tarjetas:",r),[]):e},xy=async(t,e)=>{const{data:r,error:n}=await me.from("tarjetas_credito").insert([{usuario_id:t,numero_oculto:e.numero,token:"tok_simulado_"+Date.now(),expiracion:e.exp,titular:e.nombre,es_principal:e.principal}]).select();return n?(console.error("Error al agregar tarjeta:",n),{success:!1,error:n}):{success:!0,data:r[0]}},wy=async t=>{const{error:e}=await me.from("tarjetas_credito").delete().eq("id",t);return e?(console.error("Error al eliminar tarjeta:",e),{success:!1,error:e}):{success:!0}},by=async t=>{const{data:e,error:r}=await me.from("soporte_tickets").select(`
            *,
            usuario:usuario_id ( nombre, rol_id, roles ( nombre ) )
        `).eq("usuario_id",t).order("created_at",{ascending:!1});return r?(console.error("Error al obtener tickets:",r),[]):e.map(n=>{var s,i;return{...n,usuario:{...n.usuario,rol:((i=(s=n.usuario)==null?void 0:s.roles)==null?void 0:i.nombre)||"usuario"}}})},jy=async(t,e)=>{const{data:r,error:n}=await me.from("soporte_tickets").insert([{usuario_id:t,asunto:e.asunto,mensaje:e.mensaje,estado:"pendiente"}]).select().single();if(n)return{success:!1,error:n};const{error:s}=await me.from("mensajes").insert([{remitente_id:t,destinatario_id:"u2",asunto:`[Ticket #${r.id}] ${e.asunto}`,contenido:e.mensaje,leido:!1}]);return s&&console.warn("No se pudo crear copia en mensajes:",s),{success:!0,data:r}},_y=async t=>{const{data:e,error:r}=await me.from("mensajes").select(`
            *,
            remitente:remitente_id ( nombre, rol_id, roles ( nombre ) ),
            destinatario:destinatario_id ( nombre, rol_id, roles ( nombre ) )
        `).or(`remitente_id.eq.${t},destinatario_id.eq.${t}`).order("created_at",{ascending:!1});return r?(console.error("Error al obtener mensajes:",r),[]):e},Sy=async t=>{const{data:e,error:r}=await me.from("v_mis_gastos").select("*").eq("cliente_id",t).order("created_at",{ascending:!1});return r?(console.error("Error al obtener mis gastos:",r),[]):e},Ny=async t=>{const{data:e,error:r}=await me.from("v_mis_reclamos").select("*").eq("usuario_id",t).order("created_at",{ascending:!1});return r?(console.error("Error al obtener mis reclamos:",r),[]):e},ky=async()=>{const{data:t,error:e}=await me.from("recursos").select("id, nombre, guia_seguridad, imagen").not("guia_seguridad","is",null);return e?(console.error("Error al obtener guas:",e),[]):t},Ey=async t=>{const{data:e,error:r}=await me.from("paginas").select("*").eq("slug",t).single();return r?(console.error("Error al obtener pgina:",r),null):e},Cy=async()=>{const{data:t,error:e}=await me.from("faqs").select("*").order("orden",{ascending:!0});return e?(console.error("Error al obtener faqs:",e),[]):t},ca=Object.freeze(Object.defineProperty({__proto__:null,actualizarRecursoDB:MN,actualizarUsuarioDB:Gu,agregarTarjeta:xy,aplicarDescuentoManualDB:fy,aprobarReservaDB:my,calcularDescuentosDB:DN,crearReserva:cy,crearTicket:jy,eliminarTarjeta:wy,entregarAlquilerDB:gy,gestionarMantenimientoDB:Ju,obtenerAlquileres:ko,obtenerConfiguracion:ay,obtenerFaqs:Cy,obtenerGuiasSeguridad:ky,obtenerHorarios:iy,obtenerMensajes:_y,obtenerMisGastos:Sy,obtenerMisReclamos:Ny,obtenerPagina:Ey,obtenerPromociones:$N,obtenerRecursos:ny,obtenerSedes:sy,obtenerTarjetas:yy,obtenerTickets:by,obtenerUsuarioPorId:ly,obtenerUsuarios:oy,registrarDevolucionDB:uy,registrarNoShowDB:vy,registrarPagoSaldoDB:py,registrarUsuarioDB:dy,reprogramarAlquilerDB:hy,verificarDisponibilidadDB:IN},Symbol.toStringTag,{value:"Module"})),tt=b.createContext(),zN=({children:t})=>{const[e,r]=b.useState([]),[n,s]=b.useState(null),[i,a]=b.useState(!0);b.useEffect(()=>{(async()=>{const y=(await oy()).map(v=>({...v,numeroDocumento:v.numero_documento,fechaNacimiento:v.fecha_nacimiento,licenciaConducir:v.licencia_conducir,tipoDocumento:v.tipo_documento,contactoEmergencia:v.contacto_emergencia,codigoEmpleado:v.codigo_empleado}));r(y);const x=localStorage.getItem("usuario_verano_id");if(x)try{const v=await ly(x);if(v){const m={...v,numeroDocumento:v.numero_documento,fechaNacimiento:v.fecha_nacimiento,licenciaConducir:v.licencia_conducir,tipoDocumento:v.tipo_documento,contactoEmergencia:v.contacto_emergencia,codigoEmpleado:v.codigo_empleado};s(m)}else localStorage.removeItem("usuario_verano_id")}catch(v){console.error("Error restaurando sesin:",v),localStorage.removeItem("usuario_verano_id")}a(!1)})()},[]);const l=(f,g)=>{const y=e.find(x=>x.email===f&&x.password===g);return y?(s(y),localStorage.setItem("usuario_verano_id",y.id),!0):!1},c=async f=>{const g={nombre:f.nombre,email:f.email,password:f.password,numero_documento:f.numeroDocumento,fecha_nacimiento:f.fechaNacimiento,licencia_conducir:f.licenciaConducir,tipo_documento:f.tipoDocumento,nacionalidad:f.nacionalidad},y=await dy(g);if(y.success){const x={...y.data,...f,id:y.data.id,rol:"cliente"};return r(v=>[...v,x]),s(x),localStorage.setItem("usuario_verano_id",x.id),!0}else return alert("Error al registrar usuario."),!1},u=()=>{s(null),localStorage.removeItem("usuario_verano_id")},d=async(f,g)=>{const y={};g.nombre!==void 0&&(y.nombre=g.nombre),g.telefono!==void 0&&(y.telefono=g.telefono),g.tipoDocumento!==void 0&&(y.tipo_documento=g.tipoDocumento),g.numeroDocumento!==void 0&&(y.numero_documento=g.numeroDocumento),g.fechaNacimiento!==void 0&&(y.fecha_nacimiento=g.fechaNacimiento),g.nacionalidad!==void 0&&(y.nacionalidad=g.nacionalidad),g.licenciaConducir!==void 0&&(y.licencia_conducir=g.licenciaConducir),g.direccion!==void 0&&(y.direccion=g.direccion),g.contactoEmergencia!==void 0&&(y.contacto_emergencia=g.contactoEmergencia),g.codigoEmpleado!==void 0&&(y.codigo_empleado=g.codigoEmpleado),g.turno!==void 0&&(y.turno=g.turno),g.especialidad!==void 0&&(y.especialidad=g.especialidad),g.experiencia!==void 0&&(y.experiencia=g.experiencia),g.anexo!==void 0&&(y.anexo=g.anexo),g.oficina!==void 0&&(y.oficina=g.oficina),r(v=>v.map(m=>m.id===f?{...m,...g}:m)),n&&n.id===f&&s(v=>({...v,...g}));const x=await Gu(f,y);x.success||(console.error("Error al actualizar perfil:",x.error),alert("Error al actualizar perfil en base de datos."))},h=(f,g,y=null)=>{r(x=>x.map(v=>v.id===f?{...v,rol:g,sede:y}:v)),Gu(f,{rol:g,sede_id:y})},p=f=>{r(g=>g.filter(y=>y.id!==f))};return o.jsx(tt.Provider,{value:{usuario:n,usuarios:e,iniciarSesion:l,registrarUsuario:c,cerrarSesion:u,actualizarPerfil:d,cambiarRolUsuario:h,eliminarUsuario:p,cargando:i},children:t})},ua=t=>t?new Date(t).toLocaleString("es-PE",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",_t=b.createContext(),UN=({children:t})=>{const[e,r]=b.useState([]),[n,s]=b.useState([]),[i,a]=b.useState([]),[l,c]=b.useState([]),[u,d]=b.useState({}),[h,p]=b.useState("costa"),f=async()=>{try{const[A,z,D,O,I]=await Promise.all([ny(),sy(),ko(),iy(),ay()]),H=A.map(F=>({...F,stockTotal:F.stock,sedeId:F.sede_id,precioPorHora:F.precio_por_hora}));r(H),a(z),c(O),d(I),s(D.map(F=>{var oe;return{...F,fechaInicio:F.fecha_inicio,clienteId:F.cliente_id,vendedorId:F.vendedor_id,totalServicio:F.total_servicio,totalFinal:F.total_final,montoPagado:F.monto_pagado,saldoPendiente:F.saldo_pendiente,tipoReserva:F.tipo_reserva,sedeId:F.sede_id,cliente:((oe=F.usuarios)==null?void 0:oe.nombre)||"Cliente Desconocido"}}))}catch(A){console.error("Error al recargar datos:",A)}};b.useEffect(()=>{f()},[]);const g=A=>{if(!l||l.length===0)return{abierto:!1,mensaje:"Horario no disponible"};const z=new Date,D=z.getDay(),O=z.getHours()*60+z.getMinutes(),I=l.find(je=>je.sede_id===A&&je.dia_semana===D);if(!I||I.cerrado)return{abierto:!1,mensaje:"Cerrado hoy"};const[H,F]=I.hora_apertura.split(":").map(Number),[oe,xe]=I.hora_cierre.split(":").map(Number),pe=H*60+F,we=oe*60+xe;return O>=pe&&O<we?{abierto:!0,mensaje:`Abierto hasta las ${I.hora_cierre.slice(0,5)}`}:{abierto:!1,mensaje:`Cerrado. Abre a las ${I.hora_apertura.slice(0,5)}`}},y=e.filter(A=>A.sedeId===h),x=A=>{console.warn("Agregar producto no implementado en DB an")},v=async(A,z)=>{const{actualizarRecursoDB:D}=await As(async()=>{const{actualizarRecursoDB:I}=await Promise.resolve().then(()=>ca);return{actualizarRecursoDB:I}},[]);return(await D(A,z)).success?(r(I=>I.map(H=>H.id===A?{...H,...z}:H)),!0):(alert("Error al actualizar el producto en la base de datos."),!1)},m=A=>{console.warn("Eliminar producto no implementado en DB an")},w=async(A,z)=>{const{verificarDisponibilidadDB:D}=await As(async()=>{const{verificarDisponibilidadDB:O}=await Promise.resolve().then(()=>ca);return{verificarDisponibilidadDB:O}},void 0);return await D(A,z)},S=async A=>{const z=await cy(A);if(z&&z.success)return await f(),!0;{const D=(z==null?void 0:z.error)||"Error al registrar la reserva.";return alert(D),!1}},N=async A=>{const z=await my(A);return z.success?(s(D=>D.map(O=>O.id===A?{...O,estado:"listo_para_entrega"}:O)),!0):(alert(z.error),!1)},R=async(A,z)=>{const D=await hy(A,z);if(D.success){const O=await ko();return s(O.map(I=>({...I,fechaInicio:I.fecha_inicio,clienteId:I.cliente_id,vendedorId:I.vendedor_id,totalServicio:I.total_servicio,totalFinal:I.total_final,montoPagado:I.monto_pagado,saldoPendiente:I.saldo_pendiente,tipoReserva:I.tipo_reserva,sedeId:I.sede_id}))),!0}else return alert(D.error),!1},j=async(A,z)=>{const D=await fy(A,z,"Descuento por Mantenimiento/Retraso");if(D.success){s(I=>I.map(H=>{if(H.id===A){const F=D.descuento_aplicado;return{...H,totalFinal:H.totalFinal-F}}return H}));const O=await ko();return s(O.map(I=>({...I,fechaInicio:I.fecha_inicio,clienteId:I.cliente_id,vendedorId:I.vendedor_id,totalServicio:I.total_servicio,totalFinal:I.total_final,montoPagado:I.monto_pagado,saldoPendiente:I.saldo_pendiente,tipoReserva:I.tipo_reserva,sedeId:I.sede_id}))),!0}else return alert(D.error),!1},T=async A=>{const z=await py(A);return z.success?(s(D=>D.map(O=>O.id===A?{...O,montoPagado:O.totalFinal,saldoPendiente:0,estado:O.estado==="pendiente"?"confirmado":O.estado}:O)),!0):(alert(z.error),!1)},M=async A=>{const z=await gy(A);return z.success?(s(D=>D.map(O=>O.id===A?{...O,estado:"en_uso",fechaEntrega:new Date}:O)),!0):(alert(z.error||"Error al entregar alquiler"),!1)},E=async(A,z="Mantenimiento preventivo")=>{const D=await Ju(A,"iniciar",z);return D.success?(r(O=>O.map(I=>I.id===A?{...I,activo:!1}:I)),!0):(alert(D.error),!1)},W=async A=>{const z=await Ju(A,"finalizar");return z.success?(r(D=>D.map(O=>O.id===A?{...O,activo:!0}:O)),!0):(alert(z.error),!1)},Q=async A=>{const z=await vy(A);return z.success?(s(D=>D.map(O=>O.id===A?{...O,estado:"no_show"}:O)),!0):(alert(z.error),!1)},G=async A=>{const z=await uy(A);return z.success?(s(D=>D.map(O=>O.id===A?{...O,estado:"limpieza",fechaDevolucionReal:new Date,penalizacion:z.penalizacion,totalFinal:z.nuevo_total}:O)),!0):(alert(z.error||"Error al registrar devolucin"),!1)},L=async A=>await E(A,"Fuera de Servicio");return o.jsx(_t.Provider,{value:{inventario:y,inventarioCompleto:e,alquileres:n,sedes:i,sedeActual:h,setSedeActual:p,agregarProducto:x,editarProducto:v,eliminarProducto:m,registrarAlquiler:S,aprobarParaEntrega:N,entregarAlquiler:M,devolverAlquiler:G,enviarAMantenimiento:E,finalizarMantenimiento:W,marcarFueraDeServicio:L,reprogramarAlquiler:R,verificarDisponibilidad:w,marcarNoShow:Q,aplicarDescuentoMantenimiento:j,registrarPagoSaldo:T,estaAbierto:g,configuracion:u},children:t})},Ml=b.createContext(),FN=({children:t})=>{const[e,r]=b.useState([]),[n,s]=b.useState(!1),i=(u,d)=>{r(h=>h.find(f=>f.id===u.id)?h.map(f=>f.id===u.id?{...f,cantidad:f.cantidad+1,horas:d}:f):[...h,{...u,cantidad:1,horas:d}]),s(!0)},a=u=>r(d=>d.filter(h=>h.id!==u)),l=()=>r([]),c=e.reduce((u,d)=>u+d.precioPorHora*d.horas*d.cantidad,0);return o.jsx(Ml.Provider,{value:{carrito:e,agregarAlCarrito:i,removerDelCarrito:a,limpiarCarrito:l,esVisible:n,setEsVisible:s,total:c},children:t})},mh=b.createContext(),BN=({children:t})=>{const[e,r]=b.useState([]);b.useEffect(()=>{(async()=>{const{obtenerPromociones:u}=await As(async()=>{const{obtenerPromociones:h}=await Promise.resolve().then(()=>ca);return{obtenerPromociones:h}},void 0),d=await u();r(d)})()},[]);const n=c=>{r(u=>[...u,{...c,id:Date.now().toString()}])},s=c=>{r(u=>u.map(d=>d.id===c?{...d,activo:!d.activo}:d))},i=c=>{r(u=>u.filter(d=>d.id!==c))},a=(c,u)=>{r(d=>d.map(h=>h.id===c?{...h,...u}:h))},l=async c=>{const{calcularDescuentosDB:u}=await As(async()=>{const{calcularDescuentosDB:d}=await Promise.resolve().then(()=>ca);return{calcularDescuentosDB:d}},void 0);return await u(c)};return o.jsx(mh.Provider,{value:{promociones:e,agregarPromocion:n,togglePromocion:s,eliminarPromocion:i,editarPromocion:a,calcularDescuentos:l},children:t})},Py=b.createContext(),HN=({children:t})=>{const[e,r]=b.useState(!1),[n,s]=b.useState(!1);return o.jsx(Py.Provider,{value:{mostrarLogin:e,setMostrarLogin:r,modoRegistro:n,setModoRegistro:s},children:t})},zl=()=>{const t=b.useContext(Py);if(!t)throw new Error("usarUI debe ser usado dentro de un ProveedorUI");return t},an=b.createContext(),VN=({children:t})=>{const{usuario:e}=b.useContext(tt),[r,n]=b.useState([]),[s,i]=b.useState([]),[a,l]=b.useState(!1);b.useEffect(()=>{e!=null&&e.id?c():(n([]),i([]))},[e]);const c=async()=>{l(!0);const[g,y]=await Promise.all([by(e.id),_y(e.id)]);n(g||[]),i(y||[]),l(!1)},u=async g=>{var v;const y={id:Date.now(),...g,fecha:new Date().toISOString(),estado:"abierto",leido:!1};n(m=>[y,...m]);const x=await jy(e.id,g);x.success?c():(console.error("Error DB:",x.error),alert(`Error al crear ticket: ${((v=x.error)==null?void 0:v.message)||JSON.stringify(x.error)}`))},d=g=>{i(y=>y.map(x=>x.id===g?{...x,leido:!0}:x))},h=g=>{n(y=>y.map(x=>x.id===g?{...x,estado:"cerrado"}:x))},p=g=>{n(y=>y.filter(x=>x.id!==g)),i(y=>y.filter(x=>x.id!==g))},f=s.filter(g=>!g.leido).length;return o.jsx(an.Provider,{value:{tickets:r,mensajes:s,crearTicket:u,marcarComoLeido:d,resolverTicket:h,eliminarTicket:p,ticketsNoLeidos:f,cargando:a},children:t})},Ds=({titulo:t,abierto:e,alCerrar:r,children:n})=>e?o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200",children:[o.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800",children:t}),o.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:o.jsx(Il,{size:24})})]}),o.jsx("div",{className:"p-4 max-h-[80vh] overflow-y-auto",children:n})]})}):null,ie=({children:t,onClick:e,variante:r="primario",className:n="",...s})=>{const i="px-4 py-2 rounded-lg font-medium transition-colors duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",a={primario:"bg-blue-600 text-white hover:bg-blue-700",secundario:"bg-gray-200 text-gray-800 hover:bg-gray-300",peligro:"bg-red-500 text-white hover:bg-red-600",exito:"bg-green-600 text-white hover:bg-green-700",fantasma:"bg-transparent text-gray-600 hover:bg-gray-100"};return o.jsx("button",{className:`${i} ${a[r]} ${n}`,onClick:e,...s,children:t})},ol=({modoCompacto:t=!1})=>{const{mensajes:e,marcarComoLeido:r,eliminarTicket:n,crearTicket:s}=b.useContext(an),{usuario:i}=b.useContext(tt),[a,l]=b.useState("todos"),[c,u]=b.useState(""),[d,h]=b.useState("recibidos"),[p,f]=b.useState(!1),[g,y]=b.useState(""),x=e.filter(v=>{var S,N;const m=a==="todos"||a==="pendiente"&&!v.leido||a==="resuelto"&&v.leido,w=(((S=v.asunto)==null?void 0:S.toLowerCase())||"").includes(c.toLowerCase())||(((N=v.contenido)==null?void 0:N.toLowerCase())||"").includes(c.toLowerCase());return!m||!w?!1:d==="recibidos"?v.destinatario_id===i.id:v.remitente_id===i.id});return o.jsxs("div",{className:t?"p-2 space-y-3":"p-6 space-y-6",children:[o.jsxs("div",{className:`flex ${t?"flex-col gap-2":"flex-col sm:flex-row justify-between items-start sm:items-center gap-4"}`,children:[!t&&o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(na,{className:"text-blue-600"}),"Bandeja de Entrada"]}),o.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg self-start",children:[o.jsx("button",{onClick:()=>h("recibidos"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${d==="recibidos"?"bg-white shadow text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Recibidos"}),o.jsx("button",{onClick:()=>h("enviados"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${d==="enviados"?"bg-white shadow text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Enviados"})]}),o.jsxs("div",{className:`flex gap-2 ${t?"w-full":"w-full sm:w-auto"}`,children:[i.rol==="cliente"&&o.jsxs("button",{onClick:()=>f(!0),className:`bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 ${t?"p-2 flex-1 text-xs":"px-4 py-2 text-sm"}`,children:[o.jsx(na,{size:t?14:18}),t?"Nuevo":"Nuevo Mensaje"]}),o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:t?14:18}),o.jsx("input",{type:"text",placeholder:"Buscar...",className:`w-full pl-9 pr-4 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none ${t?"py-1.5 text-xs":"py-2 text-sm"}`,value:c,onChange:v=>u(v.target.value)})]}),!t&&o.jsxs("div",{className:"relative",children:[o.jsx(ih,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),o.jsxs("select",{className:"pl-10 pr-4 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none appearance-none bg-white",value:a,onChange:v=>l(v.target.value),children:[o.jsx("option",{value:"todos",children:"Todos"}),o.jsx("option",{value:"pendiente",children:"Pendientes"}),o.jsx("option",{value:"resuelto",children:"Resueltos"})]})]})]})]}),p&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[100] p-4",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md shadow-xl",children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:"Nuevo Mensaje a Soporte"}),o.jsxs("form",{onSubmit:v=>{v.preventDefault(),g.trim()&&(s({asunto:`Consulta de ${i.nombre}`,mensaje:g,telefono:i.telefono||"N/A",remitente:{id:i.id,nombre:i.nombre,rol:i.rol},destinatario:{rol:"admin"}}),alert("Mensaje enviado correctamente."),f(!1),y(""))},className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensaje"}),o.jsx("textarea",{className:"w-full p-2 border rounded-lg h-32 resize-none",placeholder:"Describe tu consulta...",value:g,onChange:v=>y(v.target.value),required:!0})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Enviar"})]})]})]})}),t?o.jsx("div",{className:"space-y-2",children:x.length===0?o.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No hay mensajes."}):x.map(v=>o.jsxs("div",{className:`p-3 rounded-lg border border-gray-100 hover:bg-gray-50 transition-colors ${!v.leido&&d==="recibidos"?"bg-blue-50/50":"bg-white"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsx("h4",{className:`text-sm font-medium ${v.leido?"text-gray-900":"text-blue-700"}`,children:v.asunto}),o.jsx("span",{className:"text-xs text-gray-400 whitespace-nowrap ml-2",children:new Date(v.created_at).toLocaleDateString()})]}),o.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 mb-2",children:v.contenido}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-medium ${v.leido?"bg-gray-100 text-gray-600":"bg-blue-100 text-blue-800"}`,children:[v.leido?o.jsx(Pn,{size:10}):o.jsx(In,{size:10}),v.leido?"Ledo":"No ledo"]}),o.jsx("div",{className:"flex gap-2",children:!v.leido&&d==="recibidos"&&o.jsx("button",{onClick:()=>r(v.id),className:"text-blue-600 hover:text-blue-800 text-xs font-medium",children:"Marcar Ledo"})})]})]},v.id))}):o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-700 font-medium border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4",children:"Estado"}),o.jsx("th",{className:"px-6 py-4",children:"Asunto"}),o.jsx("th",{className:"px-6 py-4",children:"Mensaje"}),o.jsx("th",{className:"px-6 py-4",children:d==="recibidos"?"De":"Para"}),o.jsx("th",{className:"px-6 py-4",children:"Fecha"}),o.jsx("th",{className:"px-6 py-4 text-right",children:"Acciones"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:x.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:"6",className:"px-6 py-8 text-center text-gray-500",children:"No se encontraron mensajes en esta bandeja."})}):x.map(v=>{var m,w;return o.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${!v.leido&&d==="recibidos"?"bg-blue-50/30":""}`,children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${v.leido?"bg-gray-100 text-gray-600":"bg-blue-100 text-blue-800"}`,children:[v.leido?o.jsx(Pn,{size:12}):o.jsx(In,{size:12}),v.leido?"Ledo":"No ledo"]})}),o.jsxs("td",{className:"px-6 py-4 font-medium text-gray-900",children:[v.asunto,!v.leido&&d==="recibidos"&&o.jsx("span",{className:"ml-2 inline-block w-2 h-2 bg-blue-600 rounded-full"})]}),o.jsx("td",{className:"px-6 py-4 text-gray-600 max-w-xs truncate",title:v.contenido,children:v.contenido}),o.jsx("td",{className:"px-6 py-4 text-gray-600",children:d==="recibidos"?o.jsx("div",{className:"flex flex-col",children:o.jsx("span",{className:"font-medium text-sm",children:((m=v.remitente)==null?void 0:m.nombre)||"Sistema"})}):o.jsx("div",{className:"flex flex-col",children:o.jsx("span",{className:"font-medium text-sm",children:((w=v.destinatario)==null?void 0:w.nombre)||"Admin"})})}),o.jsxs("td",{className:"px-6 py-4 text-gray-500 whitespace-nowrap",children:[new Date(v.created_at).toLocaleDateString()," ",o.jsx("span",{className:"text-xs",children:new Date(v.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),o.jsxs("td",{className:"px-6 py-4 text-right space-x-2",children:[o.jsx("button",{onClick:()=>n(v.id),className:"text-red-500 hover:text-red-700",title:"Eliminar",children:o.jsx(wa,{size:16})}),!v.leido&&d==="recibidos"&&o.jsx("button",{onClick:()=>r(v.id),className:"text-blue-600 hover:text-blue-800 text-xs hover:underline ml-2",children:"Marcar Ledo"})]})]},v.id)})})]})})})]})},ce=t=>typeof t=="string",ci=()=>{let t,e;const r=new Promise((n,s)=>{t=n,e=s});return r.resolve=t,r.reject=e,r},Op=t=>t==null?"":""+t,qN=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},WN=/###/g,Tp=t=>t&&t.indexOf("###")>-1?t.replace(WN,"."):t,Lp=t=>!t||ce(t),Ai=(t,e,r)=>{const n=ce(e)?e.split("."):e;let s=0;for(;s<n.length-1;){if(Lp(t))return{};const i=Tp(n[s]);!t[i]&&r&&(t[i]=new r),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++s}return Lp(t)?{}:{obj:t,k:Tp(n[s])}},Ap=(t,e,r)=>{const{obj:n,k:s}=Ai(t,e,Object);if(n!==void 0||e.length===1){n[s]=r;return}let i=e[e.length-1],a=e.slice(0,e.length-1),l=Ai(t,a,Object);for(;l.obj===void 0&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),l=Ai(t,a,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${i}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=r},KN=(t,e,r,n)=>{const{obj:s,k:i}=Ai(t,e,Object);s[i]=s[i]||[],s[i].push(r)},ll=(t,e)=>{const{obj:r,k:n}=Ai(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},GN=(t,e,r)=>{const n=ll(t,r);return n!==void 0?n:ll(e,r)},Ry=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?ce(t[n])||t[n]instanceof String||ce(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):Ry(t[n],e[n],r):t[n]=e[n]);return t},Zn=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var JN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const QN=t=>ce(t)?t.replace(/[&<>"'\/]/g,e=>JN[e]):t;class YN{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const XN=[" ",",","?","!",";"],ZN=new YN(20),ek=(t,e,r)=>{e=e||"",r=r||"";const n=XN.filter(a=>e.indexOf(a)<0&&r.indexOf(a)<0);if(n.length===0)return!0;const s=ZN.getRegExp(`(${n.map(a=>a==="?"?"\\?":a).join("|")})`);let i=!s.test(t);if(!i){const a=t.indexOf(r);a>0&&!s.test(t.substring(0,a))&&(i=!0)}return i},Qu=(t,e,r=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const n=e.split(r);let s=t;for(let i=0;i<n.length;){if(!s||typeof s!="object")return;let a,l="";for(let c=i;c<n.length;++c)if(c!==i&&(l+=r),l+=n[c],a=s[l],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&c<n.length-1)continue;i+=c-i+1;break}s=a}return s},da=t=>t==null?void 0:t.replace("_","-"),tk={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var r,n;(n=(r=console==null?void 0:console[t])==null?void 0:r.apply)==null||n.call(r,console,e)}};class cl{constructor(e,r={}){this.init(e,r)}init(e,r={}){this.prefix=r.prefix||"i18next:",this.logger=e||tk,this.options=r,this.debug=r.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,s){return s&&!this.debug?null:(ce(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new cl(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new cl(this.logger,e)}}var cr=new cl;class Ul{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const s=this.observers[n].get(r)||0;this.observers[n].set(r,s+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e,...r){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,i])=>{for(let a=0;a<i;a++)s(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,i])=>{for(let a=0;a<i;a++)s.apply(s,[e,...r])})}}class Ip extends Ul{constructor(e,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n,s={}){var u,d;const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,a=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,r],n&&(Array.isArray(n)?l.push(...n):ce(n)&&i?l.push(...n.split(i)):l.push(n)));const c=ll(this.data,l);return!c&&!r&&!n&&e.indexOf(".")>-1&&(e=l[0],r=l[1],n=l.slice(2).join(".")),c||!a||!ce(n)?c:Qu((d=(u=this.data)==null?void 0:u[e])==null?void 0:d[r],n,i)}addResource(e,r,n,s,i={silent:!1}){const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[e,r];n&&(l=l.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(l=e.split("."),s=r,r=l[1]),this.addNamespaces(r),Ap(this.data,l,s),i.silent||this.emit("added",e,r,n,s)}addResources(e,r,n,s={silent:!1}){for(const i in n)(ce(n[i])||Array.isArray(n[i]))&&this.addResource(e,r,i,n[i],{silent:!0});s.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,s,i,a={silent:!1,skipCopy:!1}){let l=[e,r];e.indexOf(".")>-1&&(l=e.split("."),s=n,n=r,r=l[1]),this.addNamespaces(r);let c=ll(this.data,l)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),s?Ry(c,n,i):c={...c,...n},Ap(this.data,l,c),a.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(s=>r[s]&&Object.keys(r[s]).length>0)}toJSON(){return this.data}}var Oy={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,s){return t.forEach(i=>{var a;e=((a=this.processors[i])==null?void 0:a.process(e,r,n,s))??e}),e}};const Ty=Symbol("i18next/PATH_KEY");function rk(){const t=[],e=Object.create(null);let r;return e.get=(n,s)=>{var i;return(i=r==null?void 0:r.revoke)==null||i.call(r),s===Ty?t:(t.push(s),r=Proxy.revocable(n,e),r.proxy)},Proxy.revocable(Object.create(null),e).proxy}function Yu(t,e){const{[Ty]:r}=t(rk());return r.join((e==null?void 0:e.keySeparator)??".")}const Dp={},Oc=t=>!ce(t)&&typeof t!="boolean"&&typeof t!="number";class ul extends Ul{constructor(e,r={}){super(),qN(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=cr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,r={interpolation:{}}){const n={...r};if(e==null)return!1;const s=this.resolve(e,n);if((s==null?void 0:s.res)===void 0)return!1;const i=Oc(s.res);return!(n.returnObjects===!1&&i)}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let i=r.ns||this.options.defaultNS||[];const a=n&&e.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!ek(e,n,s);if(a&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:ce(i)?[i]:i};const u=e.split(n);(n!==s||n===s&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(s)}return{key:e,namespaces:ce(i)?[i]:i}}translate(e,r,n){let s=typeof r=="object"?{...r}:r;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";typeof e=="function"&&(e=Yu(e,{...this.options,...s})),Array.isArray(e)||(e=[String(e)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(e[e.length-1],s),u=c[c.length-1];let d=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const h=s.lng||this.language,p=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((h==null?void 0:h.toLowerCase())==="cimode")return p?i?{res:`${u}${d}${l}`,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(s)}:`${u}${d}${l}`:i?{res:l,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(s)}:l;const f=this.resolve(e,s);let g=f==null?void 0:f.res;const y=(f==null?void 0:f.usedKey)||l,x=(f==null?void 0:f.exactUsedKey)||l,v=["[object Number]","[object Function]","[object RegExp]"],m=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,S=s.count!==void 0&&!ce(s.count),N=ul.hasDefaultValue(s),R=S?this.pluralResolver.getSuffix(h,s.count,s):"",j=s.ordinal&&S?this.pluralResolver.getSuffix(h,s.count,{ordinal:!1}):"",T=S&&!s.ordinal&&s.count===0,M=T&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${R}`]||s[`defaultValue${j}`]||s.defaultValue;let E=g;w&&!g&&N&&(E=M);const W=Oc(E),Q=Object.prototype.toString.apply(E);if(w&&E&&W&&v.indexOf(Q)<0&&!(ce(m)&&Array.isArray(E))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const G=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,E,{...s,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return i?(f.res=G,f.usedParams=this.getUsedParamsDetails(s),f):G}if(a){const G=Array.isArray(E),L=G?[]:{},A=G?x:y;for(const z in E)if(Object.prototype.hasOwnProperty.call(E,z)){const D=`${A}${a}${z}`;N&&!g?L[z]=this.translate(D,{...s,defaultValue:Oc(M)?M[z]:void 0,joinArrays:!1,ns:c}):L[z]=this.translate(D,{...s,joinArrays:!1,ns:c}),L[z]===D&&(L[z]=E[z])}g=L}}else if(w&&ce(m)&&Array.isArray(g))g=g.join(m),g&&(g=this.extendTranslation(g,e,s,n));else{let G=!1,L=!1;!this.isValidLookup(g)&&N&&(G=!0,g=M),this.isValidLookup(g)||(L=!0,g=l);const z=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&L?void 0:g,D=N&&M!==g&&this.options.updateMissing;if(L||G||D){if(this.logger.log(D?"updateKey":"missingKey",h,u,l,D?M:g),a){const F=this.resolve(l,{...s,keySeparator:!1});F&&F.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let O=[];const I=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&I&&I[0])for(let F=0;F<I.length;F++)O.push(I[F]);else this.options.saveMissingTo==="all"?O=this.languageUtils.toResolveHierarchy(s.lng||this.language):O.push(s.lng||this.language);const H=(F,oe,xe)=>{var we;const pe=N&&xe!==g?xe:z;this.options.missingKeyHandler?this.options.missingKeyHandler(F,u,oe,pe,D,s):(we=this.backendConnector)!=null&&we.saveMissing&&this.backendConnector.saveMissing(F,u,oe,pe,D,s),this.emit("missingKey",F,u,oe,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?O.forEach(F=>{const oe=this.pluralResolver.getSuffixes(F,s);T&&s[`defaultValue${this.options.pluralSeparator}zero`]&&oe.indexOf(`${this.options.pluralSeparator}zero`)<0&&oe.push(`${this.options.pluralSeparator}zero`),oe.forEach(xe=>{H([F],l+xe,s[`defaultValue${xe}`]||M)})}):H(O,l,M))}g=this.extendTranslation(g,e,s,f,n),L&&g===l&&this.options.appendNamespaceToMissingKey&&(g=`${u}${d}${l}`),(L||G)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${l}`:l,G?g:void 0,s))}return i?(f.res=g,f.usedParams=this.getUsedParamsDetails(s),f):g}extendTranslation(e,r,n,s,i){var c,u;if((c=this.i18nFormat)!=null&&c.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=ce(e)&&(((u=n==null?void 0:n.interpolation)==null?void 0:u.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(d){const f=e.match(this.interpolator.nestingRegexp);h=f&&f.length}let p=n.replace&&!ce(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,n.lng||this.language||s.usedLng,n),d){const f=e.match(this.interpolator.nestingRegexp),g=f&&f.length;h<g&&(n.nest=!1)}!n.lng&&s&&s.res&&(n.lng=this.language||s.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...f)=>(i==null?void 0:i[0])===f[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${r[0]}`),null):this.translate(...f,r),n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,l=ce(a)?[a]:a;return e!=null&&(l!=null&&l.length)&&n.applyPostProcessor!==!1&&(e=Oy.handle(l,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,r={}){let n,s,i,a,l;return ce(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(c,r),d=u.key;s=d;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const p=r.count!==void 0&&!ce(r.count),f=p&&!r.ordinal&&r.count===0,g=r.context!==void 0&&(ce(r.context)||typeof r.context=="number")&&r.context!=="",y=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);h.forEach(x=>{var v,m;this.isValidLookup(n)||(l=x,!Dp[`${y[0]}-${x}`]&&((v=this.utils)!=null&&v.hasLoadedNamespace)&&!((m=this.utils)!=null&&m.hasLoadedNamespace(l))&&(Dp[`${y[0]}-${x}`]=!0,this.logger.warn(`key "${s}" for languages "${y.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(w=>{var R;if(this.isValidLookup(n))return;a=w;const S=[d];if((R=this.i18nFormat)!=null&&R.addLookupKeys)this.i18nFormat.addLookupKeys(S,d,w,x,r);else{let j;p&&(j=this.pluralResolver.getSuffix(w,r.count,r));const T=`${this.options.pluralSeparator}zero`,M=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(r.ordinal&&j.indexOf(M)===0&&S.push(d+j.replace(M,this.options.pluralSeparator)),S.push(d+j),f&&S.push(d+T)),g){const E=`${d}${this.options.contextSeparator||"_"}${r.context}`;S.push(E),p&&(r.ordinal&&j.indexOf(M)===0&&S.push(E+j.replace(M,this.options.pluralSeparator)),S.push(E+j),f&&S.push(E+T))}}let N;for(;N=S.pop();)this.isValidLookup(n)||(i=N,n=this.getResource(w,x,N,r))}))})}),{res:n,usedKey:s,exactUsedKey:i,usedLng:a,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n,s={}){var i;return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(e,r,n,s):this.resourceStore.getResource(e,r,n,s)}getUsedParamsDetails(e={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!ce(e.replace);let s=n?e.replace:e;if(n&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!n){s={...s};for(const i of r)delete s[i]}return s}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}class $p{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=cr.create("languageUtils")}getScriptPartFromCode(e){if(e=da(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=da(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(ce(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const s=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(s))&&(r=s)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const s=this.getScriptPartFromCode(n);if(this.isSupportedCode(s))return r=s;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(a=>{if(a===i)return a;if(!(a.indexOf("-")<0&&i.indexOf("-")<0)&&(a.indexOf("-")>0&&i.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===i||a.indexOf(i)===0&&i.length>1))return a})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),ce(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],e),s=[],i=a=>{a&&(this.isSupportedCode(a)?s.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return ce(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):ce(e)&&i(this.formatLanguageCode(e)),n.forEach(a=>{s.indexOf(a)<0&&i(this.formatLanguageCode(a))}),s}}const Mp={zero:0,one:1,two:2,few:3,many:4,other:5},zp={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class nk{constructor(e,r={}){this.languageUtils=e,this.options=r,this.logger=cr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e,r={}){const n=da(e==="dev"?"en":e),s=r.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let a;try{a=new Intl.PluralRules(n,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),zp;if(!e.match(/-|_/))return zp;const c=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(c,r)}return this.pluralRulesCache[i]=a,a}needsPlural(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,r,n={}){return this.getSuffixes(e,n).map(s=>`${r}${s}`)}getSuffixes(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((s,i)=>Mp[s]-Mp[i]).map(s=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,r,n={}){const s=this.getRule(e,n);return s?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}}const Up=(t,e,r,n=".",s=!0)=>{let i=GN(t,e,r);return!i&&s&&ce(r)&&(i=Qu(t,r,n),i===void 0&&(i=Qu(e,r,n))),i},Tc=t=>t.replace(/\$/g,"$$$$");class Fp{constructor(e={}){var r;this.logger=cr.create("interpolator"),this.options=e,this.format=((r=e==null?void 0:e.interpolation)==null?void 0:r.format)||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:s,prefix:i,prefixEscaped:a,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:h,nestingPrefix:p,nestingPrefixEscaped:f,nestingSuffix:g,nestingSuffixEscaped:y,nestingOptionsSeparator:x,maxReplaces:v,alwaysFormat:m}=e.interpolation;this.escape=r!==void 0?r:QN,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?Zn(i):a||"{{",this.suffix=l?Zn(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=p?Zn(p):f||Zn("$t("),this.nestingSuffix=g?Zn(g):y||Zn(")"),this.nestingOptionsSeparator=x||",",this.maxReplaces=v||1e3,this.alwaysFormat=m!==void 0?m:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>(r==null?void 0:r.source)===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,r,n,s){var f;let i,a,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const m=Up(r,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(m,void 0,n,{...s,...r,interpolationkey:g}):m}const y=g.split(this.formatSeparator),x=y.shift().trim(),v=y.join(this.formatSeparator).trim();return this.format(Up(r,c,x,this.options.keySeparator,this.options.ignoreJSONStructure),v,n,{...s,...r,interpolationkey:x})};this.resetRegExp();const d=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,h=((f=s==null?void 0:s.interpolation)==null?void 0:f.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>Tc(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?Tc(this.escape(g)):Tc(g)}].forEach(g=>{for(l=0;i=g.regex.exec(e);){const y=i[1].trim();if(a=u(y),a===void 0)if(typeof d=="function"){const v=d(e,i,s);a=ce(v)?v:""}else if(s&&Object.prototype.hasOwnProperty.call(s,y))a="";else if(h){a=i[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),a="";else!ce(a)&&!this.useRawValueToEscape&&(a=Op(a));const x=g.safeValue(a);if(e=e.replace(i[0],x),h?(g.regex.lastIndex+=a.length,g.regex.lastIndex-=i[0].length):g.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,r,n={}){let s,i,a;const l=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const h=c.split(new RegExp(`${d}[ ]*{`));let p=`{${h[1]}`;c=h[0],p=this.interpolate(p,a);const f=p.match(/'/g),g=p.match(/"/g);(((f==null?void 0:f.length)??0)%2===0&&!g||g.length%2!==0)&&(p=p.replace(/'/g,'"'));try{a=JSON.parse(p),u&&(a={...u,...a})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,y),`${c}${d}${p}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,c};for(;s=this.nestingRegexp.exec(e);){let c=[];a={...n},a=a.replace&&!ce(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const u=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(u!==-1&&(c=s[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),s[1]=s[1].slice(0,u)),i=r(l.call(this,s[1].trim(),a),a),i&&s[0]===e&&!ce(i))return i;ce(i)||(i=Op(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),c.length&&(i=c.reduce((d,h)=>this.format(d,h,n.lng,{...n,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}const sk=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const s=n[1].substring(0,n[1].length-1);e==="currency"&&s.indexOf(":")<0?r.currency||(r.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?r.range||(r.range=s.trim()):s.split(";").forEach(a=>{if(a){const[l,...c]=a.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();r[d]||(r[d]=u),u==="false"&&(r[d]=!1),u==="true"&&(r[d]=!0),isNaN(u)||(r[d]=parseInt(u,10))}})}return{formatName:e,formatOptions:r}},Bp=t=>{const e={};return(r,n,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const a=n+JSON.stringify(i);let l=e[a];return l||(l=t(da(n),s),e[a]=l),l(r)}},ik=t=>(e,r,n)=>t(da(r),n)(e);class ak{constructor(e={}){this.logger=cr.create("formatter"),this.options=e,this.init(e)}init(e,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?Bp:ik;this.formats={number:n((s,i)=>{const a=new Intl.NumberFormat(s,{...i});return l=>a.format(l)}),currency:n((s,i)=>{const a=new Intl.NumberFormat(s,{...i,style:"currency"});return l=>a.format(l)}),datetime:n((s,i)=>{const a=new Intl.DateTimeFormat(s,{...i});return l=>a.format(l)}),relativetime:n((s,i)=>{const a=new Intl.RelativeTimeFormat(s,{...i});return l=>a.format(l,i.range||"day")}),list:n((s,i)=>{const a=new Intl.ListFormat(s,{...i});return l=>a.format(l)})}}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=Bp(r)}format(e,r,n,s={}){const i=r.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(l=>l.indexOf(")")>-1)){const l=i.findIndex(c=>c.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,l)].join(this.formatSeparator)}return i.reduce((l,c)=>{var h;const{formatName:u,formatOptions:d}=sk(c);if(this.formats[u]){let p=l;try{const f=((h=s==null?void 0:s.formatParams)==null?void 0:h[s.interpolationkey])||{},g=f.locale||f.lng||s.locale||s.lng||n;p=this.formats[u](l,g,{...d,...s,...f})}catch(f){this.logger.warn(f)}return p}else this.logger.warn(`there was no format function for ${u}`);return l},e)}}const ok=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class lk extends Ul{constructor(e,r,n,s={}){var i,a;super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=s,this.logger=cr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(a=(i=this.backend)==null?void 0:i.init)==null||a.call(i,n,s.backend,s)}queueLoad(e,r,n,s){const i={},a={},l={},c={};return e.forEach(u=>{let d=!0;r.forEach(h=>{const p=`${u}|${h}`;!n.reload&&this.store.hasResourceBundle(u,h)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?a[p]===void 0&&(a[p]=!0):(this.state[p]=1,d=!1,a[p]===void 0&&(a[p]=!0),i[p]===void 0&&(i[p]=!0),c[h]===void 0&&(c[h]=!0)))}),d||(l[u]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,r,n){const s=e.split("|"),i=s[0],a=s[1];r&&this.emit("failedLoading",i,a,r),!r&&n&&this.store.addResourceBundle(i,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const l={};this.queue.forEach(c=>{KN(c.loaded,[i],a),ok(c,e),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(h=>{l[u][h]===void 0&&(l[u][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,r,n,s=0,i=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:s,wait:i,callback:a});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&d&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,s+1,i*2,a)},i);return}a(u,d)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const u=c(e,r);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(e,r,l)}prepareLoading(e,r,n={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();ce(e)&&(e=this.languageUtils.toResolveHierarchy(e)),ce(r)&&(r=[r]);const i=this.queueLoad(e,r,n,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e,r=""){const n=e.split("|"),s=n[0],i=n[1];this.read(s,i,"read",void 0,void 0,(a,l)=>{a&&this.logger.warn(`${r}loading namespace ${i} for language ${s} failed`,a),!a&&l&&this.logger.log(`${r}loaded namespace ${i} for language ${s}`,l),this.loaded(e,a,l)})}saveMissing(e,r,n,s,i,a={},l=()=>{}){var c,u,d,h,p;if((u=(c=this.services)==null?void 0:c.utils)!=null&&u.hasLoadedNamespace&&!((h=(d=this.services)==null?void 0:d.utils)!=null&&h.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((p=this.backend)!=null&&p.create){const f={...a,isUpdate:i},g=this.backend.create.bind(this.backend);if(g.length<6)try{let y;g.length===5?y=g(e,r,n,s,f):y=g(e,r,n,s),y&&typeof y.then=="function"?y.then(x=>l(null,x)).catch(l):l(null,y)}catch(y){l(y)}else g(e,r,n,s,l,f)}!e||!e[0]||this.store.addResource(e[0],r,n,s)}}}const Hp=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),ce(t[1])&&(e.defaultValue=t[1]),ce(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Vp=t=>{var e,r;return ce(t.ns)&&(t.ns=[t.ns]),ce(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),ce(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((r=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:r.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},oo=()=>{},ck=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class Ii extends Ul{constructor(e={},r){if(super(),this.options=Vp(e),this.services={},this.logger=cr,this.modules={external:[]},ck(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(e={},r){this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&(ce(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=Hp();this.options={...n,...this.options,...Vp(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=n.overloadTranslationOptionHandler);const s=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?cr.init(s(this.modules.logger),this.options):cr.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=ak;const d=new $p(this.options);this.store=new Ip(this.options.resources,this.options);const h=this.services;h.logger=cr,h.resourceStore=this.store,h.languageUtils=d,h.pluralResolver=new nk(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(h.formatter=s(u),h.formatter.init&&h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new Fp(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new lk(s(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(f,...g)=>{this.emit(f,...g)}),this.modules.languageDetector&&(h.languageDetector=s(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=s(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new ul(this.services,this.options),this.translator.on("*",(f,...g)=>{this.emit(f,...g)}),this.modules.external.forEach(f=>{f.init&&f.init(this)})}if(this.format=this.options.interpolation.format,r||(r=oo),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const l=ci(),c=()=>{const u=(d,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(h),r(d,h)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(e,r=oo){var i,a;let n=r;const s=ce(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const l=[],c=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(h=>{h!=="cimode"&&l.indexOf(h)<0&&l.push(h)})};s?c(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>c(d)),(a=(i=this.options.preload)==null?void 0:i.forEach)==null||a.call(i,u=>c(u)),this.services.backendConnector.load(l,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(u)})}else n(null)}reloadResources(e,r,n){const s=ci();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=oo),this.services.backendConnector.reload(e,r,i=>{s.resolve(),n(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Oy.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,r){this.isLanguageChangingTo=e;const n=ci();this.emit("languageChanging",e);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},i=(l,c)=>{c?this.isLanguageChangingTo===e&&(s(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,n.resolve((...u)=>this.t(...u)),r&&r(l,(...u)=>this.t(...u))},a=l=>{var d,h;!e&&!l&&this.services.languageDetector&&(l=[]);const c=ce(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(ce(l)?[l]:l);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),(h=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||h.call(d,u)),this.loadResources(u,p=>{i(p,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),n}getFixedT(e,r,n){const s=(i,a,...l)=>{let c;typeof a!="object"?c=this.options.overloadTranslationOptionHandler([i,a].concat(l)):c={...a},c.lng=c.lng||s.lng,c.lngs=c.lngs||s.lngs,c.ns=c.ns||s.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||s.keyPrefix);const u=this.options.keySeparator||".";let d;return c.keyPrefix&&Array.isArray(i)?d=i.map(h=>(typeof h=="function"&&(h=Yu(h,{...this.options,...a})),`${c.keyPrefix}${u}${h}`)):(typeof i=="function"&&(i=Yu(i,{...this.options,...a})),d=c.keyPrefix?`${c.keyPrefix}${u}${i}`:i),this.t(d,c)};return ce(e)?s.lng=e:s.lngs=e,s.ns=r,s.keyPrefix=n,s}t(...e){var r;return(r=this.translator)==null?void 0:r.translate(...e)}exists(...e){var r;return(r=this.translator)==null?void 0:r.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(r.precheck){const l=r.precheck(this,a);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,e)&&(!s||a(i,e)))}loadNamespaces(e,r){const n=ci();return this.options.ns?(ce(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{n.resolve(),r&&r(s)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=ci();ce(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(a=>s.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return i.length?(this.options.preload=s.concat(i),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}dir(e){var s,i;if(e||(e=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const l=a.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((i=this.services)==null?void 0:i.languageUtils)||new $p(Hp());return e.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},r){const n=new Ii(e,r);return n.createInstance=Ii.createInstance,n}cloneInstance(e={},r=oo){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new Ii(s);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(l=>{i[l]=this[l]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n){const l=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((d,h)=>(d[h]={...c[u][h]},d),c[u]),c),{});i.store=new Ip(l,s),i.services.resourceStore=i.store}return e.interpolation&&(i.services.interpolator=new Fp(s)),i.translator=new ul(i.services,s),i.translator.on("*",(l,...c)=>{i.emit(l,...c)}),i.init(s,r),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const pt=Ii.createInstance();pt.createInstance;pt.dir;pt.init;pt.loadResources;pt.reloadResources;pt.use;pt.changeLanguage;pt.getFixedT;pt.t;pt.exists;pt.setDefaultNamespace;pt.hasLoadedNamespace;pt.loadNamespaces;pt.loadLanguages;const uk=(t,e,r,n)=>{var i,a,l,c;const s=[r,{code:e,...n||{}}];if((a=(i=t==null?void 0:t.services)==null?void 0:i.logger)!=null&&a.forward)return t.services.logger.forward(s,"warn","react-i18next::",!0);$n(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(c=(l=t==null?void 0:t.services)==null?void 0:l.logger)!=null&&c.warn?t.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},qp={},Ly=(t,e,r,n)=>{$n(r)&&qp[r]||($n(r)&&(qp[r]=new Date),uk(t,e,r,n))},Ay=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}},Xu=(t,e,r)=>{t.loadNamespaces(e,Ay(t,r))},Wp=(t,e,r,n)=>{if($n(r)&&(r=[r]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Xu(t,r,n);r.forEach(s=>{t.options.ns.indexOf(s)<0&&t.options.ns.push(s)}),t.loadLanguages(e,Ay(t,n))},dk=(t,e,r={})=>!e.languages||!e.languages.length?(Ly(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:r.lng,precheck:(n,s)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!s(n.isLanguageChangingTo,t))return!1}}),$n=t=>typeof t=="string",hk=t=>typeof t=="object"&&t!==null,fk=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,pk={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},mk=t=>pk[t],gk=t=>t.replace(fk,mk);let Zu={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:gk,transDefaultProps:void 0};const vk=(t={})=>{Zu={...Zu,...t}},yk=()=>Zu;let Iy;const xk=t=>{Iy=t},wk=()=>Iy,bk={type:"3rdParty",init(t){vk(t.options.react),xk(t)}},jk=b.createContext();class _k{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Dy={exports:{}},$y={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $s=b;function Sk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nk=typeof Object.is=="function"?Object.is:Sk,kk=$s.useState,Ek=$s.useEffect,Ck=$s.useLayoutEffect,Pk=$s.useDebugValue;function Rk(t,e){var r=e(),n=kk({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return Ck(function(){s.value=r,s.getSnapshot=e,Lc(s)&&i({inst:s})},[t,r,e]),Ek(function(){return Lc(s)&&i({inst:s}),t(function(){Lc(s)&&i({inst:s})})},[t]),Pk(r),r}function Lc(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Nk(t,r)}catch{return!0}}function Ok(t,e){return e()}var Tk=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ok:Rk;$y.useSyncExternalStore=$s.useSyncExternalStore!==void 0?$s.useSyncExternalStore:Tk;Dy.exports=$y;var Lk=Dy.exports;const Ak=(t,e)=>$n(e)?e:hk(e)&&$n(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,Ik={t:Ak,ready:!1},Dk=()=>()=>{},Fl=(t,e={})=>{var M,E,W;const{i18n:r}=e,{i18n:n,defaultNS:s}=b.useContext(jk)||{},i=r||n||wk();i&&!i.reportNamespaces&&(i.reportNamespaces=new _k),i||Ly(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const a=b.useMemo(()=>{var Q;return{...yk(),...(Q=i==null?void 0:i.options)==null?void 0:Q.react,...e}},[i,e]),{useSuspense:l,keyPrefix:c}=a,u=s||((M=i==null?void 0:i.options)==null?void 0:M.defaultNS),d=$n(u)?[u]:u||["translation"],h=b.useMemo(()=>d,d);(W=(E=i==null?void 0:i.reportNamespaces)==null?void 0:E.addUsedNamespaces)==null||W.call(E,h);const p=b.useRef(0),f=b.useCallback(Q=>{if(!i)return Dk;const{bindI18n:G,bindI18nStore:L}=a,A=()=>{p.current+=1,Q()};return G&&i.on(G,A),L&&i.store.on(L,A),()=>{G&&G.split(" ").forEach(z=>i.off(z,A)),L&&L.split(" ").forEach(z=>i.store.off(z,A))}},[i,a]),g=b.useRef(),y=b.useCallback(()=>{if(!i)return Ik;const Q=!!(i.isInitialized||i.initializedStoreOnce)&&h.every(O=>dk(O,i,a)),G=e.lng||i.language,L=p.current,A=g.current;if(A&&A.ready===Q&&A.lng===G&&A.keyPrefix===c&&A.revision===L)return A;const D={t:i.getFixedT(G,a.nsMode==="fallback"?h:h[0],c),ready:Q,lng:G,keyPrefix:c,revision:L};return g.current=D,D},[i,h,c,a,e.lng]),[x,v]=b.useState(0),{t:m,ready:w}=Lk.useSyncExternalStore(f,y,y);b.useEffect(()=>{if(i&&!w&&!l){const Q=()=>v(G=>G+1);e.lng?Wp(i,e.lng,h,Q):Xu(i,h,Q)}},[i,e.lng,h,w,l,x]);const S=i||{},N=b.useRef(null),R=b.useRef(),j=Q=>{const G=Object.getOwnPropertyDescriptors(Q);G.__original&&delete G.__original;const L=Object.create(Object.getPrototypeOf(Q),G);if(!Object.prototype.hasOwnProperty.call(L,"__original"))try{Object.defineProperty(L,"__original",{value:Q,writable:!1,enumerable:!1,configurable:!1})}catch{}return L},T=b.useMemo(()=>{const Q=S,G=Q==null?void 0:Q.language;let L=Q;Q&&(N.current&&N.current.__original===Q?R.current!==G?(L=j(Q),N.current=L,R.current=G):L=N.current:(L=j(Q),N.current=L,R.current=G));const A=[m,L,w];return A.t=m,A.i18n=L,A.ready=w,A},[m,S,w,S.resolvedLanguage,S.language,S.languages]);if(i&&l&&!w)throw new Promise(Q=>{const G=()=>Q();e.lng?Wp(i,e.lng,h,G):Xu(i,h,G)});return T},$k=()=>{const{i18n:t}=Fl(),[e,r]=b.useState(!1),n=b.useRef(null),s=[{code:"es",label:"Espaol",flag:""},{code:"en",label:"English",flag:""},{code:"fr",label:"Franais",flag:""},{code:"pt",label:"Portugus",flag:""}],i=l=>{t.changeLanguage(l),r(!1)};b.useEffect(()=>{const l=c=>{n.current&&!n.current.contains(c.target)&&r(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]);const a=s.find(l=>l.code===t.language)||s[0];return o.jsxs("div",{className:"relative",ref:n,children:[o.jsxs("button",{onClick:()=>r(!e),className:"flex items-center gap-2 p-2 rounded-full hover:bg-black/5 transition-colors text-gray-700",title:"Cambiar idioma / Change language",children:[o.jsx(Q1,{size:20}),o.jsx("span",{className:"text-sm font-medium hidden md:block",children:a.code.toUpperCase()})]}),e&&o.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-100 py-1 z-50 animate-in fade-in zoom-in-95 duration-200",children:s.map(l=>o.jsxs("button",{onClick:()=>i(l.code),className:`w-full text-left px-4 py-3 text-sm flex items-center gap-3 hover:bg-gray-50 transition-colors ${t.language===l.code?"bg-blue-50 text-blue-600 font-semibold":"text-gray-700"}`,children:[o.jsx("span",{className:"text-lg",children:l.flag}),o.jsx("span",{children:l.label})]},l.code))})]})},Mk=({setMostrarLogin:t})=>{const{t:e}=Fl(),r=nn(),n=qt(),{usuario:s,cerrarSesion:i}=b.useContext(tt),{carrito:a,setEsVisible:l}=b.useContext(Ml),{sedeActual:c,setSedeActual:u,sedes:d}=b.useContext(_t),{tickets:h}=b.useContext(an),[p,f]=b.useState(!1),[g,y]=b.useState(!1),x=b.useRef(null),v=b.useRef(null),m=h.filter(S=>{var N,R,j,T,M,E,W;return S.leido||!s?!1:s.rol==="admin"?((N=S.destinatario)==null?void 0:N.rol)==="admin"||((R=S.destinatario)==null?void 0:R.id)===s.id||!S.destinatario&&((j=S.remitente)==null?void 0:j.rol)!=="admin":s.rol==="dueno"?((T=S.destinatario)==null?void 0:T.rol)==="dueno"||((M=S.destinatario)==null?void 0:M.id)===s.id:((E=S.destinatario)==null?void 0:E.id)===s.id||((W=S.destinatario)==null?void 0:W.rol)===s.rol}).length;b.useEffect(()=>{const S=N=>{x.current&&!x.current.contains(N.target)&&f(!1),v.current&&!v.current.contains(N.target)&&!N.target.closest(".boton-bandeja")&&y(!1)};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]);const w=n.pathname==="/";return o.jsx("nav",{className:`${w?"fixed top-6 left-1/2 -translate-x-1/2 w-[95%] max-w-7xl rounded-full bg-white/80 backdrop-blur-xl border border-white/50 shadow-2xl":"sticky top-0 w-full bg-white/95 backdrop-blur-md border-b border-gray-100 shadow-sm"} z-50 transition-all duration-500 ease-in-out`,children:o.jsx("div",{className:`mx-auto px-6 ${w?"py-2":"max-w-7xl px-4 sm:px-6 lg:px-8"}`,children:o.jsxs("div",{className:"flex justify-between h-14 items-center",children:[o.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group",onClick:()=>r("/"),children:[o.jsxs("div",{className:"relative w-10 h-10 flex items-center justify-center bg-gradient-to-br from-blue-600 to-teal-500 rounded-xl shadow-lg shadow-blue-200/50 transform group-hover:scale-105 transition-all duration-300 overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-6 h-6 bg-yellow-400 blur-md opacity-40 rounded-full translate-x-1 -translate-y-1"}),o.jsx(J0,{className:"text-yellow-100 absolute top-1.5 right-1.5 opacity-90",size:14,fill:"currentColor"}),o.jsx(Y0,{className:"text-white relative z-10 mt-1",size:22,strokeWidth:2.5})]}),o.jsx("span",{className:`text-xl font-extrabold tracking-tight ${w?"text-gray-800":"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-teal-500"}`,children:e("nav.app_name","Alquiler de Verano")})]}),!w&&o.jsxs("div",{className:"hidden md:flex items-center gap-2 bg-gray-50 border border-gray-200 rounded-full px-4 py-1.5 transition-all hover:border-gray-300 hover:shadow-sm",children:[o.jsx(sa,{size:14,className:"text-gray-400"}),o.jsx("select",{value:c,onChange:S=>u(S.target.value),className:"bg-transparent border-none text-xs font-semibold text-gray-600 focus:ring-0 cursor-pointer p-0",children:d.map(S=>o.jsx("option",{value:S.id,children:S.nombre},S.id))})]}),o.jsxs("div",{className:"flex items-center gap-3 md:gap-5",children:[o.jsx($k,{}),s?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"hidden lg:flex items-center gap-1",children:[(s.rol==="admin"||s.rol==="dueno")&&o.jsxs(o.Fragment,{children:[s.rol==="admin"&&o.jsxs(o.Fragment,{children:[o.jsx(ie,{variante:"fantasma",onClick:()=>r("/admin/inventario"),className:"text-xs font-medium",children:e("nav.inventario")}),o.jsx(ie,{variante:"fantasma",onClick:()=>r("/admin/promociones"),className:"text-xs font-medium",children:e("nav.promociones")})]}),o.jsx(ie,{variante:"fantasma",onClick:()=>r("/admin/usuarios"),className:"text-xs font-medium",children:e("nav.usuarios")}),o.jsx(ie,{variante:"fantasma",onClick:()=>r("/admin/reportes"),className:"text-xs font-medium",children:e("nav.reportes")})]}),s.rol==="vendedor"&&o.jsxs(o.Fragment,{children:[o.jsx(ie,{variante:"fantasma",onClick:()=>r("/vendedor/operaciones"),className:"text-xs font-medium",children:e("nav.operaciones")}),o.jsx(ie,{variante:"fantasma",onClick:()=>r("/vendedor/punto-venta"),className:"text-xs font-medium",children:e("nav.punto_venta")})]}),s.rol==="cliente"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>r("/"),className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all ${n.pathname==="/"?"bg-gray-900 text-white":"text-gray-600 hover:bg-gray-100"}`,children:e("nav.tienda")}),o.jsx("button",{onClick:()=>r("/mis-gastos"),className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all ${n.pathname==="/mis-gastos"?"bg-gray-900 text-white":"text-gray-600 hover:bg-gray-100"}`,children:e("nav.mis_reportes")})]})]}),o.jsxs("div",{className:"flex items-center gap-2 pl-2 border-l border-gray-200/50",children:[o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>y(!g),className:`relative p-2 rounded-full transition-all duration-300 ${g?"bg-gray-900 text-white shadow-lg rotate-12":"text-gray-500 hover:bg-gray-100 hover:text-gray-900"}`,children:[o.jsx(q0,{size:20}),m>0&&o.jsx("span",{className:"absolute top-0 right-0 bg-red-500 border-2 border-white rounded-full w-4 h-4 flex items-center justify-center text-[9px] text-white font-bold",children:m})]}),g&&o.jsx("div",{ref:v,className:"absolute right-0 mt-4 w-[380px] max-h-[70vh] bg-white rounded-2xl shadow-2xl border border-gray-100 overflow-hidden z-[60] animate-in fade-in zoom-in-95 duration-200",children:o.jsx(ol,{modoCompacto:!0})})]}),o.jsxs("div",{className:"relative",ref:x,children:[o.jsx("button",{onClick:()=>f(!p),className:"flex items-center gap-2 pl-1 pr-2 py-1 rounded-full hover:bg-gray-100 transition-colors border border-transparent hover:border-gray-200",children:o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-blue-500 to-teal-400 p-[2px]",children:o.jsx("div",{className:"w-full h-full rounded-full bg-white flex items-center justify-center",children:o.jsx(ia,{size:16,className:"text-gray-700"})})})}),p&&o.jsxs("div",{className:"absolute right-0 mt-4 w-56 bg-white rounded-2xl shadow-2xl border border-gray-100 py-2 z-[60] animate-in fade-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 mb-2",children:[o.jsx("p",{className:"text-sm font-bold text-gray-900",children:s.nombre}),o.jsx("p",{className:"text-xs text-gray-500 capitalize",children:s.rol})]}),o.jsxs("button",{onClick:()=>{r("/perfil"),f(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-600 hover:bg-gray-50 hover:text-gray-900 flex items-center gap-3 transition-colors",children:[o.jsx(ia,{size:16})," ",e("nav.mi_perfil")]}),o.jsxs("button",{onClick:()=>{i(),f(!1)},className:"w-full text-left px-4 py-2 text-sm text-red-500 hover:bg-red-50 flex items-center gap-3 transition-colors mt-1",children:[o.jsx(G0,{size:16})," ",e("nav.cerrar_sesion")]})]})]})]})]}):o.jsx("button",{onClick:()=>t(!0),className:"bg-gray-900 hover:bg-black text-white text-xs font-bold px-5 py-2.5 rounded-full shadow-lg shadow-gray-200 hover:shadow-xl transition-all transform hover:-translate-y-0.5",children:e("nav.iniciar_sesion")}),(!s||s.rol==="cliente")&&o.jsxs("button",{className:"relative p-2 text-gray-500 hover:text-gray-900 transition-colors",onClick:()=>l(!0),children:[o.jsx(tl,{size:22}),a.length>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-black text-white text-[10px] font-bold w-5 h-5 flex items-center justify-center rounded-full border-2 border-white shadow-sm",children:a.length})]})]})]})})})},zk=()=>{const{sedes:t,configuracion:e}=b.useContext(_t),{usuario:r}=b.useContext(tt),{setMostrarLogin:n}=zl(),s=nn(),{t:i}=Fl(),a=(e==null?void 0:e.CONTACTO_TELEFONO)||"(01) 555-0123",l=(e==null?void 0:e.CONTACTO_EMAIL)||"contacto@alquileresperuanos.pe",c=u=>{r?s(u):n(!0)};return o.jsxs("footer",{className:"relative bg-[#0f172a] text-gray-300 pt-20 pb-10 overflow-hidden mt-20",children:[o.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-blue-600/10 rounded-full blur-3xl -translate-y-1/2"}),o.jsx("div",{className:"absolute bottom-0 right-0 w-80 h-80 bg-teal-500/10 rounded-full blur-3xl translate-y-1/3"}),o.jsxs("div",{className:"relative max-w-7xl mx-auto px-6 lg:px-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-16",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6 group",children:[o.jsxs("div",{className:"relative w-10 h-10 flex items-center justify-center bg-gradient-to-br from-blue-600 to-teal-500 rounded-xl shadow-lg shadow-blue-500/20",children:[o.jsx(J0,{className:"text-yellow-200 absolute top-1.5 right-1.5 opacity-90",size:14,fill:"currentColor"}),o.jsx(Y0,{className:"text-white relative z-10 mt-1",size:22,strokeWidth:2.5})]}),o.jsx("span",{className:"text-2xl font-bold text-white tracking-tight",children:i("nav.app_name","Alquiler de Verano")})]}),o.jsx("p",{className:"text-gray-400 text-sm leading-relaxed mb-6",children:"La plataforma lder para tus mejores recuerdos de verano. Calidad, seguridad y diversin garantizada en cada aventura."}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-white/5 hover:bg-white/10 rounded-lg transition-colors text-white hover:text-blue-400",children:o.jsx(J1,{size:20})}),o.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-white/5 hover:bg-white/10 rounded-lg transition-colors text-white hover:text-pink-400",children:o.jsx(e_,{size:20})}),o.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-white/5 hover:bg-white/10 rounded-lg transition-colors text-white hover:text-sky-400",children:o.jsx(h_,{size:20})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold text-lg mb-6",children:"Navegacin"}),o.jsxs("ul",{className:"space-y-3 text-sm",children:[o.jsx("li",{children:o.jsxs(gn,{to:"/",className:"hover:text-blue-400 transition-colors flex items-center gap-2",children:[o.jsx(No,{size:14,className:"opacity-50"}),"Inicio"]})}),o.jsx("li",{children:o.jsxs("button",{onClick:()=>c("/perfil"),className:"hover:text-blue-400 transition-colors flex items-center gap-2 text-left",children:[o.jsx(No,{size:14,className:"opacity-50"}),"Mi Cuenta"]})}),o.jsx("li",{children:o.jsxs(gn,{to:"/ayuda",className:"hover:text-blue-400 transition-colors flex items-center gap-2",children:[o.jsx(No,{size:14,className:"opacity-50"}),"Centro de Ayuda"]})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold text-lg mb-6",children:"Nuestras Sedes"}),o.jsx("ul",{className:"space-y-4 text-sm",children:t.map(u=>o.jsxs("li",{className:"flex items-start gap-3 group",children:[o.jsx("span",{className:"mt-1 min-w-[20px] h-5 flex items-center justify-center rounded bg-blue-500/10 text-blue-400 group-hover:bg-blue-500 group-hover:text-white transition-all",children:o.jsx(sa,{size:14})}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-gray-200 font-medium",children:u.nombre}),u.mapa_url?o.jsx("a",{href:u.mapa_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-gray-500 opacity-70 group-hover:opacity-100 group-hover:text-blue-400 transition-all hover:underline",children:u.direccion}):o.jsx("span",{className:"text-xs text-gray-500 opacity-70",children:u.direccion})]})]},u.id))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold text-lg mb-6",children:"Contctanos"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("a",{href:`tel:${a.replace(/\s/g,"")}`,className:"flex items-center gap-3 p-4 bg-white/5 rounded-2xl border border-white/5 hover:border-blue-500/30 transition-colors group",children:[o.jsx(el,{size:24,className:"text-blue-400 group-hover:scale-110 transition-transform"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-400 uppercase font-semibold tracking-wider",children:"Llmanos"}),o.jsx("p",{className:"text-white font-bold group-hover:text-blue-200",children:a})]})]}),o.jsxs("a",{href:`mailto:${l}`,className:"flex items-center gap-3 p-4 bg-white/5 rounded-2xl border border-white/5 hover:border-teal-500/30 transition-colors group",children:[o.jsx(na,{size:24,className:"text-teal-400 group-hover:scale-110 transition-transform"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-400 uppercase font-semibold tracking-wider",children:"Escrbenos"}),o.jsx("p",{className:"text-white font-bold text-sm truncate max-w-[150px] group-hover:text-teal-200",children:l})]})]})]})]})]}),o.jsxs("div",{className:"border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center gap-4 text-xs text-gray-500 text-center md:text-left",children:[o.jsxs("p",{children:[" 2025 ",i("nav.app_name","Alquiler de Verano"),". Todos los derechos reservados."]}),o.jsxs("div",{className:"flex gap-6",children:[o.jsx(gn,{to:"/legal/privacidad",className:"hover:text-white transition-colors",children:"Privacidad"}),o.jsx(gn,{to:"/legal/terminos",className:"hover:text-white transition-colors",children:"Trminos"}),o.jsx(gn,{to:"/legal/cookies",className:"hover:text-white transition-colors",children:"Cookies"})]})]})]})]})},Uk=()=>{const{setMostrarLogin:t}=zl(),{pathname:e}=qt();return b.useEffect(()=>{window.scrollTo(0,0)},[e]),o.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-gray-900 flex flex-col",children:[o.jsx(Mk,{setMostrarLogin:t}),o.jsx("main",{className:`flex-grow w-full ${e==="/"?"":"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8"}`,children:o.jsx(M0,{})}),o.jsx(zk,{})]})},Fk=()=>{const t=nn(),{usuario:e,cerrarSesion:r}=b.useContext(tt),{tickets:n}=b.useContext(an),[s,i]=b.useState(!1),[a,l]=b.useState(!1),c=b.useRef(null),u=b.useRef(null),d=n.filter(p=>{var f,g,y,x,v,m,w;return p.leido||!e?!1:e.rol==="admin"?((f=p.destinatario)==null?void 0:f.rol)==="admin"||((g=p.destinatario)==null?void 0:g.id)===e.id||!p.destinatario&&((y=p.remitente)==null?void 0:y.rol)!=="admin":e.rol==="dueno"?((x=p.destinatario)==null?void 0:x.rol)==="dueno"||((v=p.destinatario)==null?void 0:v.id)===e.id:((m=p.destinatario)==null?void 0:m.id)===e.id||((w=p.destinatario)==null?void 0:w.rol)===e.rol}).length;b.useEffect(()=>{const p=f=>{c.current&&!c.current.contains(f.target)&&i(!1),u.current&&!u.current.contains(f.target)&&!f.target.closest(".boton-bandeja")&&l(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const h=()=>{r(),t("/")};return o.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:o.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between h-16 items-center",children:[o.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>t("/"),children:[o.jsx("div",{className:"bg-blue-600 p-2 rounded-lg text-white",children:o.jsx(Ll,{size:24})}),o.jsx("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-teal-500",children:"SummerRent"}),o.jsxs("span",{className:"ml-2 text-sm text-gray-500 font-normal",children:["Panel ",(e==null?void 0:e.rol)==="admin"||(e==null?void 0:e.rol)==="dueno"?"Administrativo":(e==null?void 0:e.rol)==="vendedor"?"de Vendedor":"de Mecnico"]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>l(!a),className:`boton-bandeja relative p-2 rounded-lg transition-colors ${a?"bg-blue-50 text-blue-600":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,title:"Notificaciones",children:[o.jsx(q0,{size:20}),d>0&&o.jsx("span",{className:"absolute -top-1 -right-1 min-w-[16px] h-[16px] bg-red-500 rounded-full border-2 border-white flex items-center justify-center text-[10px] text-white font-bold px-1",children:d>9?"9+":d})]}),a&&o.jsx("div",{ref:u,className:"absolute right-0 mt-2 w-[90vw] sm:w-[480px] max-h-[80vh] bg-white rounded-xl shadow-2xl border border-gray-100 overflow-hidden z-50 flex flex-col",children:o.jsx("div",{className:"p-0 h-full overflow-y-auto custom-scrollbar",children:o.jsx(ol,{modoCompacto:!0})})})]}),o.jsxs("div",{className:"relative",ref:c,children:[o.jsxs("button",{onClick:()=>i(!s),className:"flex items-center gap-3 hover:bg-gray-50 p-2 rounded-lg transition-colors",children:[o.jsxs("div",{className:"text-right hidden sm:block",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:e==null?void 0:e.nombre}),o.jsx("p",{className:"text-xs text-gray-500 capitalize",children:e==null?void 0:e.rol})]}),o.jsx("div",{className:"bg-gray-100 p-2 rounded-full text-gray-600",children:o.jsx(ia,{size:20})}),o.jsx(W0,{size:16,className:"text-gray-400"})]}),s&&o.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-100 py-1 z-50",children:[o.jsxs("button",{onClick:()=>{t("/perfil"),i(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[o.jsx(ia,{size:16})," Mi Perfil"]}),o.jsx("div",{className:"border-t border-gray-100 my-1"}),o.jsxs("button",{onClick:()=>{h(),i(!1)},className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[o.jsx(G0,{size:16})," Cerrar Sesin"]})]})]})]})]})})})},Bk=()=>{const{usuario:t,usuarios:e}=b.useContext(tt),r=qt(),[n,s]=b.useState(!1),[i,a]=b.useState(""),l=x=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${r.pathname===x||r.pathname.startsWith(x+"/")?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-100"}`,c=[{to:"/admin/inventario",icon:Ll,label:"Inventario"},{to:"/admin/reservas",icon:Cn,label:"Reservas"},{to:"/admin/usuarios",icon:Au,label:"Usuarios"},{to:"/admin/promociones",icon:Q0,label:"Promociones"},{to:"/admin/punto-venta",icon:tl,label:"Punto de Venta",adminOnly:!0},{to:"/admin/reportes",icon:Sn,label:"Reportes"}],u=[{to:"/admin/reportes",icon:Sn,label:"Reportes"},{to:"/admin/usuarios",icon:Au,label:"Usuarios"}],d=[{to:"/vendedor/operaciones",icon:u_,label:"Operaciones"},{to:"/vendedor/reservas",icon:Cn,label:"Reservas"},{to:"/vendedor/punto-venta",icon:tl,label:"Punto de Venta"},{to:"/vendedor/reportes",icon:Sn,label:"Reportes"}],h=[{to:"/mecanico",icon:Oi,label:"Taller"},{to:"/mecanico/reportes",icon:Sn,label:"Reportes"}],f=(t==null?void 0:t.rol)==="admin"?c.filter(x=>!x.adminOnly||t.rol==="admin"):(t==null?void 0:t.rol)==="dueno"?u:(t==null?void 0:t.rol)==="vendedor"?d:(t==null?void 0:t.rol)==="mecanico"?h:[],{crearTicket:g}=b.useContext(an),y=x=>{if(x.preventDefault(),!i.trim())return;const v=t.rol==="vendedor"?"admin":"dueno",m=e.find(S=>S.rol===v),w=t.rol==="vendedor"?"Administrador":"Dueo";g({asunto:`Mensaje Interno de ${t.nombre} (${t.rol})`,mensaje:i,telefono:t.telefono||"N/A",remitente:{id:t.id,nombre:t.nombre,rol:t.rol},destinatario:m?{id:m.id,nombre:m.nombre,rol:m.rol}:{rol:v}}),alert(`Mensaje enviado al ${w} correctamente.`),s(!1),a("")};return o.jsxs("aside",{className:"w-64 bg-white border-r border-gray-200 p-4 flex flex-col h-full",children:[o.jsx("nav",{className:"space-y-2 flex-1",children:f.map(x=>o.jsxs(H0,{to:x.to,className:l(x.to),children:[o.jsx(x.icon,{size:20}),o.jsx("span",{children:x.label})]},x.to))}),((t==null?void 0:t.rol)==="vendedor"||(t==null?void 0:t.rol)==="admin")&&o.jsx("div",{className:"mt-auto pt-4 border-t border-gray-100",children:o.jsxs("button",{onClick:()=>s(!0),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-all",children:[o.jsx(vi,{size:20}),o.jsxs("span",{children:["Contactar ",t.rol==="vendedor"?"Admin":"Dueo"]})]})}),n&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md shadow-xl",children:[o.jsxs("h3",{className:"text-xl font-bold mb-4",children:["Contactar al ",t.rol==="vendedor"?"Administrador":"Dueo"]}),o.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensaje"}),o.jsx("textarea",{className:"w-full p-2 border rounded-lg h-32 resize-none",placeholder:"Escribe tu mensaje aqu...",value:i,onChange:x=>a(x.target.value),required:!0})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(ie,{type:"button",variante:"secundario",onClick:()=>s(!1),className:"flex-1",children:"Cancelar"}),o.jsx(ie,{type:"submit",variante:"primario",className:"flex-1",children:"Enviar"})]})]})]})})]})},Ac=()=>o.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-gray-900 flex flex-col",children:[o.jsx(Fk,{}),o.jsxs("div",{className:"flex flex-grow overflow-hidden",children:[o.jsx(Bk,{}),o.jsx("main",{className:"flex-grow p-6 overflow-y-auto",children:o.jsx(M0,{})})]})]}),Hk=({producto:t,alSeleccionar:e})=>o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow group",children:[o.jsxs("div",{className:"relative h-48 overflow-hidden",children:[o.jsx("img",{src:t.imagen,alt:t.nombre,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),o.jsx("div",{className:"absolute top-2 right-2 bg-white/90 backdrop-blur-sm px-2 py-1 rounded-full text-xs font-bold text-gray-700",children:t.categoria})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:t.nombre}),o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("span",{className:"text-blue-600 font-bold",children:["S/ ",t.precioPorHora,"/h"]}),o.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${t.stock>0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:t.stock>0?`${t.stock} disp.`:"Agotado"})]}),o.jsx(ie,{onClick:()=>e(t),variante:"primario",className:"w-full",disabled:t.stock===0,children:t.stock>0?"Ver Detalles":"No Disponible"})]})]}),Vk=()=>{var v;const{t}=Fl(),e=nn(),{inventario:r,sedeActual:n,setSedeActual:s,sedes:i,estaAbierto:a}=b.useContext(_t),{usuario:l}=b.useContext(tt),[c,u]=b.useState(""),[d,h]=b.useState(null),[p,f]=b.useState("Todas");b.useEffect(()=>{l&&(l.rol==="admin"?e("/admin/inventario"):l.rol==="dueno"?e("/admin/reportes"):l.rol==="vendedor"?e("/vendedor/operaciones"):l.rol==="mecanico"&&e("/mecanico"))},[l,e]);const g=["Todas",...new Set(r.map(m=>m.categoria))],y=r.filter(m=>m.nombre.toLowerCase().includes(c.toLowerCase())&&(p==="Todas"||m.categoria===p)),x=i.find(m=>m.id===n)||i[0];return o.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[o.jsxs("div",{className:"relative h-[85vh] w-full overflow-hidden flex items-center justify-center",children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx("img",{src:"/assets/hero-bg.png",alt:"Paisaje de Verano",className:"w-full h-full object-cover transform scale-105 animate-slow-zoom"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 via-transparent to-gray-50/90"})]}),o.jsxs("div",{className:"relative z-10 w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col items-center",children:[o.jsxs("div",{className:"animate-fade-in-up flex flex-col items-center text-center",children:[o.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white/20 backdrop-blur-md border border-white/30 text-white text-sm font-semibold mb-6 shadow-lg",children:[o.jsx(o_,{size:14,className:"text-yellow-400 fill-yellow-400"}),o.jsx("span",{children:t("home.badge")})]}),o.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-white mb-6 leading-tight drop-shadow-xl tracking-tight max-w-4xl",children:[t("home.hero_title_1"),o.jsx("br",{}),o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-teal-200 to-blue-200",children:t("home.hero_title_2")})]}),o.jsx("p",{className:"text-lg md:text-xl text-white/95 mb-12 max-w-2xl font-light leading-relaxed drop-shadow-md",children:t("home.hero_subtitle")})]}),o.jsx("div",{className:"w-full max-w-3xl animate-fade-in-up delay-100",children:o.jsxs("div",{className:"bg-white/90 backdrop-blur-xl p-2 rounded-2xl shadow-2xl border border-white/50 flex flex-col md:flex-row gap-2",children:[o.jsxs("div",{className:"relative flex-1 group",children:[o.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 flex items-center justify-center w-8 h-8 rounded-full bg-blue-50 text-blue-600 transition-colors group-hover:bg-blue-100",children:o.jsx(sa,{size:18})}),o.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:o.jsx("button",{onClick:()=>h(x),className:"text-xs font-semibold text-blue-600 hover:underline",children:t("home.ver_info")})}),o.jsx("select",{value:n,onChange:m=>s(m.target.value),className:"w-full pl-14 pr-16 py-4 rounded-xl bg-transparent border-none outline-none text-gray-900 font-bold text-sm md:text-base cursor-pointer hover:bg-white/50 transition-colors appearance-none",children:i.map(m=>o.jsx("option",{value:m.id,children:m.nombre},m.id))})]}),o.jsx("div",{className:"h-px md:h-auto md:w-px bg-gray-200/50 mx-2"}),o.jsxs("div",{className:"relative flex-[1.5] group",children:[o.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 flex items-center justify-center w-8 h-8 rounded-full bg-gray-50 text-gray-500 transition-colors group-focus-within:bg-blue-50 group-focus-within:text-blue-600",children:o.jsx(Dn,{size:18})}),o.jsx("input",{type:"text",placeholder:t("home.search_placeholder"),className:"w-full pl-14 pr-4 py-4 rounded-xl bg-transparent border-none outline-none text-gray-900 font-medium placeholder-gray-400 hover:bg-white/50 focus:bg-white/80 transition-all",value:c,onChange:m=>u(m.target.value)})]}),o.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-bold transition-all transform hover:scale-[1.02] active:scale-[0.98] shadow-lg shadow-blue-600/30 flex items-center justify-center gap-2",children:[o.jsx("span",{children:t("home.explore_btn")}),o.jsx(No,{size:18})]})]})})]})]}),o.jsxs("div",{className:"flex-grow w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-16 relative z-20",children:[o.jsx("div",{className:"flex flex-col items-center -mt-10 mb-12",children:o.jsx("div",{className:"flex overflow-x-auto pb-4 gap-3 max-w-full no-scrollbar p-2 bg-white/50 backdrop-blur-md rounded-full border border-white/60 shadow-lg",children:g.map(m=>o.jsx("button",{onClick:()=>f(m),className:`whitespace-nowrap px-6 py-2.5 rounded-full text-sm font-bold transition-all transform hover:scale-105 ${p===m?"bg-gray-900 text-white shadow-md":"bg-transparent text-gray-600 hover:bg-white hover:shadow-sm"}`,children:t(`categories.${m}`,m)},m))})}),o.jsx("div",{className:"flex justify-between items-end mb-8 px-2",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t("home.catalog_title")}),o.jsxs("p",{className:"text-gray-500 mt-1",children:[t("home.showing_items",{count:y.length})," ",o.jsx("span",{className:"font-semibold text-blue-600",children:x==null?void 0:x.nombre})]})]})}),y.length>0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:y.map(m=>o.jsx("div",{className:"group h-full bg-white rounded-2xl shadow-sm hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 overflow-hidden border border-gray-100",children:o.jsx(Hk,{producto:m,alSeleccionar:w=>e(`/producto/${w.id}`)})},m.id))}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-24 bg-white rounded-3xl border border-dashed border-gray-200 text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mb-6 text-gray-300",children:o.jsx(ih,{size:40})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:t("home.no_results_title")}),o.jsx("p",{className:"text-gray-500 max-w-md",children:t("home.no_results_desc")}),o.jsx("button",{onClick:()=>{u(""),f("Todas")},className:"mt-6 px-6 py-2 text-blue-600 font-bold hover:bg-blue-50 rounded-lg transition-colors",children:t("home.clear_filters")})]})]}),d&&o.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-in fade-in duration-300",children:o.jsxs("div",{className:"bg-white rounded-3xl max-w-2xl w-full shadow-2xl overflow-hidden flex flex-col max-h-[90vh] animate-in zoom-in-95 duration-300",children:[o.jsxs("div",{className:"relative h-64",children:[o.jsx("img",{src:d.imagen,alt:d.nombre,className:"w-full h-full object-cover"}),o.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent flex flex-col justify-end p-8",children:[o.jsx("h2",{className:"text-4xl font-bold text-white mb-2",children:d.nombre}),o.jsxs("p",{className:"text-white/90 flex items-center gap-2",children:[o.jsx(sa,{size:18,className:"text-blue-400"})," ",d.direccion]})]}),o.jsx("button",{onClick:()=>h(null),className:"absolute top-4 right-4 bg-black/20 hover:bg-black/40 backdrop-blur-md text-white p-2 rounded-full transition-all",children:o.jsx(Il,{size:24})})]}),o.jsxs("div",{className:"p-8 overflow-y-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-3 flex items-center gap-2",children:[o.jsx(In,{size:20,className:"text-blue-500"})," ",t("home.state_schedule")]}),o.jsxs("div",{className:`inline-flex items-center gap-3 px-5 py-3 rounded-xl border ${a(d.id).abierto?"bg-green-50 border-green-100 text-green-800":"bg-red-50 border-red-100 text-red-800"}`,children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${a(d.id).abierto?"bg-green-500 animate-pulse":"bg-red-500"}`}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-sm tracking-wide",children:a(d.id).abierto?t("home.open_now"):t("home.closed")}),o.jsx("p",{className:"text-xs opacity-80",children:a(d.id).mensaje})]})]}),o.jsx("p",{className:"mt-4 text-gray-600 leading-relaxed text-lg",children:d.descripcion})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider mb-4",children:t("home.contact")}),o.jsxs("ul",{className:"space-y-4",children:[d.telefono&&o.jsxs("li",{className:"flex items-center gap-3 text-gray-700 bg-gray-50 p-3 rounded-xl",children:[o.jsx(el,{size:20,className:"text-blue-500"}),o.jsx("span",{className:"font-medium",children:d.telefono})]}),d.correo_contacto&&o.jsxs("li",{className:"flex items-center gap-3 text-gray-700 bg-gray-50 p-3 rounded-xl",children:[o.jsx(na,{size:20,className:"text-blue-500"}),o.jsx("span",{className:"font-medium",children:d.correo_contacto})]}),d.mapa_url&&o.jsx("li",{children:o.jsxs("a",{href:d.mapa_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 text-blue-600 hover:text-blue-700 hover:bg-blue-50 p-3 rounded-xl transition-colors font-medium",children:[o.jsx(G1,{size:20}),"Ver ubicacin en mapa"]})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider mb-4",children:t("home.services")}),o.jsx("div",{className:"flex flex-wrap gap-2",children:(v=d.servicios)==null?void 0:v.map((m,w)=>o.jsxs("span",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium flex items-center gap-2",children:[o.jsx(Pn,{size:16,className:"text-teal-500"}),m]},w))})]})]})]}),o.jsx("div",{className:"p-6 border-t border-gray-100 bg-gray-50/50 flex justify-end",children:o.jsx("button",{onClick:()=>h(null),className:"px-8 py-3 bg-gray-900 text-white rounded-xl hover:bg-gray-800 transition-colors font-bold shadow-lg shadow-gray-200",children:t("home.understood_btn")})})]})})]})},qk=()=>{const{id:t}=D0(),e=nn(),{agregarAlCarrito:r}=b.useContext(Ml),{inventario:n}=b.useContext(_t),{setMostrarLogin:s}=zl(),[i,a]=b.useState(1),{usuario:l}=b.useContext(tt),c=n.find(d=>String(d.id)===t);if(!c)return o.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-6 text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Producto no encontrado"}),o.jsx(ie,{onClick:()=>e("/"),children:"Volver a la tienda"})]});const u=()=>{if(!l){s(!0);return}if(c.requiereLicencia&&!l.licenciaConducir){alert("Este vehculo requiere una Licencia de Conducir vigente. Por favor, actualice su perfil."),e("/perfil");return}r(c,i)};return o.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-6",children:o.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden max-w-5xl mx-auto",children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-8 p-6 md:p-8",children:[o.jsx("div",{className:"rounded-xl overflow-hidden h-64 md:h-96",children:o.jsx("img",{src:c.imagen,alt:c.nombre,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex flex-col justify-between",children:[o.jsxs("div",{children:[o.jsx("button",{onClick:()=>e("/"),className:"text-gray-500 hover:text-gray-800 mb-4 flex items-center gap-1",children:" Volver"}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:c.nombre}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl mb-6 flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600",children:"Precio por hora"}),o.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["S/ ",c.precioPorHora]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-2",children:"Descripcin"}),o.jsx("p",{className:"text-gray-600 leading-relaxed",children:c.descripcion||"Sin descripcin disponible."})]}),o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsx("span",{className:"text-gray-700 font-medium",children:"Horas:"}),o.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[o.jsx("button",{onClick:()=>a(Math.max(1,i-1)),className:"px-3 py-2 hover:bg-gray-100",children:o.jsx(r_,{size:16})}),o.jsxs("span",{className:"px-3 font-medium w-12 text-center",children:[i,"h"]}),o.jsx("button",{onClick:()=>a(i+1),className:"px-3 py-2 hover:bg-gray-100",children:o.jsx(Al,{size:16})})]})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Total estimado"}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["S/ ",c.precioPorHora*i]})]}),o.jsx(ie,{className:"flex-1",onClick:u,children:"Agregar al Carrito"})]})]})]})})})},Wk=()=>{const{usuario:t,actualizarPerfil:e}=b.useContext(tt),[r,n]=b.useState({nombre:t.nombre||"",email:t.email||"",telefono:t.telefono||"",tipoDocumento:t.tipoDocumento||"DNI",numeroDocumento:t.numeroDocumento||"",fechaNacimiento:t.fechaNacimiento||"",nacionalidad:t.nacionalidad||"Nacional",licenciaConducir:t.licenciaConducir||!1,direccion:t.direccion||"",contactoEmergencia:t.contactoEmergencia||"",codigoEmpleado:t.codigoEmpleado||"",turno:t.turno||"Maana",especialidad:t.especialidad||"",experiencia:t.experiencia||"",anexo:t.anexo||"",oficina:t.oficina||""}),[s,i]=b.useState([]),[a,l]=b.useState(!1),[c,u]=b.useState(!1),[d,h]=b.useState({numero:"",exp:"",cvv:"",nombre:""});b.useEffect(()=>{t!=null&&t.id&&t.rol==="cliente"&&p()},[t]);const p=async()=>{l(!0);const m=await yy(t.id);i(m),l(!1)},f=m=>{h({...d,[m.target.name]:m.target.value})},g=async m=>{if(m.preventDefault(),!d.numero||!d.exp||!d.cvv||!d.nombre){alert("Por favor complete todos los campos de la tarjeta.");return}const w={nombre:d.nombre,numero:d.numero.slice(-4),exp:d.exp,principal:s.length===0};(await xy(t.id,w)).success?(alert("Tarjeta agregada correctamente."),u(!1),h({numero:"",exp:"",cvv:"",nombre:""}),p()):alert("Error al agregar tarjeta.")},y=async m=>{window.confirm("Ests seguro de eliminar esta tarjeta?")&&((await wy(m)).success?p():alert("Error al eliminar tarjeta."))},x=m=>{m.preventDefault(),e(t.id,r),alert("Perfil actualizado correctamente.")},v=()=>{switch(t.rol){case"cliente":return o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 space-y-4",children:[o.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2 text-gray-800 border-b pb-3",children:[o.jsx(sa,{className:"text-blue-500",size:20})," Direccin y Contacto"]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Direccin de Domicilio"}),o.jsx("input",{className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",value:r.direccion,onChange:m=>n({...r,direccion:m.target.value}),placeholder:"Av. Principal 123, Dpto 401"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Contacto de Emergencia"}),o.jsx("input",{className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",value:r.contactoEmergencia,onChange:m=>n({...r,contactoEmergencia:m.target.value}),placeholder:"Nombre - Telfono"})]})]})]});default:return null}};return o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-8 text-white shadow-lg mb-8 flex items-center gap-6",children:[o.jsx("div",{className:"w-24 h-24 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-4xl font-bold border-4 border-white/30",children:t.nombre.charAt(0)}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:t.nombre}),o.jsxs("p",{className:"text-blue-100 capitalize text-lg flex items-center gap-2",children:[o.jsx(yi,{size:18})," ",t.rol]}),o.jsx("p",{className:"text-blue-200 text-sm mt-1",children:t.email})]})]}),o.jsxs("form",{onSubmit:x,className:"space-y-8",children:[o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 space-y-4",children:[o.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2 text-gray-800 border-b pb-3",children:[o.jsx(ia,{className:"text-blue-500",size:20})," Informacin Personal"]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Nombre Completo"}),o.jsx("input",{className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",value:r.nombre,onChange:m=>n({...r,nombre:m.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Telfono"}),o.jsx("input",{className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",value:r.telefono,onChange:m=>n({...r,telefono:m.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Nacionalidad"}),o.jsxs("select",{className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",value:r.nacionalidad,onChange:m=>n({...r,nacionalidad:m.target.value}),children:[o.jsx("option",{value:"Nacional",children:"Nacional"}),o.jsx("option",{value:"Extranjero",children:"Extranjero"})]})]})]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 space-y-4",children:[o.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2 text-gray-800 border-b pb-3",children:[o.jsx(Ri,{className:"text-blue-500",size:20})," Documentacin"]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Tipo Documento"}),o.jsxs("select",{className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",value:r.tipoDocumento,onChange:m=>n({...r,tipoDocumento:m.target.value}),children:[o.jsx("option",{value:"DNI",children:"DNI"}),o.jsx("option",{value:"Pasaporte",children:"Pasaporte"}),o.jsx("option",{value:"CE",children:"Carn Extranjera"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Nmero Documento"}),o.jsx("input",{className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",value:r.numeroDocumento,onChange:m=>n({...r,numeroDocumento:m.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Fecha Nacimiento"}),o.jsx("input",{type:"date",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",value:r.fechaNacimiento,onChange:m=>n({...r,fechaNacimiento:m.target.value})})]})]})]}),v(),t.rol==="cliente"&&o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center border-b pb-3",children:[o.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2 text-gray-800",children:[o.jsx(Ri,{className:"text-blue-500",size:20})," Mtodos de Pago"]}),o.jsxs("button",{type:"button",onClick:()=>u(!0),className:"text-sm text-blue-600 font-semibold hover:text-blue-800 flex items-center gap-1",children:[o.jsx(Al,{size:16})," Nueva Tarjeta"]})]}),a?o.jsx("p",{className:"text-gray-500 text-sm",children:"Cargando tarjetas..."}):o.jsxs("div",{className:"grid gap-4",children:[s.length===0&&o.jsx("p",{className:"text-gray-500 text-sm italic",children:"No tienes tarjetas guardadas."}),s.map(m=>{var w;return o.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-xl bg-gray-50 hover:border-blue-200 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm text-blue-600",children:o.jsx(Ri,{size:24})}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-bold text-gray-800",children:["   ",((w=m.numero_oculto)==null?void 0:w.slice(-4))||"****"]}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Expira: ",m.expiracion," | ",m.titular]})]})]}),o.jsx("button",{type:"button",onClick:()=>y(m.id),className:"text-gray-400 hover:text-red-500 p-2 transition-colors",children:o.jsx(wa,{size:18})})]},m.id)})]})]}),(t.rol==="cliente"||t.rol==="mecanico")&&o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 space-y-4",children:[o.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2 text-gray-800 border-b pb-3",children:[o.jsx(Cn,{className:"text-blue-500",size:20})," Permisos"]}),o.jsxs("div",{className:"flex items-center gap-3 bg-blue-50 p-4 rounded-lg border border-blue-100",children:[o.jsx("input",{type:"checkbox",id:"licencia",className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500",checked:r.licenciaConducir,onChange:m=>n({...r,licenciaConducir:m.target.checked})}),o.jsx("label",{htmlFor:"licencia",className:"text-sm font-medium text-gray-800 cursor-pointer",children:"Declaro tener Licencia de Conducir Vigente (Requerido para vehculos motorizados)"})]})]}),o.jsx("div",{className:"pt-6",children:o.jsx(ie,{type:"submit",variante:"primario",className:"w-full py-4 text-lg font-bold shadow-lg shadow-blue-500/30",children:"Guardar Todos los Cambios"})})]}),c&&o.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl p-8 w-full max-w-md shadow-2xl transform transition-all",children:[o.jsx("h3",{className:"text-2xl font-bold mb-6 text-gray-900",children:"Agregar Nueva Tarjeta"}),o.jsxs("form",{onSubmit:g,className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1.5",children:"Nombre en la Tarjeta"}),o.jsx("input",{type:"text",name:"nombre",value:d.nombre,onChange:f,className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Juan Perez"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1.5",children:"Nmero de Tarjeta"}),o.jsx("input",{type:"text",name:"numero",value:d.numero,onChange:f,className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"0000 0000 0000 0000",maxLength:"19"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1.5",children:"Expiracin"}),o.jsx("input",{type:"text",name:"exp",value:d.exp,onChange:f,className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"MM/YY",maxLength:"5"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1.5",children:"CVV"}),o.jsx("input",{type:"text",name:"cvv",value:d.cvv,onChange:f,className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"123",maxLength:"4"})]})]}),o.jsxs("div",{className:"flex gap-4 mt-8",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 py-3 px-4 border border-gray-300 rounded-xl text-gray-700 font-semibold hover:bg-gray-50 transition-colors",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"flex-1 py-3 px-4 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 shadow-lg shadow-blue-500/30 transition-colors",children:"Guardar"})]})]})]})})]})},Di=({estado:t})=>{const e={pendiente:{color:"bg-yellow-100 text-yellow-800",texto:"Pendiente Revisin"},listo_para_entrega:{color:"bg-purple-100 text-purple-800",texto:"Listo para Entrega"},en_uso:{color:"bg-blue-100 text-blue-800",texto:"En Uso"},limpieza:{color:"bg-cyan-100 text-cyan-800",texto:"En Limpieza"},en_mantenimiento:{color:"bg-orange-100 text-orange-800",texto:"En Mantenimiento"},fuera_de_servicio:{color:"bg-red-100 text-red-800",texto:"Fuera de Servicio"},finalizado:{color:"bg-green-100 text-green-800",texto:"Finalizado"},devuelto:{color:"bg-gray-100 text-gray-800",texto:"Devuelto (Histrico)"}},{color:r,texto:n}=e[t]||{color:"bg-gray-100 text-gray-800",texto:t};return o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${r}`,children:n})},lo=({rol:t})=>{var He,sr;const{alquileres:e,inventario:r,reprogramarAlquiler:n,marcarNoShow:s,aplicarDescuentoMantenimiento:i}=b.useContext(_t),{usuario:a,usuarios:l}=b.useContext(tt),{tickets:c}=b.useContext(an),u=qt(),d=t||(a==null?void 0:a.rol),[h,p]=b.useState(""),[f,g]=b.useState(d==="mecanico"?"trabajos_activos":"ventas"),[y,x]=b.useState(((He=u.state)==null?void 0:He.usuarioId)||""),[v,m]=b.useState((sr=u.state)!=null&&sr.usuarioId?"individual":"general"),[w,S]=b.useState("todos"),[N,R]=b.useState([]),[j,T]=b.useState([]),[M,E]=b.useState(!1);b.useEffect(()=>{d==="cliente"&&(a!=null&&a.id)&&(async()=>{E(!0);const[ue,rt]=await Promise.all([Sy(a.id),Ny(a.id)]);R(ue||[]),T(rt||[]),E(!1)})()},[d,a]),v==="general"&&y!==""&&x("");let W=d==="cliente"?N:e;d==="cliente"||(d==="vendedor"?W=e.filter(C=>C.vendedorId===(a==null?void 0:a.id)):d==="admin"&&(a!=null&&a.sede)&&(W=e.filter(C=>C.sedeId===a.sede))),(d==="admin"||d==="dueno")&&(v==="individual"&&y?W=W.filter(C=>C.clienteId===Number(y)||C.vendedorId===Number(y)):v==="general"&&w!=="todos"&&w==="vendedor"&&(W=W.filter(C=>C.vendedorId!==null)));const Q=e.filter(C=>C.estado==="en_mantenimiento"||C.estado==="limpieza"||C.estado==="reparacion"||C.estado==="finalizado"&&C.descuentoMantenimiento>0),G=d==="mecanico"?f==="trabajos_activos"?Q.filter(C=>["en_mantenimiento","limpieza","reparacion"].includes(C.estado)):Q.filter(C=>C.estado==="finalizado"):W,L=G.filter(C=>C.cliente&&C.cliente.toLowerCase().includes(h.toLowerCase())||C.vendedorId&&C.vendedorId.toString().includes(h)||C.id&&String(C.id).toLowerCase().includes(h.toLowerCase())||C.producto_principal&&C.producto_principal.toLowerCase().includes(h.toLowerCase()));console.log("DEBUG REPORTES:",{rol:d,cargando:M,misGastosLength:N==null?void 0:N.length,alquileresFiltradosLength:L==null?void 0:L.length,datosParaTablaLength:G==null?void 0:G.length});const[A,z]=b.useState("enviados");let D=d==="cliente"?j:c;d==="cliente"||(d==="admin"||d==="dueno")&&(v==="individual"&&y?D=c.filter(C=>{var ue,rt;return((ue=C.remitente)==null?void 0:ue.id)===Number(y)||((rt=C.destinatario)==null?void 0:rt.id)===Number(y)}):A==="recibidos"?D=c.filter(C=>{var ue,rt,Ie;return((ue=C.destinatario)==null?void 0:ue.rol)===d||((rt=C.destinatario)==null?void 0:rt.id)===(a==null?void 0:a.id)||!C.destinatario&&((Ie=C.remitente)==null?void 0:Ie.rol)!==d}):D=c.filter(C=>{var ue;return((ue=C.remitente)==null?void 0:ue.id)===(a==null?void 0:a.id)}));const O=W.reduce((C,ue)=>C+Number(ue.total_final||ue.totalFinal||ue.total||0),0),I=W.length;W.reduce((C,ue)=>C+(ue.penalizacion||0),0);const H=W.reduce((C,ue)=>C+(ue.descuentoMantenimiento||0),0);r.length,r.reduce((C,ue)=>C+(ue.stockTotal-ue.stock),0);const F=D.filter(C=>C.estado==="pendiente").length,oe=Q.filter(C=>["en_mantenimiento","limpieza","reparacion"].includes(C.estado)).length,xe=Q.filter(C=>C.estado==="finalizado").length,pe=C=>{const ue=prompt("Cuntas horas adicionales desea agregar?");ue&&!isNaN(ue)&&parseInt(ue)>0&&(n(C,parseInt(ue)),alert("Alquiler reprogramado con xito."))},we=()=>o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[d!=="mecanico"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("h3",{className:"text-gray-500 text-sm font-medium mb-1 flex items-center gap-2",children:[o.jsx(K0,{size:16})," ",d==="cliente"?"Total Gastado":"Ingresos Totales"]}),o.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["S/ ",O.toFixed(2)]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("h3",{className:"text-gray-500 text-sm font-medium mb-1 flex items-center gap-2",children:[o.jsx(Sn,{size:16})," Operaciones"]}),o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:I})]})]}),(d==="admin"||d==="dueno")&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("h3",{className:"text-gray-500 text-sm font-medium mb-1 flex items-center gap-2",children:[o.jsx(Oi,{size:16})," Costos Mantenimiento"]}),o.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:["S/ ",H.toFixed(2)]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("h3",{className:"text-gray-500 text-sm font-medium mb-1 flex items-center gap-2",children:[o.jsx(vi,{size:16})," Tickets Pendientes"]}),o.jsx("p",{className:"text-2xl font-bold text-red-600",children:F})]})]}),d==="mecanico"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("h3",{className:"text-gray-500 text-sm font-medium mb-1 flex items-center gap-2",children:[o.jsx(H1,{size:16})," Trabajos Activos"]}),o.jsx("p",{className:"text-2xl font-bold text-orange-600",children:oe})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("h3",{className:"text-gray-500 text-sm font-medium mb-1 flex items-center gap-2",children:[o.jsx(Pn,{size:16})," Completados"]}),o.jsx("p",{className:"text-2xl font-bold text-green-600",children:xe})]})]}),d==="cliente"&&o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("h3",{className:"text-gray-500 text-sm font-medium mb-1 flex items-center gap-2",children:[o.jsx(vi,{size:16})," Mis Reclamos"]}),o.jsx("p",{className:"text-2xl font-bold text-gray-700",children:D.length})]})]}),je=()=>d==="cliente"?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Detalle de Movimientos"}),o.jsxs("div",{className:"relative w-full max-w-xs",children:[o.jsx(Dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),o.jsx("input",{type:"text",placeholder:"Buscar por producto o ID...",className:"w-full pl-9 pr-4 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none",value:h,onChange:C=>p(C.target.value)})]})]}),M?o.jsx("div",{className:"text-center py-10 text-gray-500",children:"Cargando historial..."}):L.length===0?o.jsx("div",{className:"text-center py-10 bg-gray-50 rounded-xl border border-dashed border-gray-300 text-gray-500",children:"No tienes alquileres registrados con ese criterio."}):o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-700 font-medium border-b border-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:"Producto / ID"}),o.jsx("th",{className:"p-4",children:"Fechas"}),o.jsx("th",{className:"p-4 text-center",children:"Items"}),o.jsx("th",{className:"p-4",children:"Estado"}),o.jsx("th",{className:"p-4 text-right",children:"Pagado / Saldo"}),o.jsx("th",{className:"p-4 text-right",children:"Total"}),o.jsx("th",{className:"p-4 text-center",children:"Acciones"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-50",children:L.map(C=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-100 overflow-hidden flex-shrink-0",children:C.imagen_principal?o.jsx("img",{src:C.imagen_principal,alt:C.producto_principal,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:o.jsx(X1,{size:16})})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900 line-clamp-1",title:C.producto_principal,children:C.producto_principal||"Alquiler General"}),o.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",String(C.id||"").slice(0,8),"..."]})]})]})}),o.jsx("td",{className:"p-4 text-gray-600",children:o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsx("span",{className:"font-semibold w-12",children:"Inicio:"}),o.jsx(Cn,{size:12,className:"text-gray-400"}),o.jsx("span",{children:C.fecha_inicio?new Date(C.fecha_inicio).toLocaleDateString():"N/A"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsx("span",{className:"font-semibold w-12",children:"Fin Est:"}),o.jsx(Cn,{size:12,className:"text-gray-400"}),o.jsx("span",{children:C.fecha_fin?new Date(C.fecha_fin).toLocaleDateString():"N/A"})]})]})}),o.jsx("td",{className:"p-4 text-center",children:o.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-50 text-blue-600 font-bold text-xs",children:C.cantidad_items||1})}),o.jsx("td",{className:"p-4",children:o.jsx(Di,{estado:C.estado_nombre||C.estado||"pendiente"})}),o.jsx("td",{className:"p-4 text-right",children:o.jsxs("div",{className:"flex flex-col items-end gap-1",children:[o.jsxs("span",{className:"text-xs text-green-600 font-medium",children:["Pagado: S/ ",Number(C.monto_pagado||0).toFixed(2)]}),Number(C.saldo_pendiente||0)>0&&o.jsxs("span",{className:"text-xs text-red-500 font-bold bg-red-50 px-2 py-0.5 rounded-full",children:["Debes: S/ ",Number(C.saldo_pendiente||0).toFixed(2)]})]})}),o.jsxs("td",{className:"p-4 text-right font-bold text-gray-900",children:["S/ ",Number(C.total_final||0).toFixed(2)]}),o.jsx("td",{className:"p-4 text-center",children:(C.estado_nombre==="pendiente"||C.estado==="pendiente")&&o.jsx("button",{onClick:()=>pe(C.id),className:"text-blue-600 hover:text-blue-800 text-xs font-medium hover:underline",children:"Reprogramar"})})]},C.id))})]})})})]}):o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col sm:flex-row justify-between items-center gap-4",children:[o.jsx("h3",{className:"font-bold text-gray-800",children:d==="mecanico"?f==="trabajos_activos"?"Trabajos en Curso":"Historial de Reparaciones":"Historial de Alquileres"}),o.jsxs("div",{className:"relative w-full sm:w-64",children:[o.jsx(Dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),o.jsx("input",{type:"text",placeholder:"Buscar...",className:"w-full pl-10 pr-4 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none",value:h,onChange:C=>p(C.target.value)})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:"Fecha"}),o.jsx("th",{className:"p-3",children:"Cliente"}),(d==="admin"||d==="dueno")&&o.jsx("th",{className:"p-3",children:"Vendedor"}),o.jsx("th",{className:"p-3",children:"Monto"}),o.jsx("th",{className:"p-3",children:"Estado"}),o.jsx("th",{className:"p-3",children:"Acciones"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-100",children:[L.map(C=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsxs("td",{className:"p-3 whitespace-nowrap",children:[ua(C.fechaInicio),o.jsxs("div",{className:"text-xs text-gray-400",children:[C.id.toString().slice(0,8),"..."]})]}),o.jsx("td",{className:"p-3 font-medium",children:C.cliente}),(d==="admin"||d==="dueno")&&o.jsx("td",{className:"p-3 text-gray-500",children:C.vendedorId||"WEB"}),o.jsxs("td",{className:"p-3",children:[o.jsxs("div",{className:"font-medium",children:["S/ ",(C.totalFinal||C.total).toFixed(2)]}),C.descuentoMantenimiento>0&&o.jsxs("div",{className:"text-xs text-orange-600 flex items-center gap-1",children:[o.jsx(Oi,{size:10})," -S/ ",C.descuentoMantenimiento.toFixed(2)]})]}),o.jsx("td",{className:"p-3",children:o.jsx(Di,{estado:C.estado})}),o.jsx("td",{className:"p-3",children:(d==="admin"||d==="vendedor"||d==="dueno")&&o.jsxs("div",{className:"flex flex-col gap-1",children:[C.estado==="pendiente"&&new Date>new Date(new Date(C.fechaInicio).getTime()+10*6e4)&&o.jsxs("button",{className:"text-red-600 hover:text-red-800 text-xs font-medium flex items-center gap-1",onClick:()=>{confirm("Marcar No Show?")&&s(C.id)},children:[o.jsx(Lu,{size:12})," No Show"]}),(C.estado==="en_mantenimiento"||C.estado==="retrasado")&&o.jsxs("button",{className:"text-orange-600 hover:text-orange-800 text-xs font-medium flex items-center gap-1",onClick:()=>{const ue=prompt("Ingrese % descuento:");ue&&i(C.id,Number(ue))},children:[o.jsx(Oi,{size:12})," Compensar"]})]})})]},C.id)),L.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:"6",className:"p-8 text-center text-gray-500",children:"No hay registros."})})]})]})})]}),V=()=>o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"p-4 border-b border-gray-100",children:o.jsx("h3",{className:"font-bold text-gray-800",children:"Estado del Inventario"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:"Producto"}),o.jsx("th",{className:"p-3",children:"Categora"}),o.jsx("th",{className:"p-3 text-center",children:"Stock Total"}),o.jsx("th",{className:"p-3 text-center",children:"Disponible"}),o.jsx("th",{className:"p-3 text-center",children:"En Uso"}),o.jsx("th",{className:"p-3",children:"Estado"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:r.map(C=>{const ue=C.stockTotal-C.stock;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"p-3 font-medium flex items-center gap-2",children:[o.jsx("img",{src:C.imagen,alt:"",className:"w-8 h-8 rounded object-cover"}),C.nombre]}),o.jsx("td",{className:"p-3 text-gray-500",children:C.categoria}),o.jsx("td",{className:"p-3 text-center font-bold",children:C.stockTotal}),o.jsx("td",{className:"p-3 text-center text-green-600 font-bold",children:C.stock}),o.jsx("td",{className:"p-3 text-center text-blue-600 font-bold",children:ue}),o.jsx("td",{className:"p-3",children:C.stock===0?o.jsxs("span",{className:"text-red-600 text-xs font-bold flex items-center gap-1",children:[o.jsx(X0,{size:12})," Agotado"]}):o.jsxs("span",{className:"text-green-600 text-xs font-bold flex items-center gap-1",children:[o.jsx(Pn,{size:12})," Disponible"]})})]},C.id)})})]})})]}),ge=()=>{const C=D.length,ue=D.filter(Ie=>Ie.estado==="pendiente").length,rt=D.filter(Ie=>Ie.estado==="resuelto"||Ie.estado==="cerrado").length;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Total Tickets"}),o.jsx("p",{className:"text-2xl font-bold text-gray-800",children:C})]}),o.jsx("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg",children:o.jsx(Sn,{size:20})})]}),o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Pendientes"}),o.jsx("p",{className:"text-2xl font-bold text-orange-600",children:ue})]}),o.jsx("div",{className:"p-2 bg-orange-50 text-orange-600 rounded-lg",children:o.jsx(Lu,{size:20})})]}),o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Resueltos"}),o.jsx("p",{className:"text-2xl font-bold text-green-600",children:rt})]}),o.jsx("div",{className:"p-2 bg-green-50 text-green-600 rounded-lg",children:o.jsx(Pn,{size:20})})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:[o.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(vi,{size:18,className:"text-blue-600"}),d==="cliente"?"Historial de Consultas":"Bandeja de Soporte"]}),d!=="cliente"&&o.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[o.jsx("button",{onClick:()=>z("enviados"),className:`px-3 py-1 rounded-md text-xs font-medium transition-all ${A==="enviados"?"bg-white shadow text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Enviados"}),o.jsx("button",{onClick:()=>z("recibidos"),className:`px-3 py-1 rounded-md text-xs font-medium transition-all ${A==="recibidos"?"bg-white shadow text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Recibidos"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-700 font-medium border-b border-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:"ID / Fecha"}),o.jsx("th",{className:"p-4",children:"Asunto"}),o.jsx("th",{className:"p-4",children:"Mensaje"}),d!=="cliente"&&o.jsx("th",{className:"p-4",children:A==="recibidos"?"De":"Para"}),o.jsx("th",{className:"p-4 text-center",children:"Estado"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-50",children:[D.map(Ie=>{var mt;return o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsxs("td",{className:"p-4",children:[o.jsxs("div",{className:"font-medium text-gray-900",children:["#",Ie.id.toString().slice(0,8)]}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-1",children:[o.jsx(Cn,{size:10}),new Date(Ie.created_at).toLocaleDateString()]})]}),o.jsx("td",{className:"p-4 font-medium text-gray-900",children:Ie.asunto}),o.jsx("td",{className:"p-4 text-gray-600 max-w-md truncate",title:Ie.mensaje,children:Ie.mensaje}),d!=="cliente"&&o.jsx("td",{className:"p-4 text-gray-600",children:((mt=Ie.usuario)==null?void 0:mt.nombre)||Ie.nombre_usuario||"Usuario"}),o.jsx("td",{className:"p-4 text-center",children:o.jsx(Di,{estado:Ie.estado||"pendiente"})})]},Ie.id)}),D.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:d==="cliente"?4:5,className:"p-12 text-center text-gray-500",children:o.jsxs("div",{className:"flex flex-col items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center text-gray-400",children:o.jsx(vi,{size:24})}),o.jsx("p",{children:"No hay tickets registrados en esta seccin."})]})})})]})]})})]})]})};return o.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 space-y-6 py-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 text-gray-900",children:[o.jsx(V1,{className:"text-blue-600"}),"Reportes: ",d==="dueno"?"Dueo":d.charAt(0).toUpperCase()+d.slice(1)]}),o.jsx("div",{className:"flex gap-2 items-center",children:(d==="admin"||d==="dueno"||d==="cliente"||d==="mecanico")&&o.jsx("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:d==="mecanico"?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>g("trabajos_activos"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${f==="trabajos_activos"?"bg-white shadow text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Trabajos Activos"}),o.jsx("button",{onClick:()=>g("historial_mantenimiento"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${f==="historial_mantenimiento"?"bg-white shadow text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Historial"})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>g("ventas"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${f==="ventas"?"bg-white shadow text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:d==="cliente"?"Mis Reportes":"Ventas"}),(d==="admin"||d==="dueno")&&o.jsx("button",{onClick:()=>g("inventario"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${f==="inventario"?"bg-white shadow text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Inventario"}),o.jsx("button",{onClick:()=>g("soporte"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${f==="soporte"?"bg-white shadow text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Soporte"})]})})})]}),(d==="admin"||d==="dueno")&&o.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[o.jsxs("div",{className:"w-full md:w-auto",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Reporte"}),o.jsxs("select",{className:"w-full md:w-48 p-2 border rounded-lg text-sm bg-gray-50",value:v,onChange:C=>m(C.target.value),children:[o.jsx("option",{value:"general",children:"General"}),o.jsx("option",{value:"individual",children:"Individual"})]})]}),o.jsxs("div",{className:"w-full md:w-auto",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filtrar por Rol"}),o.jsxs("select",{className:"w-full md:w-48 p-2 border rounded-lg text-sm bg-gray-50",value:w,onChange:C=>{S(C.target.value),x("")},children:[o.jsx("option",{value:"todos",children:"Todos"}),o.jsx("option",{value:"cliente",children:"Clientes"}),o.jsx("option",{value:"vendedor",children:"Vendedores"}),o.jsx("option",{value:"mecanico",children:"Mecnicos"}),d==="dueno"&&o.jsx("option",{value:"admin",children:"Administradores"})]})]}),v==="individual"&&o.jsxs("div",{className:"w-full md:w-auto flex-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seleccionar Usuario"}),o.jsxs("select",{className:"w-full p-2 border rounded-lg text-sm bg-gray-50",value:y,onChange:C=>x(C.target.value),children:[o.jsx("option",{value:"",children:"-- Seleccione un usuario --"}),l.filter(C=>w==="todos"?!0:C.rol===w).map(C=>o.jsxs("option",{value:C.id,children:[C.nombre," (",C.rol,") - ",C.email]},C.id))]})]})]})}),we(),f==="ventas"&&je(),f==="inventario"&&(d==="admin"||d==="dueno")&&V(),f==="soporte"&&ge(),(f==="trabajos_activos"||f==="historial_mantenimiento")&&je(),d==="vendedor"&&f!=="ventas"&&je()]})},Kk=()=>{const[t,e]=b.useState("contacto"),{crearTicket:r}=b.useContext(an),{usuario:n}=b.useContext(tt),[s,i]=b.useState({asunto:"Reporte de Incidente",mensaje:""}),[a,l]=b.useState([]),[c,u]=b.useState(!0),[d,h]=b.useState("");b.useEffect(()=>{(async()=>{const g=await ky();l(g),u(!1)})()},[]);const p=f=>{f.preventDefault(),r({asunto:s.asunto,mensaje:s.mensaje,remitente:{id:n==null?void 0:n.id,nombre:(n==null?void 0:n.nombre)||"Usuario",rol:(n==null?void 0:n.rol)||"cliente"},destinatario:{rol:"admin"}}),alert("Mensaje enviado. Nos contactaremos contigo a la brevedad."),i({asunto:"Reporte de Incidente",mensaje:""})};return o.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8 space-y-6",children:[o.jsxs("div",{className:"text-center space-y-2 mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Centro de Ayuda"}),o.jsx("p",{className:"text-gray-600",children:"Selecciona una opcin para recibir asistencia."})]}),o.jsxs("div",{className:"flex justify-center border-b border-gray-200 mb-6",children:[o.jsxs("button",{onClick:()=>e("contacto"),className:`px-6 py-3 font-medium text-sm flex items-center gap-2 border-b-2 transition-colors ${t==="contacto"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[o.jsx(na,{size:18}),"Contacto y Soporte"]}),o.jsxs("button",{onClick:()=>e("seguridad"),className:`px-6 py-3 font-medium text-sm flex items-center gap-2 border-b-2 transition-colors ${t==="seguridad"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[o.jsx(yi,{size:18}),"Guas de Seguridad"]}),o.jsxs("button",{onClick:()=>e("emergencia"),className:`px-6 py-3 font-medium text-sm flex items-center gap-2 border-b-2 transition-colors ${t==="emergencia"?"border-red-600 text-red-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[o.jsx(Ns,{size:18}),"Emergencias"]})]}),o.jsxs("div",{className:"min-h-[400px]",children:[t==="contacto"&&o.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100 max-w-2xl mx-auto animate-in fade-in zoom-in duration-300",children:[o.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2 text-gray-800",children:[o.jsx(el,{className:"text-blue-600"}),"Envanos un Mensaje"]}),o.jsxs("form",{className:"space-y-5",onSubmit:p,children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Asunto"}),o.jsxs("select",{className:"w-full p-3 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none transition-all",value:s.asunto,onChange:f=>i({...s,asunto:f.target.value}),children:[o.jsx("option",{children:"Reporte de Incidente"}),o.jsx("option",{children:"Problema con Reserva"}),o.jsx("option",{children:"Consulta General"}),o.jsx("option",{children:"Sugerencia"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensaje"}),o.jsx("textarea",{className:"w-full p-3 border border-gray-200 rounded-lg text-sm h-32 resize-none focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"Describe detalladamente tu consulta o situacin...",required:!0,value:s.mensaje,onChange:f=>i({...s,mensaje:f.target.value})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx(ie,{type:"submit",className:"w-full sm:w-auto",children:"Enviar Mensaje"})})]})]}),t==="seguridad"&&o.jsxs("div",{className:"space-y-6 animate-in fade-in zoom-in duration-300",children:[o.jsxs("div",{className:"relative max-w-md mx-auto",children:[o.jsx("input",{type:"text",placeholder:"Buscar gua de seguridad (ej. Kayak, Casco...)",className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-full shadow-sm focus:ring-2 focus:ring-blue-500 outline-none transition-all",onChange:f=>h(f.target.value.toLowerCase())}),o.jsx(Dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c?o.jsx("p",{className:"text-center col-span-full text-gray-500 py-10",children:"Cargando guas de seguridad..."}):a.filter(f=>!d||f.nombre.toLowerCase().includes(d)||f.guia_seguridad.toLowerCase().includes(d)).length===0?o.jsxs("div",{className:"col-span-full text-center py-10 bg-gray-50 rounded-xl border border-dashed border-gray-200",children:[o.jsx(Z1,{className:"mx-auto text-gray-400 mb-2",size:32}),o.jsx("p",{className:"text-gray-500",children:"No se encontraron guas que coincidan con tu bsqueda."})]}):a.filter(f=>!d||f.nombre.toLowerCase().includes(d)||f.guia_seguridad.toLowerCase().includes(d)).map(f=>o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow group",children:[o.jsxs("div",{className:"h-32 overflow-hidden relative",children:[o.jsx("img",{src:f.imagen,alt:f.nombre,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-4",children:o.jsx("h3",{className:"text-white font-bold text-lg",children:f.nombre})})]}),o.jsx("div",{className:"p-5",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(yi,{className:"text-green-600 shrink-0 mt-1",size:20}),o.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:f.guia_seguridad})]})})]},f.id))})]}),t==="emergencia"&&o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 animate-in fade-in zoom-in duration-300",children:[o.jsxs("div",{className:"bg-red-50 border border-red-100 p-8 rounded-xl flex flex-col items-center text-center hover:shadow-lg transition-all transform hover:-translate-y-1",children:[o.jsx("div",{className:"bg-red-100 p-4 rounded-full mb-4 text-red-600 shadow-sm",children:o.jsx(Ns,{size:40})}),o.jsx("h3",{className:"font-bold text-red-900 text-lg mb-1",children:"Bomberos"}),o.jsx("p",{className:"text-4xl font-black text-red-600 mb-3 tracking-tight",children:"116"}),o.jsx("p",{className:"text-sm text-red-700 font-medium",children:"Emergencias mdicas y rescate"})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-8 rounded-xl flex flex-col items-center text-center hover:shadow-lg transition-all transform hover:-translate-y-1",children:[o.jsx("div",{className:"bg-blue-100 p-4 rounded-full mb-4 text-blue-600 shadow-sm",children:o.jsx(yi,{size:40})}),o.jsx("h3",{className:"font-bold text-blue-900 text-lg mb-1",children:"Polica Nacional"}),o.jsx("p",{className:"text-4xl font-black text-blue-600 mb-3 tracking-tight",children:"105"}),o.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Seguridad y denuncias"})]}),o.jsxs("div",{className:"bg-orange-50 border border-orange-100 p-8 rounded-xl flex flex-col items-center text-center hover:shadow-lg transition-all transform hover:-translate-y-1",children:[o.jsx("div",{className:"bg-orange-100 p-4 rounded-full mb-4 text-orange-600 shadow-sm",children:o.jsx(t_,{size:40})}),o.jsx("h3",{className:"font-bold text-orange-900 text-lg mb-1",children:"Salvavidas"}),o.jsx("p",{className:"text-4xl font-black text-orange-600 mb-3 tracking-tight",children:"106"}),o.jsx("p",{className:"text-sm text-orange-700 font-medium",children:"Rescate en mar y playa"})]}),o.jsxs("div",{className:"bg-white border border-red-200 p-8 rounded-xl flex flex-col items-center text-center hover:shadow-lg transition-all transform hover:-translate-y-1",children:[o.jsx("div",{className:"bg-red-50 p-4 rounded-full mb-4 text-red-500 shadow-sm",children:o.jsx(Ns,{size:40})}),o.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-1",children:"Cruz Roja"}),o.jsx("p",{className:"text-4xl font-black text-red-500 mb-3 tracking-tight",children:"115"}),o.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Ayuda humanitaria y socorro"})]}),o.jsxs("div",{className:"bg-indigo-50 border border-indigo-100 p-8 rounded-xl flex flex-col items-center text-center hover:shadow-lg transition-all transform hover:-translate-y-1",children:[o.jsx("div",{className:"bg-indigo-100 p-4 rounded-full mb-4 text-indigo-600 shadow-sm",children:o.jsx(yi,{size:40})}),o.jsx("h3",{className:"font-bold text-indigo-900 text-lg mb-1",children:"Serenazgo"}),o.jsx("p",{className:"text-4xl font-black text-indigo-600 mb-3 tracking-tight",children:"(01) 555-1234"}),o.jsx("p",{className:"text-sm text-indigo-700 font-medium",children:"Seguridad ciudadana local"})]}),o.jsxs("div",{className:"bg-green-50 border border-green-100 p-8 rounded-xl flex flex-col items-center text-center hover:shadow-lg transition-all transform hover:-translate-y-1",children:[o.jsx("div",{className:"bg-green-100 p-4 rounded-full mb-4 text-green-600 shadow-sm",children:o.jsx(el,{size:40})}),o.jsx("h3",{className:"font-bold text-green-900 text-lg mb-1",children:"Soporte SummerRent"}),o.jsx("p",{className:"text-3xl font-black text-green-600 mb-3 tracking-tight",children:"(01) 555-0123"}),o.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Asistencia tcnica y reservas"})]})]})]})]})},Gk=()=>{const{inventario:t,agregarProducto:e,editarProducto:r,eliminarProducto:n}=b.useContext(_t),[s,i]=b.useState(!1),[a,l]=b.useState(!1),[c,u]=b.useState(null),[d,h]=b.useState({nombre:"",categoria:"",precioPorHora:"",stock:"",imagen:""}),p=y=>{y.preventDefault();const x={...d,precioPorHora:Number(d.precioPorHora),stock:Number(d.stock)};a?r(c,x):e(x),g()},f=y=>{h(y),l(!0),u(y.id),i(!0)},g=()=>{i(!1),l(!1),u(null),h({nombre:"",categoria:"",precioPorHora:"",stock:"",imagen:""})};return o.jsxs("div",{className:"space-y-8 px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[o.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Inventario"}),o.jsxs(ie,{onClick:()=>i(!0),variante:"primario",children:[o.jsx(Al,{size:18})," Nuevo Producto"]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 text-sm",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:"Producto"}),o.jsx("th",{className:"p-4",children:"Categora"}),o.jsx("th",{className:"p-4",children:"Precio/h"}),o.jsx("th",{className:"p-4",children:"Stock"}),o.jsx("th",{className:"p-4",children:"Acciones"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map(y=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"p-4 font-medium",children:y.nombre}),o.jsx("td",{className:"p-4 text-sm text-gray-600",children:y.categoria}),o.jsxs("td",{className:"p-4",children:["S/ ",y.precioPorHora]}),o.jsx("td",{className:"p-4",children:y.stock}),o.jsxs("td",{className:"p-4 flex gap-2",children:[o.jsx("button",{onClick:()=>f(y),className:"text-blue-500 hover:text-blue-700",children:o.jsx(a_,{size:18})}),o.jsx("button",{onClick:()=>n(y.id),className:"text-red-500 hover:text-red-700",children:o.jsx(wa,{size:18})})]})]},y.id))})]})})]}),o.jsx(Ds,{titulo:a?"Editar Producto":"Agregar Nuevo Producto",abierto:s,alCerrar:g,children:o.jsxs("form",{onSubmit:p,className:"space-y-4",children:[o.jsx("input",{required:!0,placeholder:"Nombre",className:"w-full p-2 border rounded",value:d.nombre,onChange:y=>h({...d,nombre:y.target.value})}),o.jsx("input",{required:!0,placeholder:"Categora",className:"w-full p-2 border rounded",value:d.categoria,onChange:y=>h({...d,categoria:y.target.value})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("input",{required:!0,type:"number",placeholder:"Precio/Hora",className:"w-full p-2 border rounded",value:d.precioPorHora,onChange:y=>h({...d,precioPorHora:y.target.value})}),o.jsx("input",{required:!0,type:"number",placeholder:"Stock Inicial",className:"w-full p-2 border rounded",value:d.stock,onChange:y=>h({...d,stock:y.target.value})})]}),o.jsx("input",{required:!0,placeholder:"URL Imagen",className:"w-full p-2 border rounded",value:d.imagen,onChange:y=>h({...d,imagen:y.target.value})}),o.jsx(ie,{type:"submit",className:"w-full",children:a?"Actualizar Producto":"Guardar Producto"})]})})]})},Kp=()=>{const{alquileres:t,inventario:e,registrarPagoSaldo:r,entregarAlquiler:n,devolverAlquiler:s,marcarNoShow:i,reprogramarAlquiler:a,sedeActual:l}=b.useContext(_t),{usuario:c}=b.useContext(tt),[u,d]=b.useState("operaciones"),[h,p]=b.useState(""),[f,g]=b.useState(new Date().toISOString().split("T")[0]),[y,x]=b.useState(""),[v,m]=b.useState(null),[w,S]=b.useState(1),N=t.filter(L=>c.rol==="admin"||c.rol==="vendedor"?L.sedeId===l:!0),R=N.filter(L=>["confirmado","listo_para_entrega","en_uso","pendiente"].includes(L.estado)&&L.cliente.toLowerCase().includes(h.toLowerCase())),j=N.filter(L=>L.saldoPendiente>0&&L.estado!=="cancelado"&&L.cliente.toLowerCase().includes(h.toLowerCase())),T=async(L,A)=>{confirm(`Confirmar pago del saldo restante de S/ ${A.toFixed(2)}?`)&&await r(L)},M=async L=>{confirm("Confirmar entrega de equipos al cliente?")&&await n(L)},E=async L=>{confirm("Registrar devolucin de equipos? Esto calcular penalidades si las hay.")&&await s(L)},W=async L=>{confirm("Marcar como No Show? Esto cancelar la reserva sin reembolso automtico.")&&await i(L)},Q=async()=>{v&&(await a(v.id,Number(w)),m(null),S(1))},G=N.filter(L=>{const z=new Date(L.fechaInicio).toISOString().split("T")[0]===f,D=y?L.items.some(O=>O.id===Number(y)):!0;return z&&D&&L.estado!=="cancelado"});return G.sort((L,A)=>new Date(L.fechaInicio)-new Date(A.fechaInicio)),o.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(Cn,{className:"text-blue-600"}),"Gestin de Reservas"]}),o.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg overflow-x-auto",children:[o.jsxs("button",{onClick:()=>d("operaciones"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all whitespace-nowrap ${u==="operaciones"?"bg-white shadow text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[o.jsx(np,{size:16})," Operaciones"]}),o.jsxs("button",{onClick:()=>d("cobros"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all whitespace-nowrap ${u==="cobros"?"bg-white shadow text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[o.jsx(Ri,{size:16})," Cobros"]}),o.jsxs("button",{onClick:()=>d("calendario"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all whitespace-nowrap ${u==="calendario"?"bg-white shadow text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[o.jsx(In,{size:16})," Calendario"]})]})]}),u==="operaciones"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center gap-4",children:[o.jsx(Dn,{className:"text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Buscar cliente...",className:"flex-1 outline-none text-sm",value:h,onChange:L=>p(L.target.value)})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[R.map(L=>o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-gray-900",children:L.cliente}),o.jsx("p",{className:"text-xs text-gray-500",children:ua(L.fechaInicio)})]}),o.jsx(Di,{estado:L.estado})]}),o.jsx("div",{className:"text-sm text-gray-600 mb-4 space-y-1",children:L.items.map(A=>o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{children:[A.cantidad,"x ",A.nombre]}),o.jsxs("span",{children:[A.horas,"h"]})]},A.id))}),o.jsxs("div",{className:"flex flex-wrap gap-2 pt-3 border-t border-gray-100",children:[(L.estado==="listo_para_entrega"||L.estado==="confirmado")&&o.jsxs(ie,{variante:"primario",className:"flex-1 text-xs",onClick:()=>M(L.id),children:[o.jsx(np,{size:14,className:"mr-1"})," Entregar"]}),L.estado==="en_uso"&&o.jsxs(o.Fragment,{children:[o.jsxs(ie,{variante:"exito",className:"flex-1 text-xs",onClick:()=>E(L.id),children:[o.jsx(s_,{size:14,className:"mr-1"})," Devolver"]}),o.jsxs(ie,{variante:"secundario",className:"flex-1 text-xs",onClick:()=>m(L),children:[o.jsx(In,{size:14,className:"mr-1"})," Extender"]})]}),(L.estado==="confirmado"||L.estado==="pendiente")&&o.jsxs(ie,{variante:"peligro",className:"flex-1 text-xs",onClick:()=>W(L.id),children:[o.jsx(X0,{size:14,className:"mr-1"})," No Show"]})]})]},L.id)),R.length===0&&o.jsx("div",{className:"col-span-full text-center py-12 text-gray-500",children:"No hay operaciones activas pendientes."})]})]}),u==="cobros"&&o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[j.map(L=>o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsxs("span",{className:"font-bold text-red-600 flex items-center gap-1",children:[o.jsx(Lu,{size:14})," Deuda"]}),o.jsx("span",{className:"text-xs font-mono",children:L.id.slice(0,8)})]}),o.jsx("p",{className:"font-bold",children:L.cliente}),o.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:["Debe: S/ ",L.saldoPendiente.toFixed(2)]}),o.jsxs(ie,{variante:"primario",className:"w-full",onClick:()=>T(L.id,L.saldoPendiente),children:[o.jsx(K0,{size:16,className:"mr-1"})," Cobrar"]})]},L.id)),j.length===0&&o.jsx("p",{className:"text-center text-gray-500 col-span-full",children:"Sin deudas pendientes."})]})}),u==="calendario"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex flex-col md:flex-row gap-4 items-end",children:[o.jsxs("div",{className:"w-full md:w-auto",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Fecha"}),o.jsx("input",{type:"date",className:"w-full p-2 border rounded-lg text-sm",value:f,onChange:L=>g(L.target.value)})]}),o.jsxs("div",{className:"w-full md:w-auto flex-1",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Filtrar por Producto"}),o.jsxs("select",{className:"w-full p-2 border rounded-lg text-sm",value:y,onChange:L=>x(L.target.value),children:[o.jsx("option",{value:"",children:"-- Todos los Productos --"}),e.map(L=>o.jsx("option",{value:L.id,children:L.nombre},L.id))]})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:"Hora"}),o.jsx("th",{className:"p-3",children:"Producto(s)"}),o.jsx("th",{className:"p-3",children:"Cliente"}),o.jsx("th",{className:"p-3",children:"Estado"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-100",children:[G.map(L=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"p-3",children:new Date(L.fechaInicio).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),o.jsx("td",{className:"p-3",children:L.items.map(A=>A.nombre).join(", ")}),o.jsx("td",{className:"p-3",children:L.cliente}),o.jsx("td",{className:"p-3",children:o.jsx(Di,{estado:L.estado})})]},L.id)),G.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:"4",className:"p-8 text-center text-gray-500",children:"No hay reservas."})})]})]})})})]}),o.jsx(Ds,{titulo:"Extender Alquiler",abierto:!!v,alCerrar:()=>m(null),children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:["Aadir horas adicionales al alquiler de ",o.jsx("b",{children:v==null?void 0:v.cliente}),"."]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Horas Adicionales"}),o.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded-lg",value:w,onChange:L=>S(L.target.value)})]}),o.jsx("div",{className:"bg-yellow-50 p-3 rounded text-xs text-yellow-800",children:"Nota: Se calcular el costo extra automticamente y se sumar al saldo pendiente."}),o.jsx(ie,{onClick:Q,className:"w-full",children:"Confirmar Extensin"})]})})]})},Jk=()=>{const{usuarios:t,cambiarRolUsuario:e,usuario:r,eliminarUsuario:n}=b.useContext(tt),{alquileres:s}=b.useContext(_t),[i,a]=b.useState(""),l=r.rol==="dueno",{crearTicket:c}=b.useContext(an),[u,d]=b.useState(!1),[h,p]=b.useState(!1),[f,g]=b.useState(null),[y,x]=b.useState(""),v=nn(),[m,w]=b.useState("todos"),[S,N]=b.useState(!1),[R,j]=b.useState(null),[T,M]=b.useState(null),[E,W]=b.useState(!1),[Q,G]=b.useState(null),[L,A]=b.useState(""),[z,D]=b.useState("costa"),O=t.filter(V=>{const ge=V.nombre.toLowerCase().includes(i.toLowerCase())||V.email.toLowerCase().includes(i.toLowerCase()),He=m==="todos"||V.rol===m;return!ge||!He?!1:r.rol==="admin"?V.rol==="cliente"||V.rol==="vendedor"||V.rol==="mecanico":!0}),I=(V,ge)=>{ge&&ge.stopPropagation(),g(V),x(""),d(!0)},H=V=>{g(V),p(!0)},F=V=>{V.preventDefault(),y.trim()&&(c({asunto:`Mensaje de ${r.nombre} (${r.rol})`,mensaje:y,telefono:r.telefono||"N/A",remitente:{id:r.id,nombre:r.nombre,rol:r.rol},destinatario:{id:f.id,nombre:f.nombre,rol:f.rol}}),alert(`Mensaje enviado a ${f.nombre} correctamente.`),d(!1))},oe=()=>{v("/admin/reportes",{state:{usuarioId:f.id}})},xe=(V,ge)=>{ge.stopPropagation(),j(V);const He=s.filter(C=>(C.clienteId===V.id||C.vendedorId===V.id)&&["pendiente","en_uso","retrasado","en_mantenimiento"].includes(C.estado)),sr=s.filter(C=>C.clienteId===V.id||C.vendedorId===V.id);He.length>0?M({tipo:"critico",mensaje:`CUIDADO! Este usuario tiene ${He.length} operaciones ACTIVAS. Si lo eliminas, podras corromper los datos de estos alquileres.`}):sr.length>0?M({tipo:"advertencia",mensaje:`Este usuario tiene un historial de ${sr.length} operaciones finalizadas. Eliminarlo mantendr los registros pero perder la asociacin con el perfil.`}):M(null),N(!0)},pe=()=>{n(R.id),N(!1),j(null)},we=(V,ge,He)=>{He&&He.stopPropagation(),ge==="admin"||ge==="vendedor"?(G(V),A(ge),D("costa"),W(!0)):e(V.id,ge)},je=()=>{e(Q.id,L,z),W(!1),G(null)};return o.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[o.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[o.jsx(Au,{})," Gestin de Usuarios"]}),o.jsx("div",{className:"flex gap-2 w-full sm:w-auto",children:o.jsxs("div",{className:"relative w-full sm:w-48",children:[o.jsx(ih,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),o.jsxs("select",{className:"w-full pl-10 pr-4 py-2 border rounded-lg text-sm appearance-none bg-white",value:m,onChange:V=>w(V.target.value),children:[o.jsx("option",{value:"todos",children:"Todos los roles"}),o.jsx("option",{value:"vendedor",children:"Vendedor"}),o.jsx("option",{value:"mecanico",children:"Mecnico"}),o.jsx("option",{value:"cliente",children:"Cliente"})]})]})})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 text-sm",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:"Nombre"}),o.jsx("th",{className:"p-4",children:"Email"}),o.jsx("th",{className:"p-4",children:"Rol"}),o.jsx("th",{className:"p-4",children:"Acciones"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:O.map(V=>o.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>H(V),children:[o.jsxs("td",{className:"p-4 font-medium",children:[V.nombre,V.sede&&(V.rol==="admin"||V.rol==="vendedor")&&o.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full capitalize",children:V.sede})]}),o.jsx("td",{className:"p-4 text-sm text-gray-600",children:V.email}),o.jsx("td",{className:"p-4 capitalize",children:V.rol}),o.jsxs("td",{className:"p-4 flex gap-2 flex-wrap items-center",onClick:ge=>ge.stopPropagation(),children:[o.jsx(ie,{variante:"fantasma",className:"text-xs py-1 mr-2",onClick:ge=>I(V,ge),children:"Contactar"}),l&&V.rol!=="dueno"&&o.jsx(ie,{variante:"secundario",className:"text-xs py-1",onClick:ge=>we(V,"dueno",ge),children:"Hacer Dueo"}),l&&V.rol!=="admin"&&o.jsx(ie,{variante:"secundario",className:"text-xs py-1",onClick:ge=>we(V,"admin",ge),children:"Hacer Admin"}),V.rol!=="vendedor"&&o.jsx(ie,{variante:"secundario",className:"text-xs py-1",onClick:ge=>we(V,"vendedor",ge),children:"Hacer Vendedor"}),V.rol!=="mecanico"&&o.jsx(ie,{variante:"secundario",className:"text-xs py-1",onClick:ge=>we(V,"mecanico",ge),children:"Hacer Mecnico"}),V.rol!=="cliente"&&V.rol!=="dueno"&&o.jsx(ie,{variante:"fantasma",className:"text-xs py-1",onClick:ge=>we(V,"cliente",ge),children:"Degradar"}),V.rol!=="dueno"&&o.jsx("button",{onClick:ge=>xe(V,ge),className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors ml-2",title:"Eliminar Usuario",children:o.jsx(wa,{size:16})})]})]},V.id))})]})})}),u&&f&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[o.jsxs("h3",{className:"text-xl font-bold mb-4",children:["Contactar a ",f.nombre]}),o.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Rol:"})," ",o.jsx("span",{className:"capitalize",children:f.rol})]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Email:"})," ",f.email]})]}),o.jsxs("form",{onSubmit:F,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensaje"}),o.jsx("textarea",{className:"w-full p-2 border rounded-lg h-32 resize-none",placeholder:"Escribe tu mensaje aqu...",value:y,onChange:V=>x(V.target.value),required:!0})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(ie,{type:"button",variante:"secundario",onClick:()=>d(!1),className:"flex-1",children:"Cancelar"}),o.jsx(ie,{type:"submit",variante:"primario",className:"flex-1",children:"Enviar Mensaje"})]})]})]})}),h&&f&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-lg shadow-2xl",children:[o.jsxs("div",{className:"flex justify-between items-start mb-6",children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Detalles del Usuario"}),o.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx("span",{className:"text-2xl",children:""})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4 pb-4 border-b border-gray-100",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 text-2xl font-bold",children:f.nombre.charAt(0)}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-xl font-semibold",children:f.nombre}),o.jsx("p",{className:"text-gray-500 capitalize",children:f.rol})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500 mb-1",children:"Email"}),o.jsx("p",{className:"font-medium",children:f.email})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500 mb-1",children:"Telfono"}),o.jsx("p",{className:"font-medium",children:f.telefono||"No registrado"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500 mb-1",children:"Nacionalidad"}),o.jsx("p",{className:"font-medium",children:f.nacionalidad||"No registrada"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500 mb-1",children:"Documento"}),o.jsxs("p",{className:"font-medium",children:[f.tipoDocumento," ",f.numeroDocumento]})]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[o.jsx("h5",{className:"font-semibold mb-2 text-gray-700",children:"Estado de Licencia"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${f.licenciaConducir?"bg-green-500":"bg-red-500"}`}),o.jsx("span",{className:"font-medium",children:f.licenciaConducir?"Licencia Vigente":"Sin Licencia Registrada"})]}),!f.licenciaConducir&&(f.rol==="mecanico"||f.rol==="cliente")&&o.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Este usuario no puede operar vehculos motorizados."})]}),o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsx(ie,{variante:"secundario",onClick:()=>p(!1),className:"flex-1",children:"Cerrar"}),o.jsx(ie,{variante:"primario",onClick:()=>{p(!1),x(""),d(!0)},className:"flex-1",children:"Contactar"}),o.jsx(ie,{variante:"fantasma",onClick:oe,className:"flex-1 text-sm",children:"Ver Reporte"})]})]})]})}),S&&R&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md shadow-2xl border-l-4 border-red-500",children:[o.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600",children:o.jsx(Ns,{size:24})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Eliminar Usuario?"}),o.jsxs("p",{className:"text-gray-600 mt-1",children:["Ests a punto de eliminar a ",o.jsx("strong",{children:R.nombre}),"."]})]})]}),T&&o.jsx("div",{className:`p-4 rounded-lg mb-6 ${T.tipo==="critico"?"bg-red-50 text-red-800 border border-red-200":"bg-yellow-50 text-yellow-800 border border-yellow-200"}`,children:o.jsx("p",{className:"text-sm font-medium",children:T.mensaje})}),o.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Esta accin no se puede deshacer. ",T?"Por favor, revisa las advertencias antes de continuar.":""]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(ie,{variante:"secundario",onClick:()=>N(!1),className:"flex-1",children:"Cancelar"}),o.jsx("button",{onClick:pe,className:"flex-1 bg-red-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-red-700 transition-colors",children:"S, Eliminar"})]})]})}),E&&Q&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-sm shadow-2xl",children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:"Asignar Sede"}),o.jsxs("p",{className:"text-gray-600 text-sm mb-4",children:["Para promover a ",o.jsx("strong",{children:Q.nombre})," a ",L,", debes asignarle una sede principal."]}),o.jsxs("div",{className:"space-y-3 mb-6",children:[o.jsxs("label",{className:"flex items-center gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[o.jsx("input",{type:"radio",name:"sede",value:"costa",checked:z==="costa",onChange:V=>D(V.target.value),className:"text-blue-600"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-bold block text-gray-800",children:"Sede Costa"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Operaciones en playa"})]})]}),o.jsxs("label",{className:"flex items-center gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[o.jsx("input",{type:"radio",name:"sede",value:"rural",checked:z==="rural",onChange:V=>D(V.target.value),className:"text-blue-600"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-bold block text-gray-800",children:"Sede Rural"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Operaciones en campo"})]})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(ie,{variante:"secundario",onClick:()=>W(!1),className:"flex-1",children:"Cancelar"}),o.jsx(ie,{variante:"primario",onClick:je,className:"flex-1",children:"Confirmar"})]})]})})]})},Qk=()=>{const{promociones:t,agregarPromocion:e,togglePromocion:r,eliminarPromocion:n,editarPromocion:s}=b.useContext(mh),[i,a]=b.useState(!1),[l,c]=b.useState(!1),[u,d]=b.useState(null),[h,p]=b.useState({nombre:"",descripcion:"",tipo:"regla_tiempo",condicion:{minHoras:3,minCantidad:3,categoria:""},beneficio:{tipo:"porcentaje",valor:10},activo:!0}),f=x=>{x.preventDefault(),l?s(u,h):e(h),g()},g=()=>{a(!1),c(!1),d(null),p({nombre:"",descripcion:"",tipo:"regla_tiempo",condicion:{minHoras:3,minCantidad:3,categoria:""},beneficio:{tipo:"porcentaje",valor:10},activo:!0})},y=x=>{p(x),c(!0),d(x.id),a(!0)};return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mt-8",children:[o.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[o.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(Q0,{size:20,className:"text-blue-600"})," Promociones y Descuentos"]}),o.jsxs(ie,{onClick:()=>a(!0),variante:"primario",children:[o.jsx(Al,{size:18})," Nueva Promocin"]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 text-sm",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:"Nombre"}),o.jsx("th",{className:"p-4",children:"Descripcin"}),o.jsx("th",{className:"p-4",children:"Tipo"}),o.jsx("th",{className:"p-4",children:"Beneficio"}),o.jsx("th",{className:"p-4",children:"Estado"}),o.jsx("th",{className:"p-4",children:"Acciones"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map(x=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"p-4 font-medium",children:x.nombre}),o.jsx("td",{className:"p-4 text-sm text-gray-600",children:x.descripcion}),o.jsx("td",{className:"p-4",children:o.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit ${x.tipo==="regla_tiempo"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"}`,children:[x.tipo==="regla_tiempo"?o.jsx(In,{size:12}):o.jsx(Ll,{size:12}),x.tipo==="regla_tiempo"?"Por Tiempo":"Por Cantidad"]})}),o.jsx("td",{className:"p-4 text-green-600 font-bold",children:x.beneficio.tipo==="porcentaje"?`${x.beneficio.valor}% OFF`:`- S/ ${x.beneficio.valor}`}),o.jsx("td",{className:"p-4",children:o.jsx("button",{onClick:()=>r(x.id),className:`text-2xl ${x.activo?"text-green-500":"text-gray-300"}`,children:x.activo?o.jsx(c_,{}):o.jsx(l_,{})})}),o.jsxs("td",{className:"p-4 flex gap-2",children:[o.jsx("button",{onClick:()=>y(x),className:"text-blue-500 hover:text-blue-700",children:o.jsx(n_,{size:18})}),o.jsx("button",{onClick:()=>n(x.id),className:"text-red-500 hover:text-red-700",children:o.jsx(wa,{size:18})})]})]},x.id))})]})}),o.jsx(Ds,{titulo:l?"Editar Promocin":"Crear Nueva Promocin",abierto:i,alCerrar:g,children:o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsx("input",{required:!0,placeholder:"Nombre de la Promocin",className:"w-full p-2 border rounded",value:h.nombre,onChange:x=>p({...h,nombre:x.target.value})}),o.jsx("input",{required:!0,placeholder:"Descripcin (Visible al cliente)",className:"w-full p-2 border rounded",value:h.descripcion,onChange:x=>p({...h,descripcion:x.target.value})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Tipo de Regla"}),o.jsxs("select",{className:"w-full p-2 border rounded",value:h.tipo,onChange:x=>p({...h,tipo:x.target.value}),children:[o.jsx("option",{value:"regla_tiempo",children:"Por Tiempo (Horas)"}),o.jsx("option",{value:"regla_cantidad",children:"Por Cantidad (Items)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Valor del Descuento (%)"}),o.jsx("input",{required:!0,type:"number",className:"w-full p-2 border rounded",value:h.beneficio.valor,onChange:x=>p({...h,beneficio:{...h.beneficio,valor:Number(x.target.value)}})})]})]}),h.tipo==="regla_tiempo"?o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Mnimo de Horas"}),o.jsx("input",{required:!0,type:"number",className:"w-full p-2 border rounded",value:h.condicion.minHoras,onChange:x=>p({...h,condicion:{...h.condicion,minHoras:Number(x.target.value)}})})]}):o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Cantidad Mnima"}),o.jsx("input",{required:!0,type:"number",className:"w-full p-2 border rounded",value:h.condicion.minCantidad,onChange:x=>p({...h,condicion:{...h.condicion,minCantidad:Number(x.target.value)}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Categora (Opcional)"}),o.jsx("input",{placeholder:"Ej: Motor",className:"w-full p-2 border rounded",value:h.condicion.categoria,onChange:x=>p({...h,condicion:{...h.condicion,categoria:x.target.value}})})]})]}),o.jsx(ie,{type:"submit",className:"w-full",children:"Crear Promocin"})]})})]})},Yk=()=>o.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestin de Promociones"}),o.jsx("p",{className:"text-gray-600",children:"Configura descuentos automticos y reglas de precios."})]}),o.jsx(Qk,{})]}),Gp=()=>{const{inventario:t,registrarAlquiler:e}=b.useContext(_t),{usuario:r}=b.useContext(tt),[n,s]=b.useState([]),[i,a]=b.useState(""),[l,c]=b.useState(""),[u,d]=b.useState(null),[h,p]=b.useState({horas:1,fechaInicio:new Date().toISOString().slice(0,16)}),[f,g]=b.useState("efectivo"),[y,x]=b.useState("boleta"),[v,m]=b.useState({ruc:"",razonSocial:"",direccion:""}),w=E=>{d(E),p({horas:1,fechaInicio:new Date().toISOString().slice(0,16)})},S=()=>{if(!u)return;const E={...u,cantidad:1,horas:Number(h.horas),fechaInicio:new Date(h.fechaInicio)};s(W=>[...W,{...E,idTemp:Date.now()}]),d(null)},N=n.reduce((E,W)=>E+W.precioPorHora*W.horas*W.cantidad,0),R=N*.2,j=N+R,T=()=>{if(n.length===0)return alert("Carrito vaco");if(!i.trim())return alert("Ingrese nombre del cliente");if(y==="factura"&&(!v.ruc||!v.razonSocial))return alert("Por favor complete los datos de facturacin (RUC y Razn Social)");const E={id:crypto.randomUUID(),cliente:i,clienteId:"GUEST-"+Date.now(),vendedorId:r?r.nombre:"POS-LOCAL",items:n,total:N,garantia:R,totalFinal:j,montoPagado:j,saldoPendiente:0,fechaInicio:new Date,tipoReserva:"inmediata",metodoPago:f,tipoComprobante:y,datosFactura:y==="factura"?v:null,estado:"pendiente",penalizacion:0};e(E),s([]),a(""),m({ruc:"",razonSocial:"",direccion:""}),alert(`Venta registrada correctamente.

Atendido por: ${r==null?void 0:r.nombre}
Total Servicio: S/ ${N.toFixed(2)}
Garanta: S/ ${R.toFixed(2)}
Total Cobrado: S/ ${j.toFixed(2)}`)},M=t.filter(E=>E.nombre.toLowerCase().includes(l.toLowerCase())||E.categoria.toLowerCase().includes(l.toLowerCase()));return o.jsxs("div",{className:"grid md:grid-cols-3 gap-6 px-4 sm:px-6 lg:px-8 h-[calc(100vh-100px)]",children:[o.jsxs("div",{className:"md:col-span-2 flex flex-col gap-4 h-full",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Catlogo"}),o.jsxs("div",{className:"relative w-64",children:[o.jsx(Dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),o.jsx("input",{type:"text",placeholder:"Buscar producto...",className:"w-full pl-10 pr-4 py-2 border rounded-lg text-sm",value:l,onChange:E=>c(E.target.value)})]})]}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 overflow-y-auto pr-2",children:M.map(E=>o.jsxs("div",{onClick:()=>E.stock>0&&w(E),className:`bg-white p-3 rounded-lg border cursor-pointer hover:border-blue-500 transition-all ${E.stock===0?"opacity-50 grayscale":"hover:shadow-md"}`,children:[o.jsx("div",{className:"aspect-video bg-gray-100 rounded mb-2 flex items-center justify-center overflow-hidden",children:o.jsx("img",{src:E.imagen,alt:E.nombre,className:"object-cover w-full h-full",onError:W=>W.target.src="https://via.placeholder.com/150"})}),o.jsx("p",{className:"font-bold text-sm truncate",children:E.nombre}),o.jsx("p",{className:"text-xs text-gray-500",children:E.categoria}),o.jsxs("div",{className:"flex justify-between items-center mt-2",children:[o.jsxs("span",{className:"font-bold text-blue-600",children:["S/ ",E.precioPorHora,"/h"]}),o.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full ${E.stock>0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[E.stock," unid."]})]})]},E.id))})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex flex-col h-full",children:[o.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[o.jsx(Ri,{size:20})," Ticket de Venta"]}),o.jsxs("div",{className:"space-y-3 mb-4 flex-shrink-0",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{placeholder:"Nombre del Cliente",className:"w-full p-2 border rounded text-sm",value:i,onChange:E=>a(E.target.value)}),o.jsx(ie,{variante:"secundario",className:"!px-2",onClick:()=>{const E=prompt("Nombre:");E&&a(E)},children:o.jsx(f_,{size:18})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("select",{className:"w-full p-2 border rounded text-sm",value:f,onChange:E=>g(E.target.value),children:[o.jsx("option",{value:"efectivo",children:"Efectivo"}),o.jsx("option",{value:"tarjeta",children:"Tarjeta"}),o.jsx("option",{value:"yape",children:"Yape/Plin"}),o.jsx("option",{value:"transferencia",children:"Transferencia"})]}),o.jsxs("div",{className:"flex gap-2 items-center justify-center border rounded bg-gray-50 px-2",children:[o.jsxs("label",{className:"flex items-center gap-1 text-xs cursor-pointer mr-2",children:[o.jsx("input",{type:"radio",name:"posComprobante",value:"boleta",checked:y==="boleta",onChange:()=>x("boleta")})," Boleta"]}),o.jsxs("label",{className:"flex items-center gap-1 text-xs cursor-pointer",children:[o.jsx("input",{type:"radio",name:"posComprobante",value:"factura",checked:y==="factura",onChange:()=>x("factura")})," Factura"]})]})]}),y==="factura"&&o.jsxs("div",{className:"space-y-2 bg-gray-50 p-2 rounded animate-fadeIn",children:[o.jsx("input",{placeholder:"RUC",className:"w-full p-1 border rounded text-xs",value:v.ruc,onChange:E=>m({...v,ruc:E.target.value})}),o.jsx("input",{placeholder:"Razn Social",className:"w-full p-1 border rounded text-xs",value:v.razonSocial,onChange:E=>m({...v,razonSocial:E.target.value})})]})]}),o.jsx("div",{className:"flex-grow overflow-y-auto border-t border-b py-2 space-y-2",children:n.length===0?o.jsx("p",{className:"text-center text-gray-400 text-sm py-4",children:"Carrito vaco"}):n.map(E=>o.jsxs("div",{className:"flex justify-between text-sm pb-2 border-b border-dashed last:border-0",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:E.nombre}),o.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[o.jsx(In,{size:10})," ",E.horas,"h x S/ ",E.precioPorHora]}),o.jsxs("p",{className:"text-xs text-gray-400",children:["Inicio: ",new Date(E.fechaInicio).toLocaleString()]})]}),o.jsxs("div",{className:"text-right flex flex-col items-end justify-between",children:[o.jsxs("p",{className:"font-bold",children:["S/ ",(E.precioPorHora*E.horas*E.cantidad).toFixed(2)]}),o.jsxs("button",{onClick:()=>s(W=>W.filter(Q=>Q.idTemp!==E.idTemp)),className:"text-red-500 hover:text-red-700 text-xs flex items-center gap-1",children:[o.jsx(Il,{size:12})," Quitar"]})]})]},E.idTemp))}),o.jsxs("div",{className:"flex-shrink-0 pt-4 space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[o.jsx("span",{className:"",children:"Subtotal"}),o.jsxs("span",{children:["S/ ",N.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between items-center text-sm text-green-600",children:[o.jsx("span",{className:"",children:"Garanta (20%)"}),o.jsxs("span",{children:["S/ ",R.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between items-center border-t pt-2 mt-2",children:[o.jsx("span",{className:"font-bold text-lg",children:"Total a Cobrar"}),o.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["S/ ",j.toFixed(2)]})]}),o.jsxs(ie,{className:"w-full mt-4 py-3 text-lg",onClick:T,disabled:n.length===0,children:["Cobrar S/ ",j.toFixed(2)]})]})]}),o.jsx(Ds,{titulo:`Agregar ${(u==null?void 0:u.nombre)||""}`,abierto:!!u,alCerrar:()=>d(null),children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha y Hora de Inicio"}),o.jsx("input",{type:"datetime-local",className:"w-full p-2 border rounded-lg",value:h.fechaInicio,onChange:E=>p({...h,fechaInicio:E.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duracin (Horas)"}),o.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded-lg",value:h.horas,onChange:E=>p({...h,horas:E.target.value})})]}),o.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[o.jsxs("p",{className:"text-sm text-blue-800 flex justify-between",children:[o.jsx("span",{children:"Precio por hora:"}),o.jsxs("span",{className:"font-bold",children:["S/ ",u==null?void 0:u.precioPorHora]})]}),o.jsxs("p",{className:"text-sm text-blue-800 flex justify-between mt-1",children:[o.jsx("span",{children:"Total Estimado:"}),o.jsxs("span",{className:"font-bold",children:["S/ ",((u==null?void 0:u.precioPorHora)*h.horas).toFixed(2)]})]})]}),o.jsx(ie,{className:"w-full",onClick:S,children:"Agregar al Ticket"})]})})]})},Xk=()=>{const{alquileres:t,entregarAlquiler:e,devolverAlquiler:r}=b.useContext(_t),n=t.filter(i=>i.estado==="listo_para_entrega"),s=t.filter(i=>i.estado==="en_uso");return o.jsxs("div",{className:"space-y-8 px-4 sm:px-6 lg:px-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard Vendedor"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(d_,{className:"text-blue-600"})," Entregas (Ya Revisadas)"]}),o.jsx("div",{className:"grid gap-4",children:n.length===0?o.jsx("p",{className:"text-gray-500",children:"No hay entregas listas."}):n.map(i=>o.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-gray-900",children:i.cliente}),o.jsxs("p",{className:"text-sm text-gray-600",children:[i.items.length," items"]})]}),o.jsx(ie,{variante:"primario",onClick:()=>e(i.id),children:"Entregar Cliente"})]},i.id))})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(K1,{className:"text-green-600"})," Recepcionar Devoluciones"]}),o.jsx("div",{className:"grid gap-4",children:s.length===0?o.jsx("p",{className:"text-gray-500",children:"No hay equipos fuera."}):s.map(i=>o.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-gray-900",children:i.cliente}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Entrega: ",ua(i.fechaEntrega)]})]}),o.jsx(ie,{variante:"secundario",onClick:()=>r(i.id),children:"Recibir y Enviar a Taller"})]},i.id))})]})]})]})},Zk=()=>{const{alquileres:t,aprobarParaEntrega:e,enviarAMantenimiento:r,finalizarMantenimiento:n,marcarFueraDeServicio:s}=b.useContext(_t),i=t.filter(c=>c.estado==="pendiente"),a=t.filter(c=>c.estado==="limpieza"),l=t.filter(c=>c.estado==="en_mantenimiento");return o.jsxs("div",{className:"space-y-8 px-4 sm:px-6 lg:px-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Taller Mecnico"}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(q1,{className:"text-blue-600"})," 1. Revisiones Pre-Entrega"]}),o.jsx("div",{className:"grid gap-4",children:i.length===0?o.jsx("p",{className:"text-gray-500",children:"Todo revisado."}):i.map(c=>o.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-gray-900",children:c.cliente}),o.jsxs("p",{className:"text-sm text-gray-600",children:[c.items.length," items"]})]}),o.jsx(ie,{variante:"primario",onClick:()=>e(c.id),children:"Aprobar"})]},c.id))})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(i_,{className:"text-cyan-600"})," 2. Limpieza y Triaje Post-Devolucin"]}),o.jsx("div",{className:"grid gap-4",children:a.length===0?o.jsx("p",{className:"text-gray-500",children:"Sin equipos en limpieza."}):a.map(c=>o.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-gray-900",children:c.cliente}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Devuelto: ",ua(c.fechaDevolucionReal)]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ie,{variante:"exito",onClick:()=>n(c.id),children:"Todo OK (Habilitar)"}),o.jsx(ie,{variante:"secundario",onClick:()=>r(c.id),children:"Requiere Mantenimiento"})]})]},c.id))})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(Oi,{className:"text-orange-600"})," 3. Mantenimiento Mayor"]}),o.jsx("div",{className:"grid gap-4",children:l.length===0?o.jsx("p",{className:"text-gray-500",children:"Sin equipos en reparacin."}):l.map(c=>o.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-gray-900",children:c.cliente}),o.jsxs("p",{className:"text-sm text-gray-600",children:["En taller desde: ",ua(c.fechaDevolucionReal)]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ie,{variante:"exito",onClick:()=>n(c.id),children:"Reparado (Habilitar)"}),o.jsx(ie,{variante:"peligro",onClick:()=>s(c.id),children:"Dar de Baja"})]})]},c.id))})]})]})},eE=()=>{const{slug:t}=D0(),[e,r]=b.useState(null),[n,s]=b.useState(!0);return b.useEffect(()=>{(async()=>{s(!0);const a=await Ey(t);r(a),s(!1)})()},[t]),n?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsx("div",{className:"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"})}):e?o.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:o.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-8 md:p-12",children:o.jsx("div",{className:"prose prose-blue max-w-none text-gray-600",dangerouslySetInnerHTML:{__html:e.contenido}})})})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Pgina no encontrada"}),o.jsx("p",{className:"text-gray-500",children:"Lo sentimos, no pudimos encontrar el documento solicitado."})]})})},tE=()=>{const[t,e]=b.useState([]),[r,n]=b.useState(!0),[s,i]=b.useState(null);b.useEffect(()=>{(async()=>{n(!0);const c=await Cy();e(c||[]),n(!1)})()},[]);const a=l=>{i(s===l?null:l)};return r?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsx("div",{className:"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"})}):o.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-blue-100 rounded-full mb-4",children:o.jsx(Y1,{size:32,className:"text-blue-600"})}),o.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Centro de Ayuda"}),o.jsx("p",{className:"mt-4 text-lg text-gray-500",children:"Encuentra respuestas a las preguntas ms frecuentes sobre nuestros servicios."})]}),o.jsxs("div",{className:"space-y-4",children:[t.map(l=>o.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-100 transition-all duration-200 hover:shadow-md",children:[o.jsxs("button",{onClick:()=>a(l.id),className:"w-full px-6 py-4 flex items-center justify-between text-left focus:outline-none bg-white hover:bg-gray-50",children:[o.jsx("span",{className:"font-medium text-gray-900",children:l.pregunta}),s===l.id?o.jsx(W1,{size:20,className:"text-blue-500"}):o.jsx(W0,{size:20,className:"text-gray-400"})]}),s===l.id&&o.jsx("div",{className:"px-6 pb-4 bg-gray-50 border-t border-gray-100",children:o.jsx("p",{className:"text-gray-600 mt-2",children:l.respuesta})})]},l.id)),t.length===0&&o.jsx("div",{className:"text-center py-12 text-gray-500 bg-white rounded-lg border border-dashed",children:"No hay preguntas frecuentes disponibles en este momento."})]}),o.jsxs("div",{className:"mt-12 text-center bg-blue-600 rounded-2xl p-8 shadow-xl text-white",children:[o.jsx("h3",{className:"text-xl font-bold mb-2",children:"No encontraste lo que buscabas?"}),o.jsx("p",{className:"mb-6 text-blue-100",children:"Si necesitas asistencia personalizada, nuestro equipo de soporte est listo para ayudarte."}),o.jsx("a",{href:"mailto:soporte@alquileresperuanos.pe",className:"inline-block bg-white text-blue-600 font-bold py-3 px-8 rounded-lg hover:bg-blue-50 transition-colors",children:"Contactar Soporte"})]})]})})},mr=({children:t,rolesPermitidos:e=[]})=>{const{usuario:r}=b.useContext(tt);return r?e.length>0&&!e.includes(r.rol)?o.jsx(Pi,{to:"/",replace:!0}):t:o.jsx(Pi,{to:"/",replace:!0})},rE=()=>P1([{path:"/",element:o.jsx(Uk,{}),children:[{index:!0,element:o.jsx(Vk,{})},{path:"producto/:id",element:o.jsx(qk,{})},{path:"perfil",element:o.jsx(mr,{rolesPermitidos:["cliente","vendedor","admin","dueno","mecanico"],children:o.jsx(Wk,{})})},{path:"soporte",element:o.jsx(mr,{rolesPermitidos:["cliente"],children:o.jsx(Kk,{})})},{path:"mis-gastos",element:o.jsx(mr,{rolesPermitidos:["cliente"],children:o.jsx(lo,{rol:"cliente"})})},{path:"bandeja-entrada",element:o.jsx(mr,{rolesPermitidos:["cliente","vendedor","admin","dueno","mecanico"],children:o.jsx(ol,{})})},{path:"ayuda",element:o.jsx(tE,{})},{path:"legal/:slug",element:o.jsx(eE,{})}]},{path:"/admin",element:o.jsx(mr,{rolesPermitidos:["admin","dueno"],children:o.jsx(Ac,{})}),children:[{index:!0,element:o.jsx(Pi,{to:"/admin/inventario",replace:!0})},{path:"inventario",element:o.jsx(Gk,{})},{path:"reservas",element:o.jsx(mr,{rolesPermitidos:["admin","vendedor"],children:o.jsx(Kp,{})})},{path:"usuarios",element:o.jsx(Jk,{})},{path:"promociones",element:o.jsx(Yk,{})},{path:"mensajes",element:o.jsx(ol,{})},{path:"reportes",element:o.jsx(lo,{})},{path:"punto-venta",element:o.jsx(mr,{rolesPermitidos:["admin"],children:o.jsx(Gp,{})})}]},{path:"/vendedor",element:o.jsx(mr,{rolesPermitidos:["vendedor"],children:o.jsx(Ac,{})}),children:[{index:!0,element:o.jsx(Pi,{to:"/vendedor/operaciones",replace:!0})},{path:"operaciones",element:o.jsx(Xk,{})},{path:"punto-venta",element:o.jsx(Gp,{})},{path:"reportes",element:o.jsx(lo,{rol:"vendedor"})},{path:"reservas",element:o.jsx(Kp,{})}]},{path:"/mecanico",element:o.jsx(mr,{rolesPermitidos:["mecanico"],children:o.jsx(Ac,{})}),children:[{index:!0,element:o.jsx(Zk,{})},{path:"reportes",element:o.jsx(lo,{rol:"mecanico"})}]},{path:"*",element:o.jsx(Pi,{to:"/",replace:!0})}]);function nE(){return o.jsx(zN,{children:o.jsx(UN,{children:o.jsx(FN,{children:o.jsx(BN,{children:o.jsx(VN,{children:o.jsx(HN,{children:o.jsx(sE,{})})})})})})})}function sE(){const{usuario:t,iniciarSesion:e,registrarUsuario:r,cargando:n}=b.useContext(tt),{carrito:s,removerDelCarrito:i,esVisible:a,setEsVisible:l,total:c,limpiarCarrito:u}=b.useContext(Ml),{registrarAlquiler:d,verificarDisponibilidad:h}=b.useContext(_t),{calcularDescuentos:p}=b.useContext(mh),{mostrarLogin:f,setMostrarLogin:g,modoRegistro:y,setModoRegistro:x}=zl(),{sedeActual:v,setSedeActual:m}=b.useContext(_t);ui.useEffect(()=>{t&&(t.rol==="admin"||t.rol==="vendedor")&&t.sede&&v!==t.sede&&m(t.sede)},[t,m,v]);const[w,S]=b.useState("cliente@demo.com"),[N,R]=b.useState("123"),[j,T]=b.useState(""),[M,E]=b.useState(""),[W,Q]=b.useState(""),[G,L]=b.useState(""),[A,z]=b.useState(""),[D,O]=b.useState(""),[I,H]=b.useState(!1),[F,oe]=b.useState(new Date().toISOString().split("T")[0]),[xe,pe]=b.useState(new Date().toTimeString().split(" ")[0].slice(0,5)),[we,je]=b.useState("inmediata"),[V,ge]=b.useState("transferencia"),[He,sr]=b.useState("boleta"),[C,ue]=b.useState({ruc:"",razonSocial:"",direccion:""}),[rt,Ie]=b.useState(!1),[mt,Ws]=b.useState(!1),[ja,Bn]=b.useState(0),[_a,Ks]=b.useState([]),[Sa,Gs]=b.useState([]),[It,on]=b.useState(null);ui.useEffect(()=>{mt&&!It&&As(async()=>{const{obtenerPagina:q}=await Promise.resolve().then(()=>ca);return{obtenerPagina:q}},void 0).then(({obtenerPagina:q})=>{q("terminos").then(ze=>{on((ze==null?void 0:ze.contenido)||"<p>No se pudieron cargar los trminos.</p>")})})},[mt,It]),ui.useEffect(()=>{s.length>0?p(s).then(({descuentoTotal:q,promocionesAplicadas:ze,alertas:vt})=>{Bn(q||0),Ks(ze||[]),Gs(vt||[])}).catch(q=>{console.error("Error al calcular descuentos:",q),Bn(0),Ks([]),Gs([])}):(Bn(0),Ks([]),Gs([]))},[s]);const Hn=c-ja,Vn=Hn*.2,gt=Hn+Vn;ui.useEffect(()=>{const q=new Date().toISOString().split("T")[0];je(F!==q?"anticipada":"inmediata")},[F]);const Wt=rE(),Na=q=>{q.preventDefault(),e(w,N)?(g(!1),T("")):T("Credenciales invlidas")},Bl=()=>{if(!t)return{valido:!1,mensaje:"Debes iniciar sesin."};if(!t.numeroDocumento||!t.fechaNacimiento)return{valido:!1,mensaje:"Por favor completa tu perfil (DNI y Fecha Nacimiento) antes de alquilar."};const q=new Date,ze=new Date(t.fechaNacimiento);let vt=q.getFullYear()-ze.getFullYear();const pr=q.getMonth()-ze.getMonth();if((pr<0||pr===0&&q.getDate()<ze.getDate())&&vt--,s.some(qn=>qn.categoria==="Motor")){if(vt<18)return{valido:!1,mensaje:"Debes ser mayor de 18 aos para alquilar vehculos motorizados."};if(!t.licenciaConducir)return{valido:!1,mensaje:"Se requiere licencia de conducir vigente para vehculos motorizados."}}return{valido:!0}},Js=()=>{if(!t){g(!0),l(!1);return}const q=Bl();if(!q.valido){alert(q.mensaje),l(!1);return}if(!rt){alert("Debes aceptar los trminos y condiciones del contrato.");return}if(He==="factura"&&(!C.ruc||!C.razonSocial)){alert("Por favor completa los datos de facturacin.");return}const ze=new Date(`${F}T${xe}`);h(s,ze).then(vt=>{if(!vt.valido){alert(vt.mensaje);return}const pr={clienteId:t.id,vendedorId:"WEB",sedeId:v,items:s,fechaInicio:ze,tipoReserva:we,metodoPago:V,tipoComprobante:He,datosFactura:He==="factura"?C:null};d(pr).then(Cr=>{Cr&&(u(),l(!1),Ie(!1),alert(`Reserva Exitosa!

Tu reserva ha sido registrada correctamente en el sistema.
Puedes ver los detalles y el contrato en tu perfil.`))})})},ka=q=>{if(!q)return 0;const ze=new Date,vt=new Date(q);let pr=ze.getFullYear()-vt.getFullYear();const Cr=ze.getMonth()-vt.getMonth();return(Cr<0||Cr===0&&ze.getDate()<vt.getDate())&&pr--,pr},St=ka(D)<18;return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),o.jsx("p",{className:"text-gray-500 font-medium animate-pulse",children:"Cargando Verano..."})]})}):o.jsxs(o.Fragment,{children:[o.jsx(U1,{router:Wt}),o.jsx(Ds,{titulo:"Tu Carrito de Compras",abierto:a,alCerrar:()=>l(!1),children:s.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(tl,{size:48,className:"mx-auto mb-4 opacity-20"}),o.jsx("p",{children:"Tu carrito est vaco."}),o.jsx(ie,{variante:"fantasma",onClick:()=>l(!1),className:"mt-4",children:"Seguir Navegando"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-4 mb-6 max-h-[60vh] overflow-y-auto pr-2",children:[s.map(q=>o.jsxs("div",{className:"flex gap-4 items-center bg-gray-50 p-3 rounded-lg",children:[o.jsx("img",{src:q.imagen,alt:q.nombre,className:"w-16 h-16 object-cover rounded-md"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-gray-900",children:q.nombre}),o.jsxs("p",{className:"text-sm text-gray-500",children:[q.horas,"h x S/ ",q.precioPorHora]}),q.categoria==="Motor"&&o.jsxs("span",{className:"text-xs text-orange-600 font-bold flex items-center gap-1",children:[o.jsx(Ns,{size:10})," Requiere Licencia"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"font-bold text-gray-900",children:["S/ ",q.precioPorHora*q.horas*q.cantidad]}),o.jsx("button",{onClick:()=>i(q.id),className:"text-red-500 text-xs hover:underline mt-1",children:"Eliminar"})]})]},q.id)),o.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 space-y-4",children:[o.jsx("h4",{className:"font-bold text-gray-800 border-b pb-2",children:"Detalles de Reserva"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Fecha Inicio"}),o.jsx("input",{type:"date",className:"w-full p-2 border rounded text-sm",value:F,onChange:q=>oe(q.target.value),min:new Date().toISOString().split("T")[0]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Hora Inicio"}),o.jsx("input",{type:"time",className:"w-full p-2 border rounded text-sm",value:xe,onChange:q=>pe(q.target.value)})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Tipo de Reserva"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:`flex items-center gap-2 text-sm ${F!==new Date().toISOString().split("T")[0]?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[o.jsx("input",{type:"radio",name:"tipoReserva",value:"inmediata",checked:we==="inmediata",onChange:()=>je("inmediata"),disabled:F!==new Date().toISOString().split("T")[0]}),"Inmediata (100%)"]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"radio",name:"tipoReserva",value:"anticipada",checked:we==="anticipada",onChange:()=>je("anticipada")}),"Anticipada (60%)"]})]}),F!==new Date().toISOString().split("T")[0]&&o.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Reservas para fechas futuras son automticamente anticipadas."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Mtodo de Pago"}),o.jsxs("select",{className:"w-full p-2 border rounded text-sm",value:V,onChange:q=>ge(q.target.value),children:[o.jsx("option",{value:"transferencia",children:"Transferencia Bancaria"}),o.jsx("option",{value:"yape",children:"Yape / Plin"}),o.jsx("option",{value:"tarjeta",children:"Tarjeta de Crdito/Dbito"}),o.jsx("option",{value:"efectivo",children:"Efectivo (En tienda)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Comprobante"}),o.jsxs("div",{className:"flex gap-4 mb-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"radio",name:"tipoComprobante",value:"boleta",checked:He==="boleta",onChange:()=>sr("boleta")}),"Boleta"]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"radio",name:"tipoComprobante",value:"factura",checked:He==="factura",onChange:()=>sr("factura")}),"Factura"]})]}),He==="factura"&&o.jsxs("div",{className:"grid grid-cols-1 gap-2 bg-gray-50 p-2 rounded",children:[o.jsx("input",{placeholder:"RUC",className:"w-full p-2 border rounded text-sm",value:C.ruc,onChange:q=>ue({...C,ruc:q.target.value})}),o.jsx("input",{placeholder:"Razn Social",className:"w-full p-2 border rounded text-sm",value:C.razonSocial,onChange:q=>ue({...C,razonSocial:q.target.value})}),o.jsx("input",{placeholder:"Direccin Fiscal",className:"w-full p-2 border rounded text-sm",value:C.direccion,onChange:q=>ue({...C,direccion:q.target.value})})]})]})]})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-4 border border-blue-100",children:[o.jsxs("h4",{className:"font-bold text-blue-800 flex items-center gap-2 mb-2",children:[o.jsx(Sn,{size:18})," Contrato Digital"]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("input",{type:"checkbox",id:"terminos",className:"mt-1 w-4 h-4 text-blue-600 rounded focus:ring-blue-500",checked:rt,onChange:q=>Ie(q.target.checked)}),o.jsxs("label",{htmlFor:"terminos",className:"text-sm text-gray-700 cursor-pointer",children:["He ledo y acepto los ",o.jsx("button",{type:"button",onClick:()=>Ws(!0),className:"text-blue-600 underline font-bold hover:text-blue-800",children:"Trminos y Condiciones"}),", incluyendo la responsabilidad por daos y el depsito de garanta reembolsable."]})]})]}),o.jsxs("div",{className:"border-t pt-4 space-y-3",children:[Sa.length>0&&o.jsx("div",{className:"bg-yellow-50 p-2 rounded border border-yellow-200 mb-2",children:Sa.map((q,ze)=>o.jsxs("p",{className:"text-xs text-yellow-800 flex items-center gap-1",children:[o.jsx(Ll,{size:12})," ",q]},ze))}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600",children:"Subtotal"}),o.jsxs("span",{className:"font-medium text-gray-900",children:["S/ ",c.toFixed(2)]})]}),_a.length>0&&o.jsxs("div",{className:"flex justify-between items-center text-green-600",children:[o.jsxs("span",{className:"text-sm flex items-center gap-1",children:[o.jsx(Pn,{size:12})," Descuentos (",_a.length,")"]}),o.jsxs("span",{className:"font-medium",children:["- S/ ",ja.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between items-center text-gray-800 font-medium border-t border-gray-100 pt-1",children:[o.jsx("span",{className:"text-sm",children:"Total Servicio"}),o.jsxs("span",{children:["S/ ",Hn.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between items-center text-green-700",children:[o.jsx("span",{className:"text-sm",children:"Garanta (20% Reembolsable)"}),o.jsxs("span",{className:"font-medium",children:["S/ ",Vn.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between items-center border-t border-dashed pt-2",children:[o.jsx("span",{className:"font-bold text-gray-900",children:"Total a Pagar"}),o.jsxs("div",{className:"text-right",children:[o.jsxs("span",{className:"block text-xl font-bold text-blue-600",children:["S/ ",gt.toFixed(2)]}),o.jsxs("span",{className:"block text-xs text-gray-500",children:["approx. $ ",(gt/3.8).toFixed(2)]})]})]}),we==="anticipada"&&o.jsxs("div",{className:"bg-orange-50 p-2 rounded text-sm space-y-1 mt-2",children:[o.jsxs("div",{className:"flex justify-between items-center text-blue-800",children:[o.jsx("span",{className:"font-medium",children:"Adelanto a Pagar (60%)"}),o.jsxs("span",{className:"font-bold",children:["S/ ",(gt*.6).toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between items-center text-orange-800",children:[o.jsx("span",{className:"font-medium",children:"Saldo Pendiente (40%)"}),o.jsxs("span",{className:"font-bold",children:["S/ ",(gt*.4).toFixed(2)]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[o.jsx(ie,{variante:"secundario",onClick:()=>l(!1),children:"Seguir Comprando"}),o.jsx(ie,{variante:"primario",onClick:Js,disabled:!rt,children:we==="anticipada"?"Pagar Adelanto":"Pagar Total"})]})]})]})}),mt&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full p-6 shadow-2xl transform transition-all scale-100",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Trminos y Condiciones"}),o.jsx("button",{onClick:()=>Ws(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Il,{size:24})})]}),o.jsx("div",{className:"space-y-4 text-sm text-gray-700 max-h-[60vh] overflow-y-auto p-2",children:It?o.jsx("div",{dangerouslySetInnerHTML:{__html:It}}):o.jsx("div",{className:"animate-pulse",children:"Cargando trminos..."})}),o.jsx("div",{className:"mt-6 flex justify-end gap-3 pt-4 border-t",children:o.jsx("button",{onClick:()=>Ws(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"Cerrar"})})]})}),o.jsx(Ds,{titulo:y?"Crear Cuenta":"Bienvenido",abierto:f,alCerrar:()=>g(!1),children:y?o.jsxs("form",{onSubmit:q=>{q.preventDefault(),r({nombre:M,email:W,password:G,numeroDocumento:A,fechaNacimiento:D,licenciaConducir:I,tipoDocumento:"DNI",nacionalidad:"Nacional"}),g(!1),x(!1),alert("Cuenta creada exitosamente. Bienvenido!")},className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre Completo"}),o.jsx("input",{required:!0,className:"w-full p-2 border rounded",value:M,onChange:q=>E(q.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),o.jsx("input",{required:!0,type:"email",className:"w-full p-2 border rounded",value:W,onChange:q=>Q(q.target.value)})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"DNI / Documento"}),o.jsx("input",{required:!0,className:"w-full p-2 border rounded",value:A,onChange:q=>z(q.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha Nacimiento"}),o.jsx("input",{required:!0,type:"date",className:"w-full p-2 border rounded",value:D,onChange:q=>{O(q.target.value),ka(q.target.value)<18&&H(!1)}})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),o.jsx("input",{required:!0,type:"password",className:"w-full p-2 border rounded",value:G,onChange:q=>L(q.target.value)})]}),o.jsxs("div",{className:`flex items-center gap-2 p-2 rounded border ${St?"bg-gray-100 opacity-50":"bg-gray-50"}`,children:[o.jsx("input",{type:"checkbox",id:"regLicencia",checked:I,onChange:q=>H(q.target.checked),disabled:St}),o.jsxs("label",{htmlFor:"regLicencia",className:"text-sm text-gray-700",children:["Tengo Licencia de Conducir ",St&&"(Solo mayores de 18)"]})]}),o.jsx(ie,{variante:"primario",className:"w-full py-3",type:"submit",children:"Registrarse"}),o.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Ya tienes cuenta? ",o.jsx("button",{type:"button",onClick:()=>x(!1),className:"text-blue-600 font-bold",children:"Inicia Sesin"})]})]}):o.jsxs("form",{onSubmit:Na,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),o.jsx("input",{type:"email",className:"w-full px-4 py-2 rounded-lg border border-gray-300",value:w,onChange:q=>S(q.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),o.jsx("input",{type:"password",className:"w-full px-4 py-2 rounded-lg border border-gray-300",value:N,onChange:q=>R(q.target.value)})]}),j&&o.jsxs("div",{className:"text-red-500 text-sm bg-red-50 p-2 rounded flex items-center gap-2",children:[o.jsx(Ns,{size:16}),j]}),o.jsx(ie,{variante:"primario",className:"w-full py-3",type:"submit",children:"Ingresar"}),o.jsxs("p",{className:"text-center text-sm text-gray-600",children:["No tienes cuenta? ",o.jsx("button",{type:"button",onClick:()=>x(!0),className:"text-blue-600 font-bold",children:"Regstrate"})]}),o.jsxs("div",{className:"mt-4 text-xs text-gray-500 bg-gray-100 p-3 rounded",children:[o.jsx("p",{className:"font-bold mb-1",children:"Cuentas de prueba:"}),o.jsx("p",{children:"Cliente: cliente@demo.com / 123"}),o.jsx("p",{children:"Vendedor: vendedor@demo.com / 123"}),o.jsx("p",{children:"Admin: admin@demo.com / 123"}),o.jsx("p",{children:"Dueo: dueno@demo.com / 123"}),o.jsx("p",{children:"Mecnico: mecanico@demo.com / 123"})]})]})})]})}const{slice:iE,forEach:aE}=[];function oE(t){return aE.call(iE.call(arguments,1),e=>{if(e)for(const r in e)t[r]===void 0&&(t[r]=e[r])}),t}function lE(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(t))}const Jp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,cE=function(t,e){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(e);let i=`${t}=${s}`;if(n.maxAge>0){const a=n.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(a)}`}if(n.domain){if(!Jp.test(n.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${n.domain}`}if(n.path){if(!Jp.test(n.path))throw new TypeError("option path is invalid");i+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(i+="; Partitioned"),i},Qp={create(t,e,r,n){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+r*60*1e3)),n&&(s.domain=n),document.cookie=cE(t,e,s)},read(t){const e=`${t}=`,r=document.cookie.split(";");for(let n=0;n<r.length;n++){let s=r[n];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(e)===0)return s.substring(e.length,s.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var uE={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return Qp.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:r,cookieMinutes:n,cookieDomain:s,cookieOptions:i}=e;r&&typeof document<"u"&&Qp.create(r,t,n,s,i)}},dE={name:"querystring",lookup(t){var n;let{lookupQuerystring:e}=t,r;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&((n=window.location.hash)==null?void 0:n.indexOf("?"))>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const a=s.substring(1).split("&");for(let l=0;l<a.length;l++){const c=a[l].indexOf("=");c>0&&a[l].substring(0,c)===e&&(r=a[l].substring(c+1))}}return r}},hE={name:"hash",lookup(t){var s;let{lookupHash:e,lookupFromHashIndex:r}=t,n;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const a=i.substring(1);if(e){const l=a.split("&");for(let c=0;c<l.length;c++){const u=l[c].indexOf("=");u>0&&l[c].substring(0,u)===e&&(n=l[c].substring(u+1))}}if(n)return n;if(!n&&r>-1){const l=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?(s=l[typeof r=="number"?r:0])==null?void 0:s.replace("/",""):void 0}}}return n}};let es=null;const Yp=()=>{if(es!==null)return es;try{if(es=typeof window<"u"&&window.localStorage!==null,!es)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{es=!1}return es};var fE={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&Yp())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:r}=e;r&&Yp()&&window.localStorage.setItem(r,t)}};let ts=null;const Xp=()=>{if(ts!==null)return ts;try{if(ts=typeof window<"u"&&window.sessionStorage!==null,!ts)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{ts=!1}return ts};var pE={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&Xp())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:r}=e;r&&Xp()&&window.sessionStorage.setItem(r,t)}},mE={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:r,userLanguage:n,language:s}=navigator;if(r)for(let i=0;i<r.length;i++)e.push(r[i]);n&&e.push(n),s&&e.push(s)}return e.length>0?e:void 0}},gE={name:"htmlTag",lookup(t){let{htmlTag:e}=t,r;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},vE={name:"path",lookup(t){var s;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?(s=r[typeof e=="number"?e:0])==null?void 0:s.replace("/",""):void 0}},yE={name:"subdomain",lookup(t){var s,i;let{lookupFromSubdomainIndex:e}=t;const r=typeof e=="number"?e+1:1,n=typeof window<"u"&&((i=(s=window.location)==null?void 0:s.hostname)==null?void 0:i.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(n)return n[r]}};let My=!1;try{document.cookie,My=!0}catch{}const zy=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];My||zy.splice(1,1);const xE=()=>({order:zy,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class Uy{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,r)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=oE(r,this.options||{},xE()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(uE),this.addDetector(dE),this.addDetector(fE),this.addDetector(pE),this.addDetector(mE),this.addDetector(gE),this.addDetector(vE),this.addDetector(yE),this.addDetector(hE)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return e.forEach(n=>{if(this.detectors[n]){let s=this.detectors[n].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(r=r.concat(s))}}),r=r.filter(n=>n!=null&&!lE(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||r.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}Uy.type="languageDetector";function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function Fy(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":ed(XMLHttpRequest))==="object"}function wE(t){return!!t&&typeof t.then=="function"}function bE(t){return wE(t)?t:Promise.resolve(t)}function Zp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function em(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zp(Object(r),!0).forEach(function(n){jE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zp(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jE(t,e,r){return(e=_E(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _E(t){var e=SE(t,"string");return Mn(e)=="symbol"?e:e+""}function SE(t,e){if(Mn(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mn(t){"@babel/helpers - typeof";return Mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mn(t)}var Xr=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?Xr=global.fetch:typeof window<"u"&&window.fetch&&(Xr=window.fetch);var ha;Fy()&&(typeof global<"u"&&global.XMLHttpRequest?ha=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(ha=window.XMLHttpRequest));var dl;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?dl=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(dl=window.ActiveXObject));typeof Xr!="function"&&(Xr=void 0);if(!Xr&&!ha&&!dl)try{As(()=>import("./browser-ponyfill-Dm5hh8Ys.js").then(t=>t.b),[]).then(function(t){Xr=t.default}).catch(function(){})}catch{}var td=function(e,r){if(r&&Mn(r)==="object"){var n="";for(var s in r)n+="&"+encodeURIComponent(s)+"="+encodeURIComponent(r[s]);if(!n)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+n.slice(1)}return e},tm=function(e,r,n,s){var i=function(c){if(!c.ok)return n(c.statusText||"Error",{status:c.status});c.text().then(function(u){n(null,{status:c.status,data:u})}).catch(n)};if(s){var a=s(e,r);if(a instanceof Promise){a.then(i).catch(n);return}}typeof fetch=="function"?fetch(e,r).then(i).catch(n):Xr(e,r).then(i).catch(n)},rm=!1,NE=function(e,r,n,s){e.queryStringParams&&(r=td(r,e.queryStringParams));var i=em({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(i["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),n&&(i["Content-Type"]="application/json");var a=typeof e.requestOptions=="function"?e.requestOptions(n):e.requestOptions,l=em({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:i},rm?{}:a),c=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{tm(r,l,s,c)}catch(u){if(!a||Object.keys(a).length===0||!u.message||u.message.indexOf("not implemented")<0)return s(u);try{Object.keys(a).forEach(function(d){delete l[d]}),tm(r,l,s,c),rm=!0}catch(d){s(d)}}},kE=function(e,r,n,s){n&&Mn(n)==="object"&&(n=td("",n).slice(1)),e.queryStringParams&&(r=td(r,e.queryStringParams));try{var i=ha?new ha:new dl("MSXML2.XMLHTTP.3.0");i.open(n?"POST":"GET",r,1),e.crossDomain||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.withCredentials=!!e.withCredentials,n&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.overrideMimeType&&i.overrideMimeType("application/json");var a=e.customHeaders;if(a=typeof a=="function"?a():a,a)for(var l in a)i.setRequestHeader(l,a[l]);i.onreadystatechange=function(){i.readyState>3&&s(i.status>=400?i.statusText:null,{status:i.status,data:i.responseText})},i.send(n)}catch(c){console&&console.log(c)}},EE=function(e,r,n,s){if(typeof n=="function"&&(s=n,n=void 0),s=s||function(){},Xr&&r.indexOf("file:")!==0)return NE(e,r,n,s);if(Fy()||typeof ActiveXObject=="function")return kE(e,r,n,s);s(new Error("No fetch and no xhr implementation found!"))};function Ms(t){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(t)}function nm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ic(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nm(Object(r),!0).forEach(function(n){By(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nm(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Hy(n.key),n)}}function RE(t,e,r){return e&&PE(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function By(t,e,r){return(e=Hy(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hy(t){var e=OE(t,"string");return Ms(e)=="symbol"?e:e+""}function OE(t,e){if(Ms(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var TE=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(r){return JSON.parse(r)},stringify:JSON.stringify,parsePayload:function(r,n,s){return By({},n,s||"")},parseLoadPayload:function(r,n){},request:EE,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},Vy=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};CE(this,t),this.services=e,this.options=r,this.allOptions=n,this.type="backend",this.init(e,r,n)}return RE(t,[{key:"init",value:function(r){var n=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=r,this.options=Ic(Ic(Ic({},TE()),this.options||{}),s),this.allOptions=i,this.services&&this.options.reloadInterval){var a=setInterval(function(){return n.reload()},this.options.reloadInterval);Ms(a)==="object"&&typeof a.unref=="function"&&a.unref()}}},{key:"readMulti",value:function(r,n,s){this._readAny(r,r,n,n,s)}},{key:"read",value:function(r,n,s){this._readAny([r],r,[n],n,s)}},{key:"_readAny",value:function(r,n,s,i,a){var l=this,c=this.options.loadPath;typeof this.options.loadPath=="function"&&(c=this.options.loadPath(r,s)),c=bE(c),c.then(function(u){if(!u)return a(null,{});var d=l.services.interpolator.interpolate(u,{lng:r.join("+"),ns:s.join("+")});l.loadUrl(d,a,n,i)})}},{key:"loadUrl",value:function(r,n,s,i){var a=this,l=typeof s=="string"?[s]:s,c=typeof i=="string"?[i]:i,u=this.options.parseLoadPayload(l,c);this.options.request(this.options,r,u,function(d,h){if(h&&(h.status>=500&&h.status<600||!h.status))return n("failed loading "+r+"; status code: "+h.status,!0);if(h&&h.status>=400&&h.status<500)return n("failed loading "+r+"; status code: "+h.status,!1);if(!h&&d&&d.message){var p=d.message.toLowerCase(),f=["failed","fetch","network","load"].find(function(x){return p.indexOf(x)>-1});if(f)return n("failed loading "+r+": "+d.message,!0)}if(d)return n(d,!1);var g,y;try{typeof h.data=="string"?g=a.options.parse(h.data,s,i):g=h.data}catch{y="failed parsing "+r+" to json"}if(y)return n(y,!1);n(null,g)})}},{key:"create",value:function(r,n,s,i,a){var l=this;if(this.options.addPath){typeof r=="string"&&(r=[r]);var c=this.options.parsePayload(n,s,i),u=0,d=[],h=[];r.forEach(function(p){var f=l.options.addPath;typeof l.options.addPath=="function"&&(f=l.options.addPath(p,n));var g=l.services.interpolator.interpolate(f,{lng:p,ns:n});l.options.request(l.options,g,c,function(y,x){u+=1,d.push(y),h.push(x),u===r.length&&typeof a=="function"&&a(d,h)})})}}},{key:"reload",value:function(){var r=this,n=this.services,s=n.backendConnector,i=n.languageUtils,a=n.logger,l=s.language;if(!(l&&l.toLowerCase()==="cimode")){var c=[],u=function(h){var p=i.toResolveHierarchy(h);p.forEach(function(f){c.indexOf(f)<0&&c.push(f)})};u(l),this.allOptions.preload&&this.allOptions.preload.forEach(function(d){return u(d)}),c.forEach(function(d){r.allOptions.ns.forEach(function(h){s.read(d,h,"read",null,null,function(p,f){p&&a.warn("loading namespace ".concat(h," for language ").concat(d," failed"),p),!p&&f&&a.log("loaded namespace ".concat(h," for language ").concat(d),f),s.loaded("".concat(d,"|").concat(h),p,f)})})})}}}])}();Vy.type="backend";pt.use(Vy).use(Uy).use(bk).init({fallbackLng:"es",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}});Dc.createRoot(document.getElementById("root")).render(o.jsx(ui.StrictMode,{children:o.jsx(nE,{})}));export{LE as c,Yy as g};
