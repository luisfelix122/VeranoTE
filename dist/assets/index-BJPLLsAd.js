function Yy(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var DE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Zy(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var ip={exports:{}},pl={},ap={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ha=Symbol.for("react.element"),ex=Symbol.for("react.portal"),tx=Symbol.for("react.fragment"),rx=Symbol.for("react.strict_mode"),nx=Symbol.for("react.profiler"),sx=Symbol.for("react.provider"),ix=Symbol.for("react.context"),ax=Symbol.for("react.forward_ref"),ox=Symbol.for("react.suspense"),lx=Symbol.for("react.memo"),cx=Symbol.for("react.lazy"),jh=Symbol.iterator;function ux(t){return t===null||typeof t!="object"?null:(t=jh&&t[jh]||t["@@iterator"],typeof t=="function"?t:null)}var op={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lp=Object.assign,cp={};function Fs(t,e,r){this.props=t,this.context=e,this.refs=cp,this.updater=r||op}Fs.prototype.isReactComponent={};Fs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function up(){}up.prototype=Fs.prototype;function rd(t,e,r){this.props=t,this.context=e,this.refs=cp,this.updater=r||op}var nd=rd.prototype=new up;nd.constructor=rd;lp(nd,Fs.prototype);nd.isPureReactComponent=!0;var _h=Array.isArray,dp=Object.prototype.hasOwnProperty,sd={current:null},hp={key:!0,ref:!0,__self:!0,__source:!0};function fp(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)dp.call(e,n)&&!hp.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:ha,type:t,key:i,ref:a,props:s,_owner:sd.current}}function dx(t,e){return{$$typeof:ha,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function id(t){return typeof t=="object"&&t!==null&&t.$$typeof===ha}function hx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Sh=/\/+/g;function ql(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hx(""+t.key):e.toString(36)}function ho(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ha:case ex:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+ql(a,0):n,_h(s)?(r="",t!=null&&(r=t.replace(Sh,"$&/")+"/"),ho(s,e,r,"",function(u){return u})):s!=null&&(id(s)&&(s=dx(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Sh,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",_h(t))for(var l=0;l<t.length;l++){i=t[l];var c=n+ql(i,l);a+=ho(i,e,r,c,s)}else if(c=ux(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=n+ql(i,l++),a+=ho(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Aa(t,e,r){if(t==null)return t;var n=[],s=0;return ho(t,n,"","",function(i){return e.call(r,i,s++)}),n}function fx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ut={current:null},fo={transition:null},mx={ReactCurrentDispatcher:ut,ReactCurrentBatchConfig:fo,ReactCurrentOwner:sd};function mp(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Aa,forEach:function(t,e,r){Aa(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Aa(t,function(){e++}),e},toArray:function(t){return Aa(t,function(e){return e})||[]},only:function(t){if(!id(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=Fs;ge.Fragment=tx;ge.Profiler=nx;ge.PureComponent=rd;ge.StrictMode=rx;ge.Suspense=ox;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mx;ge.act=mp;ge.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=lp({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=sd.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)dp.call(e,c)&&!hp.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:ha,type:t.type,key:s,ref:i,props:n,_owner:a}};ge.createContext=function(t){return t={$$typeof:ix,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sx,_context:t},t.Consumer=t};ge.createElement=fp;ge.createFactory=function(t){var e=fp.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:ax,render:t}};ge.isValidElement=id;ge.lazy=function(t){return{$$typeof:cx,_payload:{_status:-1,_result:t},_init:fx}};ge.memo=function(t,e){return{$$typeof:lx,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=fo.transition;fo.transition={};try{t()}finally{fo.transition=e}};ge.unstable_act=mp;ge.useCallback=function(t,e){return ut.current.useCallback(t,e)};ge.useContext=function(t){return ut.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return ut.current.useDeferredValue(t)};ge.useEffect=function(t,e){return ut.current.useEffect(t,e)};ge.useId=function(){return ut.current.useId()};ge.useImperativeHandle=function(t,e,r){return ut.current.useImperativeHandle(t,e,r)};ge.useInsertionEffect=function(t,e){return ut.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return ut.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return ut.current.useMemo(t,e)};ge.useReducer=function(t,e,r){return ut.current.useReducer(t,e,r)};ge.useRef=function(t){return ut.current.useRef(t)};ge.useState=function(t){return ut.current.useState(t)};ge.useSyncExternalStore=function(t,e,r){return ut.current.useSyncExternalStore(t,e,r)};ge.useTransition=function(){return ut.current.useTransition()};ge.version="18.3.1";ap.exports=ge;var b=ap.exports;const En=Xy(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var px=b,gx=Symbol.for("react.element"),vx=Symbol.for("react.fragment"),yx=Object.prototype.hasOwnProperty,xx=px.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wx={key:!0,ref:!0,__self:!0,__source:!0};function pp(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)yx.call(e,n)&&!wx.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:gx,type:t,key:i,ref:a,props:s,_owner:xx.current}}pl.Fragment=vx;pl.jsx=pp;pl.jsxs=pp;ip.exports=pl;var o=ip.exports,Dc={},gp={exports:{}},Lt={},vp={exports:{}},yp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,D){var I=O.length;O.push(D);e:for(;0<I;){var $=I-1>>>1,Q=O[$];if(0<s(Q,D))O[$]=D,O[I]=Q,I=$;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var D=O[0],I=O.pop();if(I!==D){O[0]=I;e:for(var $=0,Q=O.length,ve=Q>>>1;$<ve;){var ie=2*($+1)-1,we=O[ie],je=ie+1,H=O[je];if(0>s(we,I))je<Q&&0>s(H,we)?(O[$]=H,O[je]=I,$=je):(O[$]=we,O[ie]=I,$=ie);else if(je<Q&&0>s(H,I))O[$]=H,O[je]=I,$=je;else break e}}return D}function s(O,D){var I=O.sortIndex-D.sortIndex;return I!==0?I:O.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,m=3,f=!1,p=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(O){for(var D=r(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=O)n(u),D.sortIndex=D.expirationTime,e(c,D);else break;D=r(u)}}function _(O){if(y=!1,x(O),!p)if(r(c)!==null)p=!0,ne(N);else{var D=r(u);D!==null&&A(_,D.startTime-O)}}function N(O,D){p=!1,y&&(y=!1,v(L),L=-1),f=!0;var I=m;try{for(x(D),h=r(c);h!==null&&(!(h.expirationTime>D)||O&&!q());){var $=h.callback;if(typeof $=="function"){h.callback=null,m=h.priorityLevel;var Q=$(h.expirationTime<=D);D=t.unstable_now(),typeof Q=="function"?h.callback=Q:h===r(c)&&n(c),x(D)}else n(c);h=r(c)}if(h!==null)var ve=!0;else{var ie=r(u);ie!==null&&A(_,ie.startTime-D),ve=!1}return ve}finally{h=null,m=I,f=!1}}var P=!1,j=null,L=-1,z=5,E=-1;function q(){return!(t.unstable_now()-E<z)}function G(){if(j!==null){var O=t.unstable_now();E=O;var D=!0;try{D=j(!0,O)}finally{D?K():(P=!1,j=null)}}else P=!1}var K;if(typeof g=="function")K=function(){g(G)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,B=T.port2;T.port1.onmessage=G,K=function(){B.postMessage(null)}}else K=function(){w(G,0)};function ne(O){j=O,P||(P=!0,K())}function A(O,D){L=w(function(){O(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,ne(N))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(O){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var I=m;m=D;try{return O()}finally{m=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,D){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var I=m;m=O;try{return D()}finally{m=I}},t.unstable_scheduleCallback=function(O,D,I){var $=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?$+I:$):I=$,O){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=I+Q,O={id:d++,callback:D,priorityLevel:O,startTime:I,expirationTime:Q,sortIndex:-1},I>$?(O.sortIndex=I,e(u,O),r(c)===null&&O===r(u)&&(y?(v(L),L=-1):y=!0,A(_,I-$))):(O.sortIndex=Q,e(c,O),p||f||(p=!0,ne(N))),O},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(O){var D=m;return function(){var I=m;m=D;try{return O.apply(this,arguments)}finally{m=I}}}})(yp);vp.exports=yp;var bx=vp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jx=b,Tt=bx;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xp=new Set,$i={};function Bn(t,e){Rs(t,e),Rs(t+"Capture",e)}function Rs(t,e){for($i[t]=e,t=0;t<e.length;t++)xp.add(e[t])}var Nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$c=Object.prototype.hasOwnProperty,_x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nh={},kh={};function Sx(t){return $c.call(kh,t)?!0:$c.call(Nh,t)?!1:_x.test(t)?kh[t]=!0:(Nh[t]=!0,!1)}function Nx(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kx(t,e,r,n){if(e===null||typeof e>"u"||Nx(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dt(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){et[t]=new dt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];et[e]=new dt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){et[t]=new dt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){et[t]=new dt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){et[t]=new dt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){et[t]=new dt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){et[t]=new dt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){et[t]=new dt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){et[t]=new dt(t,5,!1,t.toLowerCase(),null,!1,!1)});var ad=/[\-:]([a-z])/g;function od(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ad,od);et[e]=new dt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ad,od);et[e]=new dt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ad,od);et[e]=new dt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){et[t]=new dt(t,1,!1,t.toLowerCase(),null,!1,!1)});et.xlinkHref=new dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){et[t]=new dt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ld(t,e,r,n){var s=et.hasOwnProperty(e)?et[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kx(e,r,s,n)&&(r=null),n||s===null?Sx(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Pr=jx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ia=Symbol.for("react.element"),os=Symbol.for("react.portal"),ls=Symbol.for("react.fragment"),cd=Symbol.for("react.strict_mode"),Mc=Symbol.for("react.profiler"),wp=Symbol.for("react.provider"),bp=Symbol.for("react.context"),ud=Symbol.for("react.forward_ref"),zc=Symbol.for("react.suspense"),Uc=Symbol.for("react.suspense_list"),dd=Symbol.for("react.memo"),Ar=Symbol.for("react.lazy"),jp=Symbol.for("react.offscreen"),Eh=Symbol.iterator;function ei(t){return t===null||typeof t!="object"?null:(t=Eh&&t[Eh]||t["@@iterator"],typeof t=="function"?t:null)}var De=Object.assign,Wl;function hi(t){if(Wl===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Wl=e&&e[1]||""}return`
`+Wl+t}var Kl=!1;function Gl(t,e){if(!t||Kl)return"";Kl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{Kl=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?hi(t):""}function Ex(t){switch(t.tag){case 5:return hi(t.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 2:case 15:return t=Gl(t.type,!1),t;case 11:return t=Gl(t.type.render,!1),t;case 1:return t=Gl(t.type,!0),t;default:return""}}function Fc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ls:return"Fragment";case os:return"Portal";case Mc:return"Profiler";case cd:return"StrictMode";case zc:return"Suspense";case Uc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bp:return(t.displayName||"Context")+".Consumer";case wp:return(t._context.displayName||"Context")+".Provider";case ud:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dd:return e=t.displayName||null,e!==null?e:Fc(t.type)||"Memo";case Ar:e=t._payload,t=t._init;try{return Fc(t(e))}catch{}}return null}function Cx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fc(e);case 8:return e===cd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _p(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Px(t){var e=_p(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Da(t){t._valueTracker||(t._valueTracker=Px(t))}function Sp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=_p(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Po(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bc(t,e){var r=e.checked;return De({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Ch(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Xr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Np(t,e){e=e.checked,e!=null&&ld(t,"checked",e,!1)}function Hc(t,e){Np(t,e);var r=Xr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vc(t,e.type,r):e.hasOwnProperty("defaultValue")&&Vc(t,e.type,Xr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ph(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Vc(t,e,r){(e!=="number"||Po(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var fi=Array.isArray;function ws(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Xr(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function qc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return De({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Rh(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(U(92));if(fi(r)){if(1<r.length)throw Error(U(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Xr(r)}}function kp(t,e){var r=Xr(e.value),n=Xr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Oh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ep(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ep(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $a,Cp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($a=$a||document.createElement("div"),$a.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$a.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Mi(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var bi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rx=["Webkit","ms","Moz","O"];Object.keys(bi).forEach(function(t){Rx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bi[e]=bi[t]})});function Pp(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||bi.hasOwnProperty(t)&&bi[t]?(""+e).trim():e+"px"}function Rp(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Pp(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var Ox=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kc(t,e){if(e){if(Ox[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Gc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jc=null;function hd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qc=null,bs=null,js=null;function Th(t){if(t=pa(t)){if(typeof Qc!="function")throw Error(U(280));var e=t.stateNode;e&&(e=wl(e),Qc(t.stateNode,t.type,e))}}function Op(t){bs?js?js.push(t):js=[t]:bs=t}function Tp(){if(bs){var t=bs,e=js;if(js=bs=null,Th(t),e)for(t=0;t<e.length;t++)Th(e[t])}}function Lp(t,e){return t(e)}function Ap(){}var Jl=!1;function Ip(t,e,r){if(Jl)return t(e,r);Jl=!0;try{return Lp(t,e,r)}finally{Jl=!1,(bs!==null||js!==null)&&(Ap(),Tp())}}function zi(t,e){var r=t.stateNode;if(r===null)return null;var n=wl(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(U(231,e,typeof r));return r}var Yc=!1;if(Nr)try{var ti={};Object.defineProperty(ti,"passive",{get:function(){Yc=!0}}),window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{Yc=!1}function Tx(t,e,r,n,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var ji=!1,Ro=null,Oo=!1,Xc=null,Lx={onError:function(t){ji=!0,Ro=t}};function Ax(t,e,r,n,s,i,a,l,c){ji=!1,Ro=null,Tx.apply(Lx,arguments)}function Ix(t,e,r,n,s,i,a,l,c){if(Ax.apply(this,arguments),ji){if(ji){var u=Ro;ji=!1,Ro=null}else throw Error(U(198));Oo||(Oo=!0,Xc=u)}}function Hn(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Dp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Lh(t){if(Hn(t)!==t)throw Error(U(188))}function Dx(t){var e=t.alternate;if(!e){if(e=Hn(t),e===null)throw Error(U(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Lh(s),t;if(i===n)return Lh(s),e;i=i.sibling}throw Error(U(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(U(189))}}if(r.alternate!==n)throw Error(U(190))}if(r.tag!==3)throw Error(U(188));return r.stateNode.current===r?t:e}function $p(t){return t=Dx(t),t!==null?Mp(t):null}function Mp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Mp(t);if(e!==null)return e;t=t.sibling}return null}var zp=Tt.unstable_scheduleCallback,Ah=Tt.unstable_cancelCallback,$x=Tt.unstable_shouldYield,Mx=Tt.unstable_requestPaint,Ue=Tt.unstable_now,zx=Tt.unstable_getCurrentPriorityLevel,fd=Tt.unstable_ImmediatePriority,Up=Tt.unstable_UserBlockingPriority,To=Tt.unstable_NormalPriority,Ux=Tt.unstable_LowPriority,Fp=Tt.unstable_IdlePriority,gl=null,fr=null;function Fx(t){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(gl,t,void 0,(t.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:Vx,Bx=Math.log,Hx=Math.LN2;function Vx(t){return t>>>=0,t===0?32:31-(Bx(t)/Hx|0)|0}var Ma=64,za=4194304;function mi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Lo(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=mi(l):(i&=a,i!==0&&(n=mi(i)))}else a=r&~s,a!==0?n=mi(a):i!==0&&(n=mi(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-sr(e),s=1<<r,n|=t[r],e&=~s;return n}function qx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wx(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-sr(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=qx(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Zc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Bp(){var t=Ma;return Ma<<=1,!(Ma&4194240)&&(Ma=64),t}function Ql(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function fa(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-sr(e),t[e]=r}function Kx(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-sr(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function md(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-sr(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var be=0;function Hp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Vp,pd,qp,Wp,Kp,eu=!1,Ua=[],Vr=null,qr=null,Wr=null,Ui=new Map,Fi=new Map,Dr=[],Gx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ih(t,e){switch(t){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":Ui.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fi.delete(e.pointerId)}}function ri(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=pa(e),e!==null&&pd(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Jx(t,e,r,n,s){switch(e){case"focusin":return Vr=ri(Vr,t,e,r,n,s),!0;case"dragenter":return qr=ri(qr,t,e,r,n,s),!0;case"mouseover":return Wr=ri(Wr,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ui.set(i,ri(Ui.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Fi.set(i,ri(Fi.get(i)||null,t,e,r,n,s)),!0}return!1}function Gp(t){var e=bn(t.target);if(e!==null){var r=Hn(e);if(r!==null){if(e=r.tag,e===13){if(e=Dp(r),e!==null){t.blockedOn=e,Kp(t.priority,function(){qp(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=tu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Jc=n,r.target.dispatchEvent(n),Jc=null}else return e=pa(r),e!==null&&pd(e),t.blockedOn=r,!1;e.shift()}return!0}function Dh(t,e,r){mo(t)&&r.delete(e)}function Qx(){eu=!1,Vr!==null&&mo(Vr)&&(Vr=null),qr!==null&&mo(qr)&&(qr=null),Wr!==null&&mo(Wr)&&(Wr=null),Ui.forEach(Dh),Fi.forEach(Dh)}function ni(t,e){t.blockedOn===e&&(t.blockedOn=null,eu||(eu=!0,Tt.unstable_scheduleCallback(Tt.unstable_NormalPriority,Qx)))}function Bi(t){function e(s){return ni(s,t)}if(0<Ua.length){ni(Ua[0],t);for(var r=1;r<Ua.length;r++){var n=Ua[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Vr!==null&&ni(Vr,t),qr!==null&&ni(qr,t),Wr!==null&&ni(Wr,t),Ui.forEach(e),Fi.forEach(e),r=0;r<Dr.length;r++)n=Dr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Dr.length&&(r=Dr[0],r.blockedOn===null);)Gp(r),r.blockedOn===null&&Dr.shift()}var _s=Pr.ReactCurrentBatchConfig,Ao=!0;function Yx(t,e,r,n){var s=be,i=_s.transition;_s.transition=null;try{be=1,gd(t,e,r,n)}finally{be=s,_s.transition=i}}function Xx(t,e,r,n){var s=be,i=_s.transition;_s.transition=null;try{be=4,gd(t,e,r,n)}finally{be=s,_s.transition=i}}function gd(t,e,r,n){if(Ao){var s=tu(t,e,r,n);if(s===null)ac(t,e,n,Io,r),Ih(t,n);else if(Jx(s,t,e,r,n))n.stopPropagation();else if(Ih(t,n),e&4&&-1<Gx.indexOf(t)){for(;s!==null;){var i=pa(s);if(i!==null&&Vp(i),i=tu(t,e,r,n),i===null&&ac(t,e,n,Io,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else ac(t,e,n,null,r)}}var Io=null;function tu(t,e,r,n){if(Io=null,t=hd(n),t=bn(t),t!==null)if(e=Hn(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Dp(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Io=t,null}function Jp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zx()){case fd:return 1;case Up:return 4;case To:case Ux:return 16;case Fp:return 536870912;default:return 16}default:return 16}}var Fr=null,vd=null,po=null;function Qp(){if(po)return po;var t,e=vd,r=e.length,n,s="value"in Fr?Fr.value:Fr.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return po=s.slice(t,1<n?1-n:void 0)}function go(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fa(){return!0}function $h(){return!1}function At(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Fa:$h,this.isPropagationStopped=$h,this}return De(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fa)},persist:function(){},isPersistent:Fa}),e}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yd=At(Bs),ma=De({},Bs,{view:0,detail:0}),Zx=At(ma),Yl,Xl,si,vl=De({},ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==si&&(si&&t.type==="mousemove"?(Yl=t.screenX-si.screenX,Xl=t.screenY-si.screenY):Xl=Yl=0,si=t),Yl)},movementY:function(t){return"movementY"in t?t.movementY:Xl}}),Mh=At(vl),ew=De({},vl,{dataTransfer:0}),tw=At(ew),rw=De({},ma,{relatedTarget:0}),Zl=At(rw),nw=De({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),sw=At(nw),iw=De({},Bs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aw=At(iw),ow=De({},Bs,{data:0}),zh=At(ow),lw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uw[t])?!!e[t]:!1}function xd(){return dw}var hw=De({},ma,{key:function(t){if(t.key){var e=lw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=go(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xd,charCode:function(t){return t.type==="keypress"?go(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?go(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fw=At(hw),mw=De({},vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uh=At(mw),pw=De({},ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xd}),gw=At(pw),vw=De({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),yw=At(vw),xw=De({},vl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ww=At(xw),bw=[9,13,27,32],wd=Nr&&"CompositionEvent"in window,_i=null;Nr&&"documentMode"in document&&(_i=document.documentMode);var jw=Nr&&"TextEvent"in window&&!_i,Yp=Nr&&(!wd||_i&&8<_i&&11>=_i),Fh=" ",Bh=!1;function Xp(t,e){switch(t){case"keyup":return bw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cs=!1;function _w(t,e){switch(t){case"compositionend":return Zp(e);case"keypress":return e.which!==32?null:(Bh=!0,Fh);case"textInput":return t=e.data,t===Fh&&Bh?null:t;default:return null}}function Sw(t,e){if(cs)return t==="compositionend"||!wd&&Xp(t,e)?(t=Qp(),po=vd=Fr=null,cs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Yp&&e.locale!=="ko"?null:e.data;default:return null}}var Nw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Nw[t.type]:e==="textarea"}function eg(t,e,r,n){Op(n),e=Do(e,"onChange"),0<e.length&&(r=new yd("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Si=null,Hi=null;function kw(t){dg(t,0)}function yl(t){var e=hs(t);if(Sp(e))return t}function Ew(t,e){if(t==="change")return e}var tg=!1;if(Nr){var ec;if(Nr){var tc="oninput"in document;if(!tc){var Vh=document.createElement("div");Vh.setAttribute("oninput","return;"),tc=typeof Vh.oninput=="function"}ec=tc}else ec=!1;tg=ec&&(!document.documentMode||9<document.documentMode)}function qh(){Si&&(Si.detachEvent("onpropertychange",rg),Hi=Si=null)}function rg(t){if(t.propertyName==="value"&&yl(Hi)){var e=[];eg(e,Hi,t,hd(t)),Ip(kw,e)}}function Cw(t,e,r){t==="focusin"?(qh(),Si=e,Hi=r,Si.attachEvent("onpropertychange",rg)):t==="focusout"&&qh()}function Pw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yl(Hi)}function Rw(t,e){if(t==="click")return yl(e)}function Ow(t,e){if(t==="input"||t==="change")return yl(e)}function Tw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ar=typeof Object.is=="function"?Object.is:Tw;function Vi(t,e){if(ar(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!$c.call(e,s)||!ar(t[s],e[s]))return!1}return!0}function Wh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kh(t,e){var r=Wh(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Wh(r)}}function ng(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ng(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sg(){for(var t=window,e=Po();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Po(t.document)}return e}function bd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Lw(t){var e=sg(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&ng(r.ownerDocument.documentElement,r)){if(n!==null&&bd(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Kh(r,i);var a=Kh(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Aw=Nr&&"documentMode"in document&&11>=document.documentMode,us=null,ru=null,Ni=null,nu=!1;function Gh(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nu||us==null||us!==Po(n)||(n=us,"selectionStart"in n&&bd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ni&&Vi(Ni,n)||(Ni=n,n=Do(ru,"onSelect"),0<n.length&&(e=new yd("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=us)))}function Ba(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ds={animationend:Ba("Animation","AnimationEnd"),animationiteration:Ba("Animation","AnimationIteration"),animationstart:Ba("Animation","AnimationStart"),transitionend:Ba("Transition","TransitionEnd")},rc={},ig={};Nr&&(ig=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function xl(t){if(rc[t])return rc[t];if(!ds[t])return t;var e=ds[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in ig)return rc[t]=e[r];return t}var ag=xl("animationend"),og=xl("animationiteration"),lg=xl("animationstart"),cg=xl("transitionend"),ug=new Map,Jh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tn(t,e){ug.set(t,e),Bn(e,[t])}for(var nc=0;nc<Jh.length;nc++){var sc=Jh[nc],Iw=sc.toLowerCase(),Dw=sc[0].toUpperCase()+sc.slice(1);tn(Iw,"on"+Dw)}tn(ag,"onAnimationEnd");tn(og,"onAnimationIteration");tn(lg,"onAnimationStart");tn("dblclick","onDoubleClick");tn("focusin","onFocus");tn("focusout","onBlur");tn(cg,"onTransitionEnd");Rs("onMouseEnter",["mouseout","mouseover"]);Rs("onMouseLeave",["mouseout","mouseover"]);Rs("onPointerEnter",["pointerout","pointerover"]);Rs("onPointerLeave",["pointerout","pointerover"]);Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$w=new Set("cancel close invalid load scroll toggle".split(" ").concat(pi));function Qh(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Ix(n,e,void 0,t),t.currentTarget=null}function dg(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Qh(s,l,u),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Qh(s,l,u),i=c}}}if(Oo)throw t=Xc,Oo=!1,Xc=null,t}function Re(t,e){var r=e[lu];r===void 0&&(r=e[lu]=new Set);var n=t+"__bubble";r.has(n)||(hg(e,t,2,!1),r.add(n))}function ic(t,e,r){var n=0;e&&(n|=4),hg(r,t,n,e)}var Ha="_reactListening"+Math.random().toString(36).slice(2);function qi(t){if(!t[Ha]){t[Ha]=!0,xp.forEach(function(r){r!=="selectionchange"&&($w.has(r)||ic(r,!1,t),ic(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ha]||(e[Ha]=!0,ic("selectionchange",!1,e))}}function hg(t,e,r,n){switch(Jp(e)){case 1:var s=Yx;break;case 4:s=Xx;break;default:s=gd}r=s.bind(null,e,r,t),s=void 0,!Yc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function ac(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=bn(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}Ip(function(){var u=i,d=hd(r),h=[];e:{var m=ug.get(t);if(m!==void 0){var f=yd,p=t;switch(t){case"keypress":if(go(r)===0)break e;case"keydown":case"keyup":f=fw;break;case"focusin":p="focus",f=Zl;break;case"focusout":p="blur",f=Zl;break;case"beforeblur":case"afterblur":f=Zl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Mh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=tw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=gw;break;case ag:case og:case lg:f=sw;break;case cg:f=yw;break;case"scroll":f=Zx;break;case"wheel":f=ww;break;case"copy":case"cut":case"paste":f=aw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Uh}var y=(e&4)!==0,w=!y&&t==="scroll",v=y?m!==null?m+"Capture":null:m;y=[];for(var g=u,x;g!==null;){x=g;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,v!==null&&(_=zi(g,v),_!=null&&y.push(Wi(g,_,x)))),w)break;g=g.return}0<y.length&&(m=new f(m,p,null,r,d),h.push({event:m,listeners:y}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",m&&r!==Jc&&(p=r.relatedTarget||r.fromElement)&&(bn(p)||p[kr]))break e;if((f||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,f?(p=r.relatedTarget||r.toElement,f=u,p=p?bn(p):null,p!==null&&(w=Hn(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(y=Mh,_="onMouseLeave",v="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(y=Uh,_="onPointerLeave",v="onPointerEnter",g="pointer"),w=f==null?m:hs(f),x=p==null?m:hs(p),m=new y(_,g+"leave",f,r,d),m.target=w,m.relatedTarget=x,_=null,bn(d)===u&&(y=new y(v,g+"enter",p,r,d),y.target=x,y.relatedTarget=w,_=y),w=_,f&&p)t:{for(y=f,v=p,g=0,x=y;x;x=Jn(x))g++;for(x=0,_=v;_;_=Jn(_))x++;for(;0<g-x;)y=Jn(y),g--;for(;0<x-g;)v=Jn(v),x--;for(;g--;){if(y===v||v!==null&&y===v.alternate)break t;y=Jn(y),v=Jn(v)}y=null}else y=null;f!==null&&Yh(h,m,f,y,!1),p!==null&&w!==null&&Yh(h,w,p,y,!0)}}e:{if(m=u?hs(u):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var N=Ew;else if(Hh(m))if(tg)N=Ow;else{N=Pw;var P=Cw}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=Rw);if(N&&(N=N(t,u))){eg(h,N,r,d);break e}P&&P(t,m,u),t==="focusout"&&(P=m._wrapperState)&&P.controlled&&m.type==="number"&&Vc(m,"number",m.value)}switch(P=u?hs(u):window,t){case"focusin":(Hh(P)||P.contentEditable==="true")&&(us=P,ru=u,Ni=null);break;case"focusout":Ni=ru=us=null;break;case"mousedown":nu=!0;break;case"contextmenu":case"mouseup":case"dragend":nu=!1,Gh(h,r,d);break;case"selectionchange":if(Aw)break;case"keydown":case"keyup":Gh(h,r,d)}var j;if(wd)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else cs?Xp(t,r)&&(L="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(Yp&&r.locale!=="ko"&&(cs||L!=="onCompositionStart"?L==="onCompositionEnd"&&cs&&(j=Qp()):(Fr=d,vd="value"in Fr?Fr.value:Fr.textContent,cs=!0)),P=Do(u,L),0<P.length&&(L=new zh(L,t,null,r,d),h.push({event:L,listeners:P}),j?L.data=j:(j=Zp(r),j!==null&&(L.data=j)))),(j=jw?_w(t,r):Sw(t,r))&&(u=Do(u,"onBeforeInput"),0<u.length&&(d=new zh("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=j))}dg(h,e)})}function Wi(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Do(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=zi(t,r),i!=null&&n.unshift(Wi(t,i,s)),i=zi(t,e),i!=null&&n.push(Wi(t,i,s))),t=t.return}return n}function Jn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yh(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=zi(r,i),c!=null&&a.unshift(Wi(r,c,l))):s||(c=zi(r,i),c!=null&&a.push(Wi(r,c,l)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var Mw=/\r\n?/g,zw=/\u0000|\uFFFD/g;function Xh(t){return(typeof t=="string"?t:""+t).replace(Mw,`
`).replace(zw,"")}function Va(t,e,r){if(e=Xh(e),Xh(t)!==e&&r)throw Error(U(425))}function $o(){}var su=null,iu=null;function au(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ou=typeof setTimeout=="function"?setTimeout:void 0,Uw=typeof clearTimeout=="function"?clearTimeout:void 0,Zh=typeof Promise=="function"?Promise:void 0,Fw=typeof queueMicrotask=="function"?queueMicrotask:typeof Zh<"u"?function(t){return Zh.resolve(null).then(t).catch(Bw)}:ou;function Bw(t){setTimeout(function(){throw t})}function oc(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Bi(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Bi(e)}function Kr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ef(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Hs=Math.random().toString(36).slice(2),dr="__reactFiber$"+Hs,Ki="__reactProps$"+Hs,kr="__reactContainer$"+Hs,lu="__reactEvents$"+Hs,Hw="__reactListeners$"+Hs,Vw="__reactHandles$"+Hs;function bn(t){var e=t[dr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[kr]||r[dr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=ef(t);t!==null;){if(r=t[dr])return r;t=ef(t)}return e}t=r,r=t.parentNode}return null}function pa(t){return t=t[dr]||t[kr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function wl(t){return t[Ki]||null}var cu=[],fs=-1;function rn(t){return{current:t}}function Oe(t){0>fs||(t.current=cu[fs],cu[fs]=null,fs--)}function Ee(t,e){fs++,cu[fs]=t.current,t.current=e}var Zr={},it=rn(Zr),xt=rn(!1),Tn=Zr;function Os(t,e){var r=t.type.contextTypes;if(!r)return Zr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function wt(t){return t=t.childContextTypes,t!=null}function Mo(){Oe(xt),Oe(it)}function tf(t,e,r){if(it.current!==Zr)throw Error(U(168));Ee(it,e),Ee(xt,r)}function fg(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(U(108,Cx(t)||"Unknown",s));return De({},r,n)}function zo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zr,Tn=it.current,Ee(it,t),Ee(xt,xt.current),!0}function rf(t,e,r){var n=t.stateNode;if(!n)throw Error(U(169));r?(t=fg(t,e,Tn),n.__reactInternalMemoizedMergedChildContext=t,Oe(xt),Oe(it),Ee(it,t)):Oe(xt),Ee(xt,r)}var br=null,bl=!1,lc=!1;function mg(t){br===null?br=[t]:br.push(t)}function qw(t){bl=!0,mg(t)}function nn(){if(!lc&&br!==null){lc=!0;var t=0,e=be;try{var r=br;for(be=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}br=null,bl=!1}catch(s){throw br!==null&&(br=br.slice(t+1)),zp(fd,nn),s}finally{be=e,lc=!1}}return null}var ms=[],ps=0,Uo=null,Fo=0,zt=[],Ut=0,Ln=null,jr=1,_r="";function pn(t,e){ms[ps++]=Fo,ms[ps++]=Uo,Uo=t,Fo=e}function pg(t,e,r){zt[Ut++]=jr,zt[Ut++]=_r,zt[Ut++]=Ln,Ln=t;var n=jr;t=_r;var s=32-sr(n)-1;n&=~(1<<s),r+=1;var i=32-sr(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,jr=1<<32-sr(e)+s|r<<s|n,_r=i+t}else jr=1<<i|r<<s|n,_r=t}function jd(t){t.return!==null&&(pn(t,1),pg(t,1,0))}function _d(t){for(;t===Uo;)Uo=ms[--ps],ms[ps]=null,Fo=ms[--ps],ms[ps]=null;for(;t===Ln;)Ln=zt[--Ut],zt[Ut]=null,_r=zt[--Ut],zt[Ut]=null,jr=zt[--Ut],zt[Ut]=null}var Ot=null,Rt=null,Te=!1,nr=null;function gg(t,e){var r=Ft(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function nf(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ot=t,Rt=Kr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ot=t,Rt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ln!==null?{id:jr,overflow:_r}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ft(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ot=t,Rt=null,!0):!1;default:return!1}}function uu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function du(t){if(Te){var e=Rt;if(e){var r=e;if(!nf(t,e)){if(uu(t))throw Error(U(418));e=Kr(r.nextSibling);var n=Ot;e&&nf(t,e)?gg(n,r):(t.flags=t.flags&-4097|2,Te=!1,Ot=t)}}else{if(uu(t))throw Error(U(418));t.flags=t.flags&-4097|2,Te=!1,Ot=t}}}function sf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ot=t}function qa(t){if(t!==Ot)return!1;if(!Te)return sf(t),Te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!au(t.type,t.memoizedProps)),e&&(e=Rt)){if(uu(t))throw vg(),Error(U(418));for(;e;)gg(t,e),e=Kr(e.nextSibling)}if(sf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Rt=Kr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Rt=null}}else Rt=Ot?Kr(t.stateNode.nextSibling):null;return!0}function vg(){for(var t=Rt;t;)t=Kr(t.nextSibling)}function Ts(){Rt=Ot=null,Te=!1}function Sd(t){nr===null?nr=[t]:nr.push(t)}var Ww=Pr.ReactCurrentBatchConfig;function ii(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(U(309));var n=r.stateNode}if(!n)throw Error(U(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(U(284));if(!r._owner)throw Error(U(290,t))}return t}function Wa(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function af(t){var e=t._init;return e(t._payload)}function yg(t){function e(v,g){if(t){var x=v.deletions;x===null?(v.deletions=[g],v.flags|=16):x.push(g)}}function r(v,g){if(!t)return null;for(;g!==null;)e(v,g),g=g.sibling;return null}function n(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function s(v,g){return v=Yr(v,g),v.index=0,v.sibling=null,v}function i(v,g,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<g?(v.flags|=2,g):x):(v.flags|=2,g)):(v.flags|=1048576,g)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,g,x,_){return g===null||g.tag!==6?(g=pc(x,v.mode,_),g.return=v,g):(g=s(g,x),g.return=v,g)}function c(v,g,x,_){var N=x.type;return N===ls?d(v,g,x.props.children,_,x.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ar&&af(N)===g.type)?(_=s(g,x.props),_.ref=ii(v,g,x),_.return=v,_):(_=_o(x.type,x.key,x.props,null,v.mode,_),_.ref=ii(v,g,x),_.return=v,_)}function u(v,g,x,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=gc(x,v.mode,_),g.return=v,g):(g=s(g,x.children||[]),g.return=v,g)}function d(v,g,x,_,N){return g===null||g.tag!==7?(g=Pn(x,v.mode,_,N),g.return=v,g):(g=s(g,x),g.return=v,g)}function h(v,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=pc(""+g,v.mode,x),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ia:return x=_o(g.type,g.key,g.props,null,v.mode,x),x.ref=ii(v,null,g),x.return=v,x;case os:return g=gc(g,v.mode,x),g.return=v,g;case Ar:var _=g._init;return h(v,_(g._payload),x)}if(fi(g)||ei(g))return g=Pn(g,v.mode,x,null),g.return=v,g;Wa(v,g)}return null}function m(v,g,x,_){var N=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return N!==null?null:l(v,g,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ia:return x.key===N?c(v,g,x,_):null;case os:return x.key===N?u(v,g,x,_):null;case Ar:return N=x._init,m(v,g,N(x._payload),_)}if(fi(x)||ei(x))return N!==null?null:d(v,g,x,_,null);Wa(v,x)}return null}function f(v,g,x,_,N){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(x)||null,l(g,v,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ia:return v=v.get(_.key===null?x:_.key)||null,c(g,v,_,N);case os:return v=v.get(_.key===null?x:_.key)||null,u(g,v,_,N);case Ar:var P=_._init;return f(v,g,x,P(_._payload),N)}if(fi(_)||ei(_))return v=v.get(x)||null,d(g,v,_,N,null);Wa(g,_)}return null}function p(v,g,x,_){for(var N=null,P=null,j=g,L=g=0,z=null;j!==null&&L<x.length;L++){j.index>L?(z=j,j=null):z=j.sibling;var E=m(v,j,x[L],_);if(E===null){j===null&&(j=z);break}t&&j&&E.alternate===null&&e(v,j),g=i(E,g,L),P===null?N=E:P.sibling=E,P=E,j=z}if(L===x.length)return r(v,j),Te&&pn(v,L),N;if(j===null){for(;L<x.length;L++)j=h(v,x[L],_),j!==null&&(g=i(j,g,L),P===null?N=j:P.sibling=j,P=j);return Te&&pn(v,L),N}for(j=n(v,j);L<x.length;L++)z=f(j,v,L,x[L],_),z!==null&&(t&&z.alternate!==null&&j.delete(z.key===null?L:z.key),g=i(z,g,L),P===null?N=z:P.sibling=z,P=z);return t&&j.forEach(function(q){return e(v,q)}),Te&&pn(v,L),N}function y(v,g,x,_){var N=ei(x);if(typeof N!="function")throw Error(U(150));if(x=N.call(x),x==null)throw Error(U(151));for(var P=N=null,j=g,L=g=0,z=null,E=x.next();j!==null&&!E.done;L++,E=x.next()){j.index>L?(z=j,j=null):z=j.sibling;var q=m(v,j,E.value,_);if(q===null){j===null&&(j=z);break}t&&j&&q.alternate===null&&e(v,j),g=i(q,g,L),P===null?N=q:P.sibling=q,P=q,j=z}if(E.done)return r(v,j),Te&&pn(v,L),N;if(j===null){for(;!E.done;L++,E=x.next())E=h(v,E.value,_),E!==null&&(g=i(E,g,L),P===null?N=E:P.sibling=E,P=E);return Te&&pn(v,L),N}for(j=n(v,j);!E.done;L++,E=x.next())E=f(j,v,L,E.value,_),E!==null&&(t&&E.alternate!==null&&j.delete(E.key===null?L:E.key),g=i(E,g,L),P===null?N=E:P.sibling=E,P=E);return t&&j.forEach(function(G){return e(v,G)}),Te&&pn(v,L),N}function w(v,g,x,_){if(typeof x=="object"&&x!==null&&x.type===ls&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ia:e:{for(var N=x.key,P=g;P!==null;){if(P.key===N){if(N=x.type,N===ls){if(P.tag===7){r(v,P.sibling),g=s(P,x.props.children),g.return=v,v=g;break e}}else if(P.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ar&&af(N)===P.type){r(v,P.sibling),g=s(P,x.props),g.ref=ii(v,P,x),g.return=v,v=g;break e}r(v,P);break}else e(v,P);P=P.sibling}x.type===ls?(g=Pn(x.props.children,v.mode,_,x.key),g.return=v,v=g):(_=_o(x.type,x.key,x.props,null,v.mode,_),_.ref=ii(v,g,x),_.return=v,v=_)}return a(v);case os:e:{for(P=x.key;g!==null;){if(g.key===P)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){r(v,g.sibling),g=s(g,x.children||[]),g.return=v,v=g;break e}else{r(v,g);break}else e(v,g);g=g.sibling}g=gc(x,v.mode,_),g.return=v,v=g}return a(v);case Ar:return P=x._init,w(v,g,P(x._payload),_)}if(fi(x))return p(v,g,x,_);if(ei(x))return y(v,g,x,_);Wa(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(r(v,g.sibling),g=s(g,x),g.return=v,v=g):(r(v,g),g=pc(x,v.mode,_),g.return=v,v=g),a(v)):r(v,g)}return w}var Ls=yg(!0),xg=yg(!1),Bo=rn(null),Ho=null,gs=null,Nd=null;function kd(){Nd=gs=Ho=null}function Ed(t){var e=Bo.current;Oe(Bo),t._currentValue=e}function hu(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ss(t,e){Ho=t,Nd=gs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yt=!0),t.firstContext=null)}function Ht(t){var e=t._currentValue;if(Nd!==t)if(t={context:t,memoizedValue:e,next:null},gs===null){if(Ho===null)throw Error(U(308));gs=t,Ho.dependencies={lanes:0,firstContext:t}}else gs=gs.next=t;return e}var jn=null;function Cd(t){jn===null?jn=[t]:jn.push(t)}function wg(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Cd(e)):(r.next=s.next,s.next=r),e.interleaved=r,Er(t,n)}function Er(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ir=!1;function Pd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,xe&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Er(t,r)}return s=n.interleaved,s===null?(e.next=e,Cd(n)):(e.next=s.next,s.next=e),n.interleaved=e,Er(t,r)}function vo(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,md(t,r)}}function of(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Vo(t,e,r,n){var s=t.updateQueue;Ir=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,l=i;do{var m=l.lane,f=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=t,y=l;switch(m=e,f=r,y.tag){case 1:if(p=y.payload,typeof p=="function"){h=p.call(f,h,m);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,m=typeof p=="function"?p.call(f,h,m):p,m==null)break e;h=De({},h,m);break e;case 2:Ir=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else f={eventTime:f,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=f,c=h):d=d.next=f,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);In|=a,t.lanes=a,t.memoizedState=h}}function lf(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(U(191,s));s.call(n)}}}var ga={},mr=rn(ga),Gi=rn(ga),Ji=rn(ga);function _n(t){if(t===ga)throw Error(U(174));return t}function Rd(t,e){switch(Ee(Ji,e),Ee(Gi,t),Ee(mr,ga),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wc(e,t)}Oe(mr),Ee(mr,e)}function As(){Oe(mr),Oe(Gi),Oe(Ji)}function jg(t){_n(Ji.current);var e=_n(mr.current),r=Wc(e,t.type);e!==r&&(Ee(Gi,t),Ee(mr,r))}function Od(t){Gi.current===t&&(Oe(mr),Oe(Gi))}var Ae=rn(0);function qo(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cc=[];function Td(){for(var t=0;t<cc.length;t++)cc[t]._workInProgressVersionPrimary=null;cc.length=0}var yo=Pr.ReactCurrentDispatcher,uc=Pr.ReactCurrentBatchConfig,An=0,Ie=null,qe=null,Ge=null,Wo=!1,ki=!1,Qi=0,Kw=0;function rt(){throw Error(U(321))}function Ld(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ar(t[r],e[r]))return!1;return!0}function Ad(t,e,r,n,s,i){if(An=i,Ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yo.current=t===null||t.memoizedState===null?Yw:Xw,t=r(n,s),ki){i=0;do{if(ki=!1,Qi=0,25<=i)throw Error(U(301));i+=1,Ge=qe=null,e.updateQueue=null,yo.current=Zw,t=r(n,s)}while(ki)}if(yo.current=Ko,e=qe!==null&&qe.next!==null,An=0,Ge=qe=Ie=null,Wo=!1,e)throw Error(U(300));return t}function Id(){var t=Qi!==0;return Qi=0,t}function ur(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Ie.memoizedState=Ge=t:Ge=Ge.next=t,Ge}function Vt(){if(qe===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=qe.next;var e=Ge===null?Ie.memoizedState:Ge.next;if(e!==null)Ge=e,qe=t;else{if(t===null)throw Error(U(310));qe=t,t={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Ge===null?Ie.memoizedState=Ge=t:Ge=Ge.next=t}return Ge}function Yi(t,e){return typeof e=="function"?e(t):e}function dc(t){var e=Vt(),r=e.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=t;var n=qe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((An&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=n):c=c.next=h,Ie.lanes|=d,In|=d}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=l,ar(n,e.memoizedState)||(yt=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,Ie.lanes|=i,In|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function hc(t){var e=Vt(),r=e.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);ar(i,e.memoizedState)||(yt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function _g(){}function Sg(t,e){var r=Ie,n=Vt(),s=e(),i=!ar(n.memoizedState,s);if(i&&(n.memoizedState=s,yt=!0),n=n.queue,Dd(Eg.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Ge!==null&&Ge.memoizedState.tag&1){if(r.flags|=2048,Xi(9,kg.bind(null,r,n,s,e),void 0,null),Je===null)throw Error(U(349));An&30||Ng(r,e,s)}return s}function Ng(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function kg(t,e,r,n){e.value=r,e.getSnapshot=n,Cg(e)&&Pg(t)}function Eg(t,e,r){return r(function(){Cg(e)&&Pg(t)})}function Cg(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ar(t,r)}catch{return!0}}function Pg(t){var e=Er(t,1);e!==null&&ir(e,t,1,-1)}function cf(t){var e=ur();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:t},e.queue=t,t=t.dispatch=Qw.bind(null,Ie,t),[e.memoizedState,t]}function Xi(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Rg(){return Vt().memoizedState}function xo(t,e,r,n){var s=ur();Ie.flags|=t,s.memoizedState=Xi(1|e,r,void 0,n===void 0?null:n)}function jl(t,e,r,n){var s=Vt();n=n===void 0?null:n;var i=void 0;if(qe!==null){var a=qe.memoizedState;if(i=a.destroy,n!==null&&Ld(n,a.deps)){s.memoizedState=Xi(e,r,i,n);return}}Ie.flags|=t,s.memoizedState=Xi(1|e,r,i,n)}function uf(t,e){return xo(8390656,8,t,e)}function Dd(t,e){return jl(2048,8,t,e)}function Og(t,e){return jl(4,2,t,e)}function Tg(t,e){return jl(4,4,t,e)}function Lg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ag(t,e,r){return r=r!=null?r.concat([t]):null,jl(4,4,Lg.bind(null,e,t),r)}function $d(){}function Ig(t,e){var r=Vt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ld(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Dg(t,e){var r=Vt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ld(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function $g(t,e,r){return An&21?(ar(r,e)||(r=Bp(),Ie.lanes|=r,In|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yt=!0),t.memoizedState=r)}function Gw(t,e){var r=be;be=r!==0&&4>r?r:4,t(!0);var n=uc.transition;uc.transition={};try{t(!1),e()}finally{be=r,uc.transition=n}}function Mg(){return Vt().memoizedState}function Jw(t,e,r){var n=Qr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},zg(t))Ug(e,r);else if(r=wg(t,e,r,n),r!==null){var s=ct();ir(r,t,n,s),Fg(r,e,n)}}function Qw(t,e,r){var n=Qr(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(zg(t))Ug(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,ar(l,a)){var c=e.interleaved;c===null?(s.next=s,Cd(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=wg(t,e,s,n),r!==null&&(s=ct(),ir(r,t,n,s),Fg(r,e,n))}}function zg(t){var e=t.alternate;return t===Ie||e!==null&&e===Ie}function Ug(t,e){ki=Wo=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Fg(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,md(t,r)}}var Ko={readContext:Ht,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},Yw={readContext:Ht,useCallback:function(t,e){return ur().memoizedState=[t,e===void 0?null:e],t},useContext:Ht,useEffect:uf,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,xo(4194308,4,Lg.bind(null,e,t),r)},useLayoutEffect:function(t,e){return xo(4194308,4,t,e)},useInsertionEffect:function(t,e){return xo(4,2,t,e)},useMemo:function(t,e){var r=ur();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ur();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Jw.bind(null,Ie,t),[n.memoizedState,t]},useRef:function(t){var e=ur();return t={current:t},e.memoizedState=t},useState:cf,useDebugValue:$d,useDeferredValue:function(t){return ur().memoizedState=t},useTransition:function(){var t=cf(!1),e=t[0];return t=Gw.bind(null,t[1]),ur().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ie,s=ur();if(Te){if(r===void 0)throw Error(U(407));r=r()}else{if(r=e(),Je===null)throw Error(U(349));An&30||Ng(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,uf(Eg.bind(null,n,i,t),[t]),n.flags|=2048,Xi(9,kg.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=ur(),e=Je.identifierPrefix;if(Te){var r=_r,n=jr;r=(n&~(1<<32-sr(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Qi++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Kw++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Xw={readContext:Ht,useCallback:Ig,useContext:Ht,useEffect:Dd,useImperativeHandle:Ag,useInsertionEffect:Og,useLayoutEffect:Tg,useMemo:Dg,useReducer:dc,useRef:Rg,useState:function(){return dc(Yi)},useDebugValue:$d,useDeferredValue:function(t){var e=Vt();return $g(e,qe.memoizedState,t)},useTransition:function(){var t=dc(Yi)[0],e=Vt().memoizedState;return[t,e]},useMutableSource:_g,useSyncExternalStore:Sg,useId:Mg,unstable_isNewReconciler:!1},Zw={readContext:Ht,useCallback:Ig,useContext:Ht,useEffect:Dd,useImperativeHandle:Ag,useInsertionEffect:Og,useLayoutEffect:Tg,useMemo:Dg,useReducer:hc,useRef:Rg,useState:function(){return hc(Yi)},useDebugValue:$d,useDeferredValue:function(t){var e=Vt();return qe===null?e.memoizedState=t:$g(e,qe.memoizedState,t)},useTransition:function(){var t=hc(Yi)[0],e=Vt().memoizedState;return[t,e]},useMutableSource:_g,useSyncExternalStore:Sg,useId:Mg,unstable_isNewReconciler:!1};function Zt(t,e){if(t&&t.defaultProps){e=De({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function fu(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:De({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var _l={isMounted:function(t){return(t=t._reactInternals)?Hn(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ct(),s=Qr(t),i=Sr(n,s);i.payload=e,r!=null&&(i.callback=r),e=Gr(t,i,s),e!==null&&(ir(e,t,s,n),vo(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ct(),s=Qr(t),i=Sr(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Gr(t,i,s),e!==null&&(ir(e,t,s,n),vo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ct(),n=Qr(t),s=Sr(r,n);s.tag=2,e!=null&&(s.callback=e),e=Gr(t,s,n),e!==null&&(ir(e,t,n,r),vo(e,t,n))}};function df(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!Vi(r,n)||!Vi(s,i):!0}function Bg(t,e,r){var n=!1,s=Zr,i=e.contextType;return typeof i=="object"&&i!==null?i=Ht(i):(s=wt(e)?Tn:it.current,n=e.contextTypes,i=(n=n!=null)?Os(t,s):Zr),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_l,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function hf(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&_l.enqueueReplaceState(e,e.state,null)}function mu(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Pd(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ht(i):(i=wt(e)?Tn:it.current,s.context=Os(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(fu(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&_l.enqueueReplaceState(s,s.state,null),Vo(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Is(t,e){try{var r="",n=e;do r+=Ex(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function fc(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function pu(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var eb=typeof WeakMap=="function"?WeakMap:Map;function Hg(t,e,r){r=Sr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Jo||(Jo=!0,Nu=n),pu(t,e)},r}function Vg(t,e,r){r=Sr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){pu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){pu(t,e),typeof n!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function ff(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new eb;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=mb.bind(null,t,e,r),e.then(t,t))}function mf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function pf(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Sr(-1,1),e.tag=2,Gr(r,e,1))),r.lanes|=1),t)}var tb=Pr.ReactCurrentOwner,yt=!1;function at(t,e,r,n){e.child=t===null?xg(e,null,r,n):Ls(e,t.child,r,n)}function gf(t,e,r,n,s){r=r.render;var i=e.ref;return Ss(e,s),n=Ad(t,e,r,n,i,s),r=Id(),t!==null&&!yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Cr(t,e,s)):(Te&&r&&jd(e),e.flags|=1,at(t,e,n,s),e.child)}function vf(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!qd(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,qg(t,e,i,n,s)):(t=_o(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Vi,r(a,n)&&t.ref===e.ref)return Cr(t,e,s)}return e.flags|=1,t=Yr(i,n),t.ref=e.ref,t.return=e,e.child=t}function qg(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Vi(i,n)&&t.ref===e.ref)if(yt=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(yt=!0);else return e.lanes=t.lanes,Cr(t,e,s)}return gu(t,e,r,n,s)}function Wg(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(ys,kt),kt|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ee(ys,kt),kt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ee(ys,kt),kt|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Ee(ys,kt),kt|=n;return at(t,e,s,r),e.child}function Kg(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function gu(t,e,r,n,s){var i=wt(r)?Tn:it.current;return i=Os(e,i),Ss(e,s),r=Ad(t,e,r,n,i,s),n=Id(),t!==null&&!yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Cr(t,e,s)):(Te&&n&&jd(e),e.flags|=1,at(t,e,r,s),e.child)}function yf(t,e,r,n,s){if(wt(r)){var i=!0;zo(e)}else i=!1;if(Ss(e,s),e.stateNode===null)wo(t,e),Bg(e,r,n),mu(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ht(u):(u=wt(r)?Tn:it.current,u=Os(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&hf(e,a,n,u),Ir=!1;var m=e.memoizedState;a.state=m,Vo(e,n,a,s),c=e.memoizedState,l!==n||m!==c||xt.current||Ir?(typeof d=="function"&&(fu(e,r,d,n),c=e.memoizedState),(l=Ir||df(e,r,l,n,m,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,bg(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Zt(e.type,l),a.props=u,h=e.pendingProps,m=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ht(c):(c=wt(r)?Tn:it.current,c=Os(e,c));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||m!==c)&&hf(e,a,n,c),Ir=!1,m=e.memoizedState,a.state=m,Vo(e,n,a,s);var p=e.memoizedState;l!==h||m!==p||xt.current||Ir?(typeof f=="function"&&(fu(e,r,f,n),p=e.memoizedState),(u=Ir||df(e,r,u,n,m,p,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,p,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,p,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),a.props=n,a.state=p,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return vu(t,e,r,n,i,s)}function vu(t,e,r,n,s,i){Kg(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&rf(e,r,!1),Cr(t,e,i);n=e.stateNode,tb.current=e;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Ls(e,t.child,null,i),e.child=Ls(e,null,l,i)):at(t,e,l,i),e.memoizedState=n.state,s&&rf(e,r,!0),e.child}function Gg(t){var e=t.stateNode;e.pendingContext?tf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&tf(t,e.context,!1),Rd(t,e.containerInfo)}function xf(t,e,r,n,s){return Ts(),Sd(s),e.flags|=256,at(t,e,r,n),e.child}var yu={dehydrated:null,treeContext:null,retryLane:0};function xu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Jg(t,e,r){var n=e.pendingProps,s=Ae.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ee(Ae,s&1),t===null)return du(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=kl(a,n,0,null),t=Pn(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=xu(r),e.memoizedState=yu,t):Md(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return rb(t,e,a,n,l,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Yr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Yr(l,i):(i=Pn(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?xu(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=yu,n}return i=t.child,t=i.sibling,n=Yr(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Md(t,e){return e=kl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ka(t,e,r,n){return n!==null&&Sd(n),Ls(e,t.child,null,r),t=Md(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rb(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=fc(Error(U(422))),Ka(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=kl({mode:"visible",children:n.children},s,0,null),i=Pn(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Ls(e,t.child,null,a),e.child.memoizedState=xu(a),e.memoizedState=yu,i);if(!(e.mode&1))return Ka(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(U(419)),n=fc(i,n,void 0),Ka(t,e,a,n)}if(l=(a&t.childLanes)!==0,yt||l){if(n=Je,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Er(t,s),ir(n,t,s,-1))}return Vd(),n=fc(Error(U(421))),Ka(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=pb.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Rt=Kr(s.nextSibling),Ot=e,Te=!0,nr=null,t!==null&&(zt[Ut++]=jr,zt[Ut++]=_r,zt[Ut++]=Ln,jr=t.id,_r=t.overflow,Ln=e),e=Md(e,n.children),e.flags|=4096,e)}function wf(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),hu(t.return,e,r)}function mc(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Qg(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(at(t,e,n.children,r),n=Ae.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wf(t,r,e);else if(t.tag===19)wf(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ee(Ae,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&qo(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),mc(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&qo(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}mc(e,!0,r,null,i);break;case"together":mc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Cr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),In|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,r=Yr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Yr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function nb(t,e,r){switch(e.tag){case 3:Gg(e),Ts();break;case 5:jg(e);break;case 1:wt(e.type)&&zo(e);break;case 4:Rd(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Ee(Bo,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ee(Ae,Ae.current&1),e.flags|=128,null):r&e.child.childLanes?Jg(t,e,r):(Ee(Ae,Ae.current&1),t=Cr(t,e,r),t!==null?t.sibling:null);Ee(Ae,Ae.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Qg(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ee(Ae,Ae.current),n)break;return null;case 22:case 23:return e.lanes=0,Wg(t,e,r)}return Cr(t,e,r)}var Yg,wu,Xg,Zg;Yg=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};wu=function(){};Xg=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,_n(mr.current);var i=null;switch(r){case"input":s=Bc(t,s),n=Bc(t,n),i=[];break;case"select":s=De({},s,{value:void 0}),n=De({},n,{value:void 0}),i=[];break;case"textarea":s=qc(t,s),n=qc(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=$o)}Kc(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($i.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($i.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Re("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Zg=function(t,e,r,n){r!==n&&(e.flags|=4)};function ai(t,e){if(!Te)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function sb(t,e,r){var n=e.pendingProps;switch(_d(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(e),null;case 1:return wt(e.type)&&Mo(),nt(e),null;case 3:return n=e.stateNode,As(),Oe(xt),Oe(it),Td(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(qa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nr!==null&&(Cu(nr),nr=null))),wu(t,e),nt(e),null;case 5:Od(e);var s=_n(Ji.current);if(r=e.type,t!==null&&e.stateNode!=null)Xg(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(U(166));return nt(e),null}if(t=_n(mr.current),qa(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[dr]=e,n[Ki]=i,t=(e.mode&1)!==0,r){case"dialog":Re("cancel",n),Re("close",n);break;case"iframe":case"object":case"embed":Re("load",n);break;case"video":case"audio":for(s=0;s<pi.length;s++)Re(pi[s],n);break;case"source":Re("error",n);break;case"img":case"image":case"link":Re("error",n),Re("load",n);break;case"details":Re("toggle",n);break;case"input":Ch(n,i),Re("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Re("invalid",n);break;case"textarea":Rh(n,i),Re("invalid",n)}Kc(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Va(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Va(n.textContent,l,t),s=["children",""+l]):$i.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Re("scroll",n)}switch(r){case"input":Da(n),Ph(n,i,!0);break;case"textarea":Da(n),Oh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=$o)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ep(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[dr]=e,t[Ki]=n,Yg(t,e,!1,!1),e.stateNode=t;e:{switch(a=Gc(r,n),r){case"dialog":Re("cancel",t),Re("close",t),s=n;break;case"iframe":case"object":case"embed":Re("load",t),s=n;break;case"video":case"audio":for(s=0;s<pi.length;s++)Re(pi[s],t);s=n;break;case"source":Re("error",t),s=n;break;case"img":case"image":case"link":Re("error",t),Re("load",t),s=n;break;case"details":Re("toggle",t),s=n;break;case"input":Ch(t,n),s=Bc(t,n),Re("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=De({},n,{value:void 0}),Re("invalid",t);break;case"textarea":Rh(t,n),s=qc(t,n),Re("invalid",t);break;default:s=n}Kc(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Rp(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Cp(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Mi(t,c):typeof c=="number"&&Mi(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&($i.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Re("scroll",t):c!=null&&ld(t,i,c,a))}switch(r){case"input":Da(t),Ph(t,n,!1);break;case"textarea":Da(t),Oh(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Xr(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?ws(t,!!n.multiple,i,!1):n.defaultValue!=null&&ws(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=$o)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nt(e),null;case 6:if(t&&e.stateNode!=null)Zg(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(U(166));if(r=_n(Ji.current),_n(mr.current),qa(e)){if(n=e.stateNode,r=e.memoizedProps,n[dr]=e,(i=n.nodeValue!==r)&&(t=Ot,t!==null))switch(t.tag){case 3:Va(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Va(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[dr]=e,e.stateNode=n}return nt(e),null;case 13:if(Oe(Ae),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Te&&Rt!==null&&e.mode&1&&!(e.flags&128))vg(),Ts(),e.flags|=98560,i=!1;else if(i=qa(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[dr]=e}else Ts(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nt(e),i=!1}else nr!==null&&(Cu(nr),nr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ae.current&1?We===0&&(We=3):Vd())),e.updateQueue!==null&&(e.flags|=4),nt(e),null);case 4:return As(),wu(t,e),t===null&&qi(e.stateNode.containerInfo),nt(e),null;case 10:return Ed(e.type._context),nt(e),null;case 17:return wt(e.type)&&Mo(),nt(e),null;case 19:if(Oe(Ae),i=e.memoizedState,i===null)return nt(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)ai(i,!1);else{if(We!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=qo(t),a!==null){for(e.flags|=128,ai(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ee(Ae,Ae.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ue()>Ds&&(e.flags|=128,n=!0,ai(i,!1),e.lanes=4194304)}else{if(!n)if(t=qo(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ai(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Te)return nt(e),null}else 2*Ue()-i.renderingStartTime>Ds&&r!==1073741824&&(e.flags|=128,n=!0,ai(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ue(),e.sibling=null,r=Ae.current,Ee(Ae,n?r&1|2:r&1),e):(nt(e),null);case 22:case 23:return Hd(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?kt&1073741824&&(nt(e),e.subtreeFlags&6&&(e.flags|=8192)):nt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function ib(t,e){switch(_d(e),e.tag){case 1:return wt(e.type)&&Mo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return As(),Oe(xt),Oe(it),Td(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Od(e),null;case 13:if(Oe(Ae),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Ts()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Oe(Ae),null;case 4:return As(),null;case 10:return Ed(e.type._context),null;case 22:case 23:return Hd(),null;case 24:return null;default:return null}}var Ga=!1,st=!1,ab=typeof WeakSet=="function"?WeakSet:Set,W=null;function vs(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Me(t,e,n)}else r.current=null}function bu(t,e,r){try{r()}catch(n){Me(t,e,n)}}var bf=!1;function ob(t,e){if(su=Ao,t=sg(),bd(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=t,m=null;t:for(;;){for(var f;h!==r||s!==0&&h.nodeType!==3||(l=a+s),h!==i||n!==0&&h.nodeType!==3||(c=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(f=h.firstChild)!==null;)m=h,h=f;for(;;){if(h===t)break t;if(m===r&&++u===s&&(l=a),m===i&&++d===n&&(c=a),(f=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(iu={focusedElem:t,selectionRange:r},Ao=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,w=p.memoizedState,v=e.stateNode,g=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:Zt(e.type,y),w);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(_){Me(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return p=bf,bf=!1,p}function Ei(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&bu(e,r,i)}s=s.next}while(s!==n)}}function Sl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function ju(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function e0(t){var e=t.alternate;e!==null&&(t.alternate=null,e0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dr],delete e[Ki],delete e[lu],delete e[Hw],delete e[Vw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function t0(t){return t.tag===5||t.tag===3||t.tag===4}function jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||t0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _u(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=$o));else if(n!==4&&(t=t.child,t!==null))for(_u(t,e,r),t=t.sibling;t!==null;)_u(t,e,r),t=t.sibling}function Su(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Su(t,e,r),t=t.sibling;t!==null;)Su(t,e,r),t=t.sibling}var Xe=null,tr=!1;function Tr(t,e,r){for(r=r.child;r!==null;)r0(t,e,r),r=r.sibling}function r0(t,e,r){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(gl,r)}catch{}switch(r.tag){case 5:st||vs(r,e);case 6:var n=Xe,s=tr;Xe=null,Tr(t,e,r),Xe=n,tr=s,Xe!==null&&(tr?(t=Xe,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Xe.removeChild(r.stateNode));break;case 18:Xe!==null&&(tr?(t=Xe,r=r.stateNode,t.nodeType===8?oc(t.parentNode,r):t.nodeType===1&&oc(t,r),Bi(t)):oc(Xe,r.stateNode));break;case 4:n=Xe,s=tr,Xe=r.stateNode.containerInfo,tr=!0,Tr(t,e,r),Xe=n,tr=s;break;case 0:case 11:case 14:case 15:if(!st&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&bu(r,e,a),s=s.next}while(s!==n)}Tr(t,e,r);break;case 1:if(!st&&(vs(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Me(r,e,l)}Tr(t,e,r);break;case 21:Tr(t,e,r);break;case 22:r.mode&1?(st=(n=st)||r.memoizedState!==null,Tr(t,e,r),st=n):Tr(t,e,r);break;default:Tr(t,e,r)}}function _f(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new ab),e.forEach(function(n){var s=gb.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Yt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Xe=l.stateNode,tr=!1;break e;case 3:Xe=l.stateNode.containerInfo,tr=!0;break e;case 4:Xe=l.stateNode.containerInfo,tr=!0;break e}l=l.return}if(Xe===null)throw Error(U(160));r0(i,a,s),Xe=null,tr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Me(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)n0(e,t),e=e.sibling}function n0(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yt(e,t),cr(t),n&4){try{Ei(3,t,t.return),Sl(3,t)}catch(y){Me(t,t.return,y)}try{Ei(5,t,t.return)}catch(y){Me(t,t.return,y)}}break;case 1:Yt(e,t),cr(t),n&512&&r!==null&&vs(r,r.return);break;case 5:if(Yt(e,t),cr(t),n&512&&r!==null&&vs(r,r.return),t.flags&32){var s=t.stateNode;try{Mi(s,"")}catch(y){Me(t,t.return,y)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Np(s,i),Gc(l,a);var u=Gc(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?Rp(s,h):d==="dangerouslySetInnerHTML"?Cp(s,h):d==="children"?Mi(s,h):ld(s,d,h,u)}switch(l){case"input":Hc(s,i);break;case"textarea":kp(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?ws(s,!!i.multiple,f,!1):m!==!!i.multiple&&(i.defaultValue!=null?ws(s,!!i.multiple,i.defaultValue,!0):ws(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ki]=i}catch(y){Me(t,t.return,y)}}break;case 6:if(Yt(e,t),cr(t),n&4){if(t.stateNode===null)throw Error(U(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){Me(t,t.return,y)}}break;case 3:if(Yt(e,t),cr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Bi(e.containerInfo)}catch(y){Me(t,t.return,y)}break;case 4:Yt(e,t),cr(t);break;case 13:Yt(e,t),cr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Fd=Ue())),n&4&&_f(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(st=(u=st)||d,Yt(e,t),st=u):Yt(e,t),cr(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(W=t,d=t.child;d!==null;){for(h=W=d;W!==null;){switch(m=W,f=m.child,m.tag){case 0:case 11:case 14:case 15:Ei(4,m,m.return);break;case 1:vs(m,m.return);var p=m.stateNode;if(typeof p.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(y){Me(n,r,y)}}break;case 5:vs(m,m.return);break;case 22:if(m.memoizedState!==null){Nf(h);continue}}f!==null?(f.return=m,W=f):Nf(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Pp("display",a))}catch(y){Me(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Me(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Yt(e,t),cr(t),n&4&&_f(t);break;case 21:break;default:Yt(e,t),cr(t)}}function cr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(t0(r)){var n=r;break e}r=r.return}throw Error(U(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Mi(s,""),n.flags&=-33);var i=jf(t);Su(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=jf(t);_u(t,l,a);break;default:throw Error(U(161))}}catch(c){Me(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lb(t,e,r){W=t,s0(t)}function s0(t,e,r){for(var n=(t.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Ga;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||st;l=Ga;var u=st;if(Ga=a,(st=c)&&!u)for(W=s;W!==null;)a=W,c=a.child,a.tag===22&&a.memoizedState!==null?kf(s):c!==null?(c.return=a,W=c):kf(s);for(;i!==null;)W=i,s0(i),i=i.sibling;W=s,Ga=l,st=u}Sf(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):Sf(t)}}function Sf(t){for(;W!==null;){var e=W;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:st||Sl(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!st)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Zt(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&lf(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}lf(e,a,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Bi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}st||e.flags&512&&ju(e)}catch(m){Me(e,e.return,m)}}if(e===t){W=null;break}if(r=e.sibling,r!==null){r.return=e.return,W=r;break}W=e.return}}function Nf(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var r=e.sibling;if(r!==null){r.return=e.return,W=r;break}W=e.return}}function kf(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Sl(4,e)}catch(c){Me(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){Me(e,s,c)}}var i=e.return;try{ju(e)}catch(c){Me(e,i,c)}break;case 5:var a=e.return;try{ju(e)}catch(c){Me(e,a,c)}}}catch(c){Me(e,e.return,c)}if(e===t){W=null;break}var l=e.sibling;if(l!==null){l.return=e.return,W=l;break}W=e.return}}var cb=Math.ceil,Go=Pr.ReactCurrentDispatcher,zd=Pr.ReactCurrentOwner,Bt=Pr.ReactCurrentBatchConfig,xe=0,Je=null,Be=null,Ze=0,kt=0,ys=rn(0),We=0,Zi=null,In=0,Nl=0,Ud=0,Ci=null,vt=null,Fd=0,Ds=1/0,xr=null,Jo=!1,Nu=null,Jr=null,Ja=!1,Br=null,Qo=0,Pi=0,ku=null,bo=-1,jo=0;function ct(){return xe&6?Ue():bo!==-1?bo:bo=Ue()}function Qr(t){return t.mode&1?xe&2&&Ze!==0?Ze&-Ze:Ww.transition!==null?(jo===0&&(jo=Bp()),jo):(t=be,t!==0||(t=window.event,t=t===void 0?16:Jp(t.type)),t):1}function ir(t,e,r,n){if(50<Pi)throw Pi=0,ku=null,Error(U(185));fa(t,r,n),(!(xe&2)||t!==Je)&&(t===Je&&(!(xe&2)&&(Nl|=r),We===4&&$r(t,Ze)),bt(t,n),r===1&&xe===0&&!(e.mode&1)&&(Ds=Ue()+500,bl&&nn()))}function bt(t,e){var r=t.callbackNode;Wx(t,e);var n=Lo(t,t===Je?Ze:0);if(n===0)r!==null&&Ah(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Ah(r),e===1)t.tag===0?qw(Ef.bind(null,t)):mg(Ef.bind(null,t)),Fw(function(){!(xe&6)&&nn()}),r=null;else{switch(Hp(n)){case 1:r=fd;break;case 4:r=Up;break;case 16:r=To;break;case 536870912:r=Fp;break;default:r=To}r=h0(r,i0.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function i0(t,e){if(bo=-1,jo=0,xe&6)throw Error(U(327));var r=t.callbackNode;if(Ns()&&t.callbackNode!==r)return null;var n=Lo(t,t===Je?Ze:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Yo(t,n);else{e=n;var s=xe;xe|=2;var i=o0();(Je!==t||Ze!==e)&&(xr=null,Ds=Ue()+500,Cn(t,e));do try{hb();break}catch(l){a0(t,l)}while(!0);kd(),Go.current=i,xe=s,Be!==null?e=0:(Je=null,Ze=0,e=We)}if(e!==0){if(e===2&&(s=Zc(t),s!==0&&(n=s,e=Eu(t,s))),e===1)throw r=Zi,Cn(t,0),$r(t,n),bt(t,Ue()),r;if(e===6)$r(t,n);else{if(s=t.current.alternate,!(n&30)&&!ub(s)&&(e=Yo(t,n),e===2&&(i=Zc(t),i!==0&&(n=i,e=Eu(t,i))),e===1))throw r=Zi,Cn(t,0),$r(t,n),bt(t,Ue()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(U(345));case 2:gn(t,vt,xr);break;case 3:if($r(t,n),(n&130023424)===n&&(e=Fd+500-Ue(),10<e)){if(Lo(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){ct(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ou(gn.bind(null,t,vt,xr),e);break}gn(t,vt,xr);break;case 4:if($r(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-sr(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=Ue()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*cb(n/1960))-n,10<n){t.timeoutHandle=ou(gn.bind(null,t,vt,xr),n);break}gn(t,vt,xr);break;case 5:gn(t,vt,xr);break;default:throw Error(U(329))}}}return bt(t,Ue()),t.callbackNode===r?i0.bind(null,t):null}function Eu(t,e){var r=Ci;return t.current.memoizedState.isDehydrated&&(Cn(t,e).flags|=256),t=Yo(t,e),t!==2&&(e=vt,vt=r,e!==null&&Cu(e)),t}function Cu(t){vt===null?vt=t:vt.push.apply(vt,t)}function ub(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ar(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $r(t,e){for(e&=~Ud,e&=~Nl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-sr(e),n=1<<r;t[r]=-1,e&=~n}}function Ef(t){if(xe&6)throw Error(U(327));Ns();var e=Lo(t,0);if(!(e&1))return bt(t,Ue()),null;var r=Yo(t,e);if(t.tag!==0&&r===2){var n=Zc(t);n!==0&&(e=n,r=Eu(t,n))}if(r===1)throw r=Zi,Cn(t,0),$r(t,e),bt(t,Ue()),r;if(r===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,gn(t,vt,xr),bt(t,Ue()),null}function Bd(t,e){var r=xe;xe|=1;try{return t(e)}finally{xe=r,xe===0&&(Ds=Ue()+500,bl&&nn())}}function Dn(t){Br!==null&&Br.tag===0&&!(xe&6)&&Ns();var e=xe;xe|=1;var r=Bt.transition,n=be;try{if(Bt.transition=null,be=1,t)return t()}finally{be=n,Bt.transition=r,xe=e,!(xe&6)&&nn()}}function Hd(){kt=ys.current,Oe(ys)}function Cn(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Uw(r)),Be!==null)for(r=Be.return;r!==null;){var n=r;switch(_d(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Mo();break;case 3:As(),Oe(xt),Oe(it),Td();break;case 5:Od(n);break;case 4:As();break;case 13:Oe(Ae);break;case 19:Oe(Ae);break;case 10:Ed(n.type._context);break;case 22:case 23:Hd()}r=r.return}if(Je=t,Be=t=Yr(t.current,null),Ze=kt=e,We=0,Zi=null,Ud=Nl=In=0,vt=Ci=null,jn!==null){for(e=0;e<jn.length;e++)if(r=jn[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}jn=null}return t}function a0(t,e){do{var r=Be;try{if(kd(),yo.current=Ko,Wo){for(var n=Ie.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Wo=!1}if(An=0,Ge=qe=Ie=null,ki=!1,Qi=0,zd.current=null,r===null||r.return===null){We=1,Zi=e,Be=null;break}e:{var i=t,a=r.return,l=r,c=e;if(e=Ze,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=mf(a);if(f!==null){f.flags&=-257,pf(f,a,l,i,e),f.mode&1&&ff(i,u,e),e=f,c=u;var p=e.updateQueue;if(p===null){var y=new Set;y.add(c),e.updateQueue=y}else p.add(c);break e}else{if(!(e&1)){ff(i,u,e),Vd();break e}c=Error(U(426))}}else if(Te&&l.mode&1){var w=mf(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),pf(w,a,l,i,e),Sd(Is(c,l));break e}}i=c=Is(c,l),We!==4&&(We=2),Ci===null?Ci=[i]:Ci.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=Hg(i,c,e);of(i,v);break e;case 1:l=c;var g=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Jr===null||!Jr.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=Vg(i,l,e);of(i,_);break e}}i=i.return}while(i!==null)}c0(r)}catch(N){e=N,Be===r&&r!==null&&(Be=r=r.return);continue}break}while(!0)}function o0(){var t=Go.current;return Go.current=Ko,t===null?Ko:t}function Vd(){(We===0||We===3||We===2)&&(We=4),Je===null||!(In&268435455)&&!(Nl&268435455)||$r(Je,Ze)}function Yo(t,e){var r=xe;xe|=2;var n=o0();(Je!==t||Ze!==e)&&(xr=null,Cn(t,e));do try{db();break}catch(s){a0(t,s)}while(!0);if(kd(),xe=r,Go.current=n,Be!==null)throw Error(U(261));return Je=null,Ze=0,We}function db(){for(;Be!==null;)l0(Be)}function hb(){for(;Be!==null&&!$x();)l0(Be)}function l0(t){var e=d0(t.alternate,t,kt);t.memoizedProps=t.pendingProps,e===null?c0(t):Be=e,zd.current=null}function c0(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=ib(r,e),r!==null){r.flags&=32767,Be=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{We=6,Be=null;return}}else if(r=sb(r,e,kt),r!==null){Be=r;return}if(e=e.sibling,e!==null){Be=e;return}Be=e=t}while(e!==null);We===0&&(We=5)}function gn(t,e,r){var n=be,s=Bt.transition;try{Bt.transition=null,be=1,fb(t,e,r,n)}finally{Bt.transition=s,be=n}return null}function fb(t,e,r,n){do Ns();while(Br!==null);if(xe&6)throw Error(U(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Kx(t,i),t===Je&&(Be=Je=null,Ze=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ja||(Ja=!0,h0(To,function(){return Ns(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Bt.transition,Bt.transition=null;var a=be;be=1;var l=xe;xe|=4,zd.current=null,ob(t,r),n0(r,t),Lw(iu),Ao=!!su,iu=su=null,t.current=r,lb(r),Mx(),xe=l,be=a,Bt.transition=i}else t.current=r;if(Ja&&(Ja=!1,Br=t,Qo=s),i=t.pendingLanes,i===0&&(Jr=null),Fx(r.stateNode),bt(t,Ue()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Jo)throw Jo=!1,t=Nu,Nu=null,t;return Qo&1&&t.tag!==0&&Ns(),i=t.pendingLanes,i&1?t===ku?Pi++:(Pi=0,ku=t):Pi=0,nn(),null}function Ns(){if(Br!==null){var t=Hp(Qo),e=Bt.transition,r=be;try{if(Bt.transition=null,be=16>t?16:t,Br===null)var n=!1;else{if(t=Br,Br=null,Qo=0,xe&6)throw Error(U(331));var s=xe;for(xe|=4,W=t.current;W!==null;){var i=W,a=i.child;if(W.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(W=u;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:Ei(8,d,i)}var h=d.child;if(h!==null)h.return=d,W=h;else for(;W!==null;){d=W;var m=d.sibling,f=d.return;if(e0(d),d===u){W=null;break}if(m!==null){m.return=f,W=m;break}W=f}}}var p=i.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}W=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,W=a;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ei(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,W=v;break e}W=i.return}}var g=t.current;for(W=g;W!==null;){a=W;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,W=x;else e:for(a=g;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Sl(9,l)}}catch(N){Me(l,l.return,N)}if(l===a){W=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,W=_;break e}W=l.return}}if(xe=s,nn(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(gl,t)}catch{}n=!0}return n}finally{be=r,Bt.transition=e}}return!1}function Cf(t,e,r){e=Is(r,e),e=Hg(t,e,1),t=Gr(t,e,1),e=ct(),t!==null&&(fa(t,1,e),bt(t,e))}function Me(t,e,r){if(t.tag===3)Cf(t,t,r);else for(;e!==null;){if(e.tag===3){Cf(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Jr===null||!Jr.has(n))){t=Is(r,t),t=Vg(e,t,1),e=Gr(e,t,1),t=ct(),e!==null&&(fa(e,1,t),bt(e,t));break}}e=e.return}}function mb(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ct(),t.pingedLanes|=t.suspendedLanes&r,Je===t&&(Ze&r)===r&&(We===4||We===3&&(Ze&130023424)===Ze&&500>Ue()-Fd?Cn(t,0):Ud|=r),bt(t,e)}function u0(t,e){e===0&&(t.mode&1?(e=za,za<<=1,!(za&130023424)&&(za=4194304)):e=1);var r=ct();t=Er(t,e),t!==null&&(fa(t,e,r),bt(t,r))}function pb(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),u0(t,r)}function gb(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(U(314))}n!==null&&n.delete(e),u0(t,r)}var d0;d0=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||xt.current)yt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return yt=!1,nb(t,e,r);yt=!!(t.flags&131072)}else yt=!1,Te&&e.flags&1048576&&pg(e,Fo,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;wo(t,e),t=e.pendingProps;var s=Os(e,it.current);Ss(e,r),s=Ad(null,e,n,t,s,r);var i=Id();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wt(n)?(i=!0,zo(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Pd(e),s.updater=_l,e.stateNode=s,s._reactInternals=e,mu(e,n,t,r),e=vu(null,e,n,!0,i,r)):(e.tag=0,Te&&i&&jd(e),at(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(wo(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=yb(n),t=Zt(n,t),s){case 0:e=gu(null,e,n,t,r);break e;case 1:e=yf(null,e,n,t,r);break e;case 11:e=gf(null,e,n,t,r);break e;case 14:e=vf(null,e,n,Zt(n.type,t),r);break e}throw Error(U(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Zt(n,s),gu(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Zt(n,s),yf(t,e,n,s,r);case 3:e:{if(Gg(e),t===null)throw Error(U(387));n=e.pendingProps,i=e.memoizedState,s=i.element,bg(t,e),Vo(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Is(Error(U(423)),e),e=xf(t,e,n,r,s);break e}else if(n!==s){s=Is(Error(U(424)),e),e=xf(t,e,n,r,s);break e}else for(Rt=Kr(e.stateNode.containerInfo.firstChild),Ot=e,Te=!0,nr=null,r=xg(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ts(),n===s){e=Cr(t,e,r);break e}at(t,e,n,r)}e=e.child}return e;case 5:return jg(e),t===null&&du(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,au(n,s)?a=null:i!==null&&au(n,i)&&(e.flags|=32),Kg(t,e),at(t,e,a,r),e.child;case 6:return t===null&&du(e),null;case 13:return Jg(t,e,r);case 4:return Rd(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ls(e,null,n,r):at(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Zt(n,s),gf(t,e,n,s,r);case 7:return at(t,e,e.pendingProps,r),e.child;case 8:return at(t,e,e.pendingProps.children,r),e.child;case 12:return at(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Ee(Bo,n._currentValue),n._currentValue=a,i!==null)if(ar(i.value,a)){if(i.children===s.children&&!xt.current){e=Cr(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Sr(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),hu(i.return,r,e),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(U(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),hu(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}at(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Ss(e,r),s=Ht(s),n=n(s),e.flags|=1,at(t,e,n,r),e.child;case 14:return n=e.type,s=Zt(n,e.pendingProps),s=Zt(n.type,s),vf(t,e,n,s,r);case 15:return qg(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Zt(n,s),wo(t,e),e.tag=1,wt(n)?(t=!0,zo(e)):t=!1,Ss(e,r),Bg(e,n,s),mu(e,n,s,r),vu(null,e,n,!0,t,r);case 19:return Qg(t,e,r);case 22:return Wg(t,e,r)}throw Error(U(156,e.tag))};function h0(t,e){return zp(t,e)}function vb(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(t,e,r,n){return new vb(t,e,r,n)}function qd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yb(t){if(typeof t=="function")return qd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ud)return 11;if(t===dd)return 14}return 2}function Yr(t,e){var r=t.alternate;return r===null?(r=Ft(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function _o(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")qd(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ls:return Pn(r.children,s,i,e);case cd:a=8,s|=8;break;case Mc:return t=Ft(12,r,e,s|2),t.elementType=Mc,t.lanes=i,t;case zc:return t=Ft(13,r,e,s),t.elementType=zc,t.lanes=i,t;case Uc:return t=Ft(19,r,e,s),t.elementType=Uc,t.lanes=i,t;case jp:return kl(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wp:a=10;break e;case bp:a=9;break e;case ud:a=11;break e;case dd:a=14;break e;case Ar:a=16,n=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Ft(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Pn(t,e,r,n){return t=Ft(7,t,n,e),t.lanes=r,t}function kl(t,e,r,n){return t=Ft(22,t,n,e),t.elementType=jp,t.lanes=r,t.stateNode={isHidden:!1},t}function pc(t,e,r){return t=Ft(6,t,null,e),t.lanes=r,t}function gc(t,e,r){return e=Ft(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xb(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ql(0),this.expirationTimes=Ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ql(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Wd(t,e,r,n,s,i,a,l,c){return t=new xb(t,e,r,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ft(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pd(i),t}function wb(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:os,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function f0(t){if(!t)return Zr;t=t._reactInternals;e:{if(Hn(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var r=t.type;if(wt(r))return fg(t,r,e)}return e}function m0(t,e,r,n,s,i,a,l,c){return t=Wd(r,n,!0,t,s,i,a,l,c),t.context=f0(null),r=t.current,n=ct(),s=Qr(r),i=Sr(n,s),i.callback=e??null,Gr(r,i,s),t.current.lanes=s,fa(t,s,n),bt(t,n),t}function El(t,e,r,n){var s=e.current,i=ct(),a=Qr(s);return r=f0(r),e.context===null?e.context=r:e.pendingContext=r,e=Sr(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Gr(s,e,a),t!==null&&(ir(t,s,a,i),vo(t,s,a)),a}function Xo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Pf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Kd(t,e){Pf(t,e),(t=t.alternate)&&Pf(t,e)}function bb(){return null}var p0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gd(t){this._internalRoot=t}Cl.prototype.render=Gd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));El(t,e,null,null)};Cl.prototype.unmount=Gd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Dn(function(){El(null,t,null,null)}),e[kr]=null}};function Cl(t){this._internalRoot=t}Cl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Wp();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Dr.length&&e!==0&&e<Dr[r].priority;r++);Dr.splice(r,0,t),r===0&&Gp(t)}};function Jd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Rf(){}function jb(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Xo(a);i.call(u)}}var a=m0(e,n,t,0,null,!1,!1,"",Rf);return t._reactRootContainer=a,t[kr]=a.current,qi(t.nodeType===8?t.parentNode:t),Dn(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Xo(c);l.call(u)}}var c=Wd(t,0,!1,null,null,!1,!1,"",Rf);return t._reactRootContainer=c,t[kr]=c.current,qi(t.nodeType===8?t.parentNode:t),Dn(function(){El(e,c,r,n)}),c}function Rl(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Xo(a);l.call(c)}}El(e,a,t,s)}else a=jb(r,e,t,s,n);return Xo(a)}Vp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=mi(e.pendingLanes);r!==0&&(md(e,r|1),bt(e,Ue()),!(xe&6)&&(Ds=Ue()+500,nn()))}break;case 13:Dn(function(){var n=Er(t,1);if(n!==null){var s=ct();ir(n,t,1,s)}}),Kd(t,1)}};pd=function(t){if(t.tag===13){var e=Er(t,134217728);if(e!==null){var r=ct();ir(e,t,134217728,r)}Kd(t,134217728)}};qp=function(t){if(t.tag===13){var e=Qr(t),r=Er(t,e);if(r!==null){var n=ct();ir(r,t,e,n)}Kd(t,e)}};Wp=function(){return be};Kp=function(t,e){var r=be;try{return be=t,e()}finally{be=r}};Qc=function(t,e,r){switch(e){case"input":if(Hc(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=wl(n);if(!s)throw Error(U(90));Sp(n),Hc(n,s)}}}break;case"textarea":kp(t,r);break;case"select":e=r.value,e!=null&&ws(t,!!r.multiple,e,!1)}};Lp=Bd;Ap=Dn;var _b={usingClientEntryPoint:!1,Events:[pa,hs,wl,Op,Tp,Bd]},oi={findFiberByHostInstance:bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sb={bundleType:oi.bundleType,version:oi.version,rendererPackageName:oi.rendererPackageName,rendererConfig:oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$p(t),t===null?null:t.stateNode},findFiberByHostInstance:oi.findFiberByHostInstance||bb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qa.isDisabled&&Qa.supportsFiber)try{gl=Qa.inject(Sb),fr=Qa}catch{}}Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_b;Lt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jd(e))throw Error(U(200));return wb(t,e,null,r)};Lt.createRoot=function(t,e){if(!Jd(t))throw Error(U(299));var r=!1,n="",s=p0;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Wd(t,1,!1,null,null,r,!1,n,s),t[kr]=e.current,qi(t.nodeType===8?t.parentNode:t),new Gd(e)};Lt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=$p(e),t=t===null?null:t.stateNode,t};Lt.flushSync=function(t){return Dn(t)};Lt.hydrate=function(t,e,r){if(!Pl(e))throw Error(U(200));return Rl(null,t,e,!0,r)};Lt.hydrateRoot=function(t,e,r){if(!Jd(t))throw Error(U(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=p0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=m0(e,null,t,1,r??null,s,!1,i,a),t[kr]=e.current,qi(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Cl(e)};Lt.render=function(t,e,r){if(!Pl(e))throw Error(U(200));return Rl(null,t,e,!1,r)};Lt.unmountComponentAtNode=function(t){if(!Pl(t))throw Error(U(40));return t._reactRootContainer?(Dn(function(){Rl(null,null,t,!1,function(){t._reactRootContainer=null,t[kr]=null})}),!0):!1};Lt.unstable_batchedUpdates=Bd;Lt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Pl(r))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Rl(t,e,r,!1,n)};Lt.version="18.3.1-next-f1338f8080-20240426";function g0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g0)}catch(t){console.error(t)}}g0(),gp.exports=Lt;var v0=gp.exports,Of=v0;Dc.createRoot=Of.createRoot,Dc.hydrateRoot=Of.hydrateRoot;/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var y0=t=>{throw TypeError(t)},Nb=(t,e,r)=>e.has(t)||y0("Cannot "+r),vc=(t,e,r)=>(Nb(t,e,"read from private field"),r?r.call(t):e.get(t)),kb=(t,e,r)=>e.has(t)?y0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Tf="popstate";function Eb(t={}){function e(n,s){let{pathname:i,search:a,hash:l}=n.location;return ea("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:gr(s)}return Pb(e,r,null,t)}function fe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ze(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Cb(){return Math.random().toString(36).substring(2,10)}function Lf(t,e){return{usr:t.state,key:t.key,idx:e}}function ea(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?sn(e):e,state:r,key:e&&e.key||n||Cb()}}function gr({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function sn(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function Pb(t,e,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,l="POP",c=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function h(){l="POP";let w=d(),v=w==null?null:w-u;u=w,c&&c({action:l,location:y.location,delta:v})}function m(w,v){l="PUSH";let g=ea(y.location,w,v);u=d()+1;let x=Lf(g,u),_=y.createHref(g);try{a.pushState(x,"",_)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(_)}i&&c&&c({action:l,location:y.location,delta:1})}function f(w,v){l="REPLACE";let g=ea(y.location,w,v);u=d();let x=Lf(g,u),_=y.createHref(g);a.replaceState(x,"",_),i&&c&&c({action:l,location:y.location,delta:0})}function p(w){return x0(w)}let y={get action(){return l},get location(){return t(s,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Tf,h),c=w,()=>{s.removeEventListener(Tf,h),c=null}},createHref(w){return e(s,w)},createURL:p,encodeLocation(w){let v=p(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:f,go(w){return a.go(w)}};return y}function x0(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),fe(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:gr(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}var gi,Af=class{constructor(t){if(kb(this,gi,new Map),t)for(let[e,r]of t)this.set(e,r)}get(t){if(vc(this,gi).has(t))return vc(this,gi).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){vc(this,gi).set(t,e)}};gi=new WeakMap;var Rb=new Set(["lazy","caseSensitive","path","id","index","children"]);function Ob(t){return Rb.has(t)}var Tb=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function Lb(t){return Tb.has(t)}function Ab(t){return t.index===!0}function ta(t,e,r=[],n={},s=!1){return t.map((i,a)=>{let l=[...r,String(a)],c=typeof i.id=="string"?i.id:l.join("-");if(fe(i.index!==!0||!i.children,"Cannot specify children on an index route"),fe(s||!n[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),Ab(i)){let u={...i,id:c};return n[c]=If(u,e(u)),u}else{let u={...i,id:c,children:void 0};return n[c]=If(u,e(u)),i.children&&(u.children=ta(i.children,e,l,n,s)),u}})}function If(t,e){return Object.assign(t,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...t.lazy,...e.lazy}}:{}})}function Mr(t,e,r="/"){return vi(t,e,r,!1)}function vi(t,e,r,n){let s=typeof e=="string"?sn(e):e,i=qt(s.pathname||"/",r);if(i==null)return null;let a=w0(t);Db(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=Kb(i);l=qb(a[c],u,n)}return l}function Ib(t,e){let{route:r,pathname:n,params:s}=t;return{id:r.id,pathname:n,params:s,data:e[r.id],loaderData:e[r.id],handle:r.handle}}function w0(t,e=[],r=[],n="",s=!1){let i=(a,l,c=s,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;fe(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let h=pr([n,d.relativePath]),m=r.concat(d);a.children&&a.children.length>0&&(fe(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),w0(a.children,e,m,h,c)),!(a.path==null&&!a.index)&&e.push({path:h,score:Hb(h,a.index),routesMeta:m})};return t.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let u of b0(a.path))i(a,l,!0,u)}),e}function b0(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=b0(n.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Db(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Vb(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var $b=/^:[\w-]+$/,Mb=3,zb=2,Ub=1,Fb=10,Bb=-2,Df=t=>t==="*";function Hb(t,e){let r=t.split("/"),n=r.length;return r.some(Df)&&(n+=Bb),e&&(n+=zb),r.filter(s=>!Df(s)).reduce((s,i)=>s+($b.test(i)?Mb:i===""?Ub:Fb),n)}function Vb(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function qb(t,e,r=!1){let{routesMeta:n}=t,s={},i="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=Zo({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=Zo({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:pr([i,h.pathname]),pathnameBase:Yb(pr([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=pr([i,h.pathnameBase]))}return a}function Zo(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Wb(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:h},m)=>{if(d==="*"){let p=l[m]||"";a=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const f=l[m];return h&&!f?u[d]=void 0:u[d]=(f||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function Wb(t,e=!1,r=!0){ze(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Kb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ze(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function qt(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Gb({basename:t,pathname:e}){return e==="/"?t:pr([t,e])}var Jb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ol=t=>Jb.test(t);function Qb(t,e="/"){let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?sn(t):t,i;if(r)if(Ol(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),ze(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${r}`)}r.startsWith("/")?i=$f(r.substring(1),"/"):i=$f(r,e)}else i=e;return{pathname:i,search:Xb(n),hash:Zb(s)}}function $f(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function yc(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function j0(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Tl(t){let e=j0(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Ll(t,e,r,n=!1){let s;typeof t=="string"?s=sn(t):(s={...t},fe(!s.pathname||!s.pathname.includes("?"),yc("?","pathname","search",s)),fe(!s.pathname||!s.pathname.includes("#"),yc("#","pathname","hash",s)),fe(!s.search||!s.search.includes("#"),yc("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}l=h>=0?e[h]:"/"}let c=Qb(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var pr=t=>t.join("/").replace(/\/\/+/g,"/"),Yb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Xb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Zb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,el=class{constructor(t,e,r,n=!1){this.status=t,this.statusText=e||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function ra(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Qd(t){return t.filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Hr=Symbol("Uninstrumented");function ej(t,e){let r={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(s=>s({id:e.id,index:e.index,path:e.path,instrument(i){let a=Object.keys(r);for(let l of a)i[l]&&r[l].push(i[l])}}));let n={};if(typeof e.lazy=="function"&&r.lazy.length>0){let s=xs(r.lazy,e.lazy,()=>{});s&&(n.lazy=s)}if(typeof e.lazy=="object"){let s=e.lazy;["middleware","loader","action"].forEach(i=>{let a=s[i],l=r[`lazy.${i}`];if(typeof a=="function"&&l.length>0){let c=xs(l,a,()=>{});c&&(n.lazy=Object.assign(n.lazy||{},{[i]:c}))}})}return["loader","action"].forEach(s=>{let i=e[s];if(typeof i=="function"&&r[s].length>0){let a=i[Hr]??i,l=xs(r[s],a,(...c)=>Mf(c[0]));l&&(l[Hr]=a,n[s]=l)}}),e.middleware&&e.middleware.length>0&&r.middleware.length>0&&(n.middleware=e.middleware.map(s=>{let i=s[Hr]??s,a=xs(r.middleware,i,(...l)=>Mf(l[0]));return a?(a[Hr]=i,a):s})),n}function tj(t,e){let r={navigate:[],fetch:[]};if(e.forEach(n=>n({instrument(s){let i=Object.keys(s);for(let a of i)s[a]&&r[a].push(s[a])}})),r.navigate.length>0){let n=t.navigate[Hr]??t.navigate,s=xs(r.navigate,n,(...i)=>{let[a,l]=i;return{to:typeof a=="number"||typeof a=="string"?a:a?gr(a):".",...zf(t,l??{})}});s&&(s[Hr]=n,t.navigate=s)}if(r.fetch.length>0){let n=t.fetch[Hr]??t.fetch,s=xs(r.fetch,n,(...i)=>{let[a,,l,c]=i;return{href:l??".",fetcherKey:a,...zf(t,c??{})}});s&&(s[Hr]=n,t.fetch=s)}return t}function xs(t,e,r){return t.length===0?null:async(...n)=>{let s=await _0(t,r(...n),()=>e(...n),t.length-1);if(s.type==="error")throw s.value;return s.value}}async function _0(t,e,r,n){let s=t[n],i;if(s){let a,l=async()=>(a?console.error("You cannot call instrumented handlers more than once"):a=_0(t,e,r,n-1),i=await a,fe(i,"Expected a result"),i.type==="error"&&i.value instanceof Error?{status:"error",error:i.value}:{status:"success",error:void 0});try{await s(l,e)}catch(c){console.error("An instrumentation function threw an error:",c)}a||await l(),await a}else try{i={type:"success",value:await r()}}catch(a){i={type:"error",value:a}}return i||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function Mf(t){let{request:e,context:r,params:n,unstable_pattern:s}=t;return{request:rj(e),params:{...n},unstable_pattern:s,context:nj(r)}}function zf(t,e){return{currentUrl:gr(t.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function rj(t){return{method:t.method,url:t.url,headers:{get:(...e)=>t.headers.get(...e)}}}function nj(t){if(ij(t)){let e={...t};return Object.freeze(e),e}else return{get:e=>t.get(e)}}var sj=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ij(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===sj}var S0=["POST","PUT","PATCH","DELETE"],aj=new Set(S0),oj=["GET",...S0],lj=new Set(oj),cj=new Set([301,302,303,307,308]),uj=new Set([307,308]),xc={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},dj={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},li={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},hj=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),N0="remix-router-transitions",k0=Symbol("ResetLoaderData");function fj(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";fe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=t.hydrationRouteProperties||[],s=t.mapRouteProperties||hj,i=s;if(t.unstable_instrumentations){let S=t.unstable_instrumentations;i=k=>({...s(k),...ej(S.map(R=>R.route).filter(Boolean),k)})}let a={},l=ta(t.routes,i,void 0,a),c,u=t.basename||"/";u.startsWith("/")||(u=`/${u}`);let d=t.dataStrategy||yj,h={...t.future},m=null,f=new Set,p=null,y=null,w=null,v=t.hydrationData!=null,g=Mr(l,t.history.location,u),x=!1,_=null,N;if(g==null&&!t.patchRoutesOnNavigation){let S=Mt(404,{pathname:t.history.location.pathname}),{matches:k,route:R}=Ya(l);N=!0,g=k,_={[R.id]:S}}else if(g&&!t.hydrationData&&Pa(g,l,t.history.location.pathname).active&&(g=null),g)if(g.some(S=>S.route.lazy))N=!1;else if(!g.some(S=>Yd(S.route)))N=!0;else{let S=t.hydrationData?t.hydrationData.loaderData:null,k=t.hydrationData?t.hydrationData.errors:null;if(k){let R=g.findIndex(M=>k[M.route.id]!==void 0);N=g.slice(0,R+1).every(M=>!Ru(M.route,S,k))}else N=g.every(R=>!Ru(R.route,S,k))}else{N=!1,g=[];let S=Pa(null,l,t.history.location.pathname);S.active&&S.matches&&(x=!0,g=S.matches)}let P,j={historyAction:t.history.action,location:t.history.location,matches:g,initialized:N,navigation:xc,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||_,fetchers:new Map,blockers:new Map},L="POP",z=!1,E,q=!1,G=new Map,K=null,T=!1,B=!1,ne=new Set,A=new Map,O=0,D=-1,I=new Map,$=new Set,Q=new Map,ve=new Map,ie=new Set,we=new Map,je,H=null;function me(){if(m=t.history.listen(({action:S,location:k,delta:R})=>{if(je){je(),je=void 0;return}ze(we.size===0||R!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let M=Ys({currentLocation:j.location,nextLocation:k,historyAction:S});if(M&&R!=null){let F=new Promise(ee=>{je=ee});t.history.go(R*-1),$t(M,{state:"blocked",location:k,proceed(){$t(M,{state:"proceeding",proceed:void 0,reset:void 0,location:k}),F.then(()=>t.history.go(R))},reset(){let ee=new Map(j.blockers);ee.set(M,li),C({blockers:ee})}});return}return St(S,k)}),r){Lj(e,G);let S=()=>Aj(e,G);e.addEventListener("pagehide",S),K=()=>e.removeEventListener("pagehide",S)}return j.initialized||St("POP",j.location,{initialHydration:!0}),P}function ft(){m&&m(),K&&K(),f.clear(),E&&E.abort(),j.fetchers.forEach((S,k)=>Qs(k)),j.blockers.forEach((S,k)=>Qt(k))}function _t(S){return f.add(S),()=>f.delete(S)}function C(S,k={}){S.matches&&(S.matches=S.matches.map(F=>{let ee=a[F.route.id],te=F.route;return te.element!==ee.element||te.errorElement!==ee.errorElement||te.hydrateFallbackElement!==ee.hydrateFallbackElement?{...F,route:ee}:F})),j={...j,...S};let R=[],M=[];j.fetchers.forEach((F,ee)=>{F.state==="idle"&&(ie.has(ee)?R.push(ee):M.push(ee))}),ie.forEach(F=>{!j.fetchers.has(F)&&!A.has(F)&&R.push(F)}),[...f].forEach(F=>F(j,{deletedFetchers:R,viewTransitionOpts:k.viewTransitionOpts,flushSync:k.flushSync===!0})),R.forEach(F=>Qs(F)),M.forEach(F=>j.fetchers.delete(F))}function de(S,k,{flushSync:R}={}){var ce,se;let M=j.actionData!=null&&j.navigation.formMethod!=null&&ot(j.navigation.formMethod)&&j.navigation.state==="loading"&&((ce=S.state)==null?void 0:ce._isRedirect)!==!0,F;k.actionData?Object.keys(k.actionData).length>0?F=k.actionData:F=null:M?F=j.actionData:F=null;let ee=k.loaderData?Jf(j.loaderData,k.loaderData,k.matches||[],k.errors):j.loaderData,te=j.blockers;te.size>0&&(te=new Map(te),te.forEach((he,Ne)=>te.set(Ne,li)));let Y=T?!1:xh(S,k.matches||j.matches),re=z===!0||j.navigation.formMethod!=null&&ot(j.navigation.formMethod)&&((se=S.state)==null?void 0:se._isRedirect)!==!0;c&&(l=c,c=void 0),T||L==="POP"||(L==="PUSH"?t.history.push(S,S.state):L==="REPLACE"&&t.history.replace(S,S.state));let ae;if(L==="POP"){let he=G.get(j.location.pathname);he&&he.has(S.pathname)?ae={currentLocation:j.location,nextLocation:S}:G.has(S.pathname)&&(ae={currentLocation:S,nextLocation:j.location})}else if(q){let he=G.get(j.location.pathname);he?he.add(S.pathname):(he=new Set([S.pathname]),G.set(j.location.pathname,he)),ae={currentLocation:j.location,nextLocation:S}}C({...k,actionData:F,loaderData:ee,historyAction:L,location:S,initialized:!0,navigation:xc,revalidation:"idle",restoreScrollPosition:Y,preventScrollReset:re,blockers:te},{viewTransitionOpts:ae,flushSync:R===!0}),L="POP",z=!1,q=!1,T=!1,B=!1,H==null||H.resolve(),H=null}async function mt(S,k){if(typeof S=="number"){t.history.go(S);return}let R=Pu(j.location,j.matches,u,S,k==null?void 0:k.fromRouteId,k==null?void 0:k.relative),{path:M,submission:F,error:ee}=Uf(!1,R,k),te=j.location,Y=ea(j.location,M,k&&k.state);Y={...Y,...t.history.encodeLocation(Y)};let re=k&&k.replace!=null?k.replace:void 0,ae="PUSH";re===!0?ae="REPLACE":re===!1||F!=null&&ot(F.formMethod)&&F.formAction===j.location.pathname+j.location.search&&(ae="REPLACE");let ce=k&&"preventScrollReset"in k?k.preventScrollReset===!0:void 0,se=(k&&k.flushSync)===!0,he=Ys({currentLocation:te,nextLocation:Y,historyAction:ae});if(he){$t(he,{state:"blocked",location:Y,proceed(){$t(he,{state:"proceeding",proceed:void 0,reset:void 0,location:Y}),mt(S,k)},reset(){let Ne=new Map(j.blockers);Ne.set(he,li),C({blockers:Ne})}});return}await St(ae,Y,{submission:F,pendingError:ee,preventScrollReset:ce,replace:k&&k.replace,enableViewTransition:k&&k.viewTransition,flushSync:se})}function Se(){H||(H=Ij()),cn(),C({revalidation:"loading"});let S=H.promise;return j.navigation.state==="submitting"?S:j.navigation.state==="idle"?(St(j.historyAction,j.location,{startUninterruptedRevalidation:!0}),S):(St(L||j.historyAction,j.navigation.location,{overrideNavigation:j.navigation,enableViewTransition:q===!0}),S)}async function St(S,k,R){E&&E.abort(),E=null,L=S,T=(R&&R.startUninterruptedRevalidation)===!0,Ky(j.location,j.matches),z=(R&&R.preventScrollReset)===!0,q=(R&&R.enableViewTransition)===!0;let M=c||l,F=R&&R.overrideNavigation,ee=R!=null&&R.initialHydration&&j.matches&&j.matches.length>0&&!x?j.matches:Mr(M,k,u),te=(R&&R.flushSync)===!0;if(ee&&j.initialized&&!B&&kj(j.location,k)&&!(R&&R.submission&&ot(R.submission.formMethod))){de(k,{matches:ee},{flushSync:te});return}let Y=Pa(ee,M,k.pathname);if(Y.active&&Y.matches&&(ee=Y.matches),!ee){let{error:Ke,notFoundMatches:Ce,route:Pe}=Ea(k.pathname);de(k,{matches:Ce,loaderData:{},errors:{[Pe.id]:Ke}},{flushSync:te});return}E=new AbortController;let re=ss(t.history,k,E.signal,R&&R.submission),ae=t.getContext?await t.getContext():new Af,ce;if(R&&R.pendingError)ce=[zr(ee).route.id,{type:"error",error:R.pendingError}];else if(R&&R.submission&&ot(R.submission.formMethod)){let Ke=await Gt(re,k,R.submission,ee,ae,Y.active,R&&R.initialHydration===!0,{replace:R.replace,flushSync:te});if(Ke.shortCircuited)return;if(Ke.pendingActionResult){let[Ce,Pe]=Ke.pendingActionResult;if(Et(Pe)&&ra(Pe.error)&&Pe.error.status===404){E=null,de(k,{matches:Ke.matches,loaderData:{},errors:{[Ce]:Pe.error}});return}}ee=Ke.matches||ee,ce=Ke.pendingActionResult,F=wc(k,R.submission),te=!1,Y.active=!1,re=ss(t.history,re.url,re.signal)}let{shortCircuited:se,matches:he,loaderData:Ne,errors:He}=await Gs(re,k,ee,ae,Y.active,F,R&&R.submission,R&&R.fetcherSubmission,R&&R.replace,R&&R.initialHydration===!0,te,ce);se||(E=null,de(k,{matches:he||ee,...Qf(ce),loaderData:Ne,errors:He}))}async function Gt(S,k,R,M,F,ee,te,Y={}){cn();let re=Oj(k,R);if(C({navigation:re},{flushSync:Y.flushSync===!0}),ee){let se=await Ra(M,k.pathname,S.signal);if(se.type==="aborted")return{shortCircuited:!0};if(se.type==="error"){if(se.partialMatches.length===0){let{matches:Ne,route:He}=Ya(l);return{matches:Ne,pendingActionResult:[He.id,{type:"error",error:se.error}]}}let he=zr(se.partialMatches).route.id;return{matches:se.partialMatches,pendingActionResult:[he,{type:"error",error:se.error}]}}else if(se.matches)M=se.matches;else{let{notFoundMatches:he,error:Ne,route:He}=Ea(k.pathname);return{matches:he,pendingActionResult:[He.id,{type:"error",error:Ne}]}}}let ae,ce=So(M,k);if(!ce.route.action&&!ce.route.lazy)ae={type:"error",error:Mt(405,{method:S.method,pathname:k.pathname,routeId:ce.route.id})};else{let se=ks(i,a,S,M,ce,te?[]:n,F),he=await Rr(S,se,F,null);if(ae=he[ce.route.id],!ae){for(let Ne of M)if(he[Ne.route.id]){ae=he[Ne.route.id];break}}if(S.signal.aborted)return{shortCircuited:!0}}if(Sn(ae)){let se;return Y&&Y.replace!=null?se=Y.replace:se=Wf(ae.response.headers.get("Location"),new URL(S.url),u)===j.location.pathname+j.location.search,await Jt(S,ae,!0,{submission:R,replace:se}),{shortCircuited:!0}}if(Et(ae)){let se=zr(M,ce.route.id);return(Y&&Y.replace)!==!0&&(L="PUSH"),{matches:M,pendingActionResult:[se.route.id,ae,ce.route.id]}}return{matches:M,pendingActionResult:[ce.route.id,ae]}}async function Gs(S,k,R,M,F,ee,te,Y,re,ae,ce,se){let he=ee||wc(k,te),Ne=te||Y||Xf(he),He=!T&&!ae;if(F){if(He){let tt=qn(se);C({navigation:he,...tt!==void 0?{actionData:tt}:{}},{flushSync:ce})}let ye=await Ra(R,k.pathname,S.signal);if(ye.type==="aborted")return{shortCircuited:!0};if(ye.type==="error"){if(ye.partialMatches.length===0){let{matches:Gn,route:hn}=Ya(l);return{matches:Gn,loaderData:{},errors:{[hn.id]:ye.error}}}let tt=zr(ye.partialMatches).route.id;return{matches:ye.partialMatches,loaderData:{},errors:{[tt]:ye.error}}}else if(ye.matches)R=ye.matches;else{let{error:tt,notFoundMatches:Gn,route:hn}=Ea(k.pathname);return{matches:Gn,loaderData:{},errors:{[hn.id]:tt}}}}let Ke=c||l,{dsMatches:Ce,revalidatingFetchers:Pe}=Ff(S,M,i,a,t.history,j,R,Ne,k,ae?[]:n,ae===!0,B,ne,ie,Q,$,Ke,u,t.patchRoutesOnNavigation!=null,se);if(D=++O,!t.dataStrategy&&!Ce.some(ye=>ye.shouldLoad)&&!Ce.some(ye=>ye.route.middleware&&ye.route.middleware.length>0)&&Pe.length===0){let ye=V();return de(k,{matches:R,loaderData:{},errors:se&&Et(se[1])?{[se[0]]:se[1].error}:null,...Qf(se),...ye?{fetchers:new Map(j.fetchers)}:{}},{flushSync:ce}),{shortCircuited:!0}}if(He){let ye={};if(!F){ye.navigation=he;let tt=qn(se);tt!==void 0&&(ye.actionData=tt)}Pe.length>0&&(ye.fetchers=_a(Pe)),C(ye,{flushSync:ce})}Pe.forEach(ye=>{Dt(ye.key),ye.controller&&A.set(ye.key,ye.controller)});let un=()=>Pe.forEach(ye=>Dt(ye.key));E&&E.signal.addEventListener("abort",un);let{loaderResults:Xs,fetcherResults:Or}=await Wn(Ce,Pe,S,M);if(S.signal.aborted)return{shortCircuited:!0};E&&E.signal.removeEventListener("abort",un),Pe.forEach(ye=>A.delete(ye.key));let lr=Xa(Xs);if(lr)return await Jt(S,lr.result,!0,{replace:re}),{shortCircuited:!0};if(lr=Xa(Or),lr)return $.add(lr.key),await Jt(S,lr.result,!0,{replace:re}),{shortCircuited:!0};let{loaderData:Vl,errors:Zs}=Gf(j,R,Xs,se,Pe,Or);ae&&j.errors&&(Zs={...j.errors,...Zs});let dn=V(),Oa=_e(D),Ta=dn||Oa||Pe.length>0;return{matches:R,loaderData:Vl,errors:Zs,...Ta?{fetchers:new Map(j.fetchers)}:{}}}function qn(S){if(S&&!Et(S[1]))return{[S[0]]:S[1].data};if(j.actionData)return Object.keys(j.actionData).length===0?null:j.actionData}function _a(S){return S.forEach(k=>{let R=j.fetchers.get(k.key),M=ci(void 0,R?R.data:void 0);j.fetchers.set(k.key,M)}),new Map(j.fetchers)}async function Sa(S,k,R,M){Dt(S);let F=(M&&M.flushSync)===!0,ee=c||l,te=Pu(j.location,j.matches,u,R,k,M==null?void 0:M.relative),Y=Mr(ee,te,u),re=Pa(Y,ee,te);if(re.active&&re.matches&&(Y=re.matches),!Y){pt(S,k,Mt(404,{pathname:te}),{flushSync:F});return}let{path:ae,submission:ce,error:se}=Uf(!0,te,M);if(se){pt(S,k,se,{flushSync:F});return}let he=t.getContext?await t.getContext():new Af,Ne=(M&&M.preventScrollReset)===!0;if(ce&&ot(ce.formMethod)){await Js(S,k,ae,Y,he,re.active,F,Ne,ce);return}Q.set(S,{routeId:k,path:ae}),await Na(S,k,ae,Y,he,re.active,F,Ne,ce)}async function Js(S,k,R,M,F,ee,te,Y,re){cn(),Q.delete(S);let ae=j.fetchers.get(S);It(S,Tj(re,ae),{flushSync:te});let ce=new AbortController,se=ss(t.history,R,ce.signal,re);if(ee){let $e=await Ra(M,new URL(se.url).pathname,se.signal,S);if($e.type==="aborted")return;if($e.type==="error"){pt(S,k,$e.error,{flushSync:te});return}else if($e.matches)M=$e.matches;else{pt(S,k,Mt(404,{pathname:R}),{flushSync:te});return}}let he=So(M,R);if(!he.route.action&&!he.route.lazy){let $e=Mt(405,{method:re.formMethod,pathname:R,routeId:k});pt(S,k,$e,{flushSync:te});return}A.set(S,ce);let Ne=O,He=ks(i,a,se,M,he,n,F),Ke=await Rr(se,He,F,S),Ce=Ke[he.route.id];if(!Ce){for(let $e of He)if(Ke[$e.route.id]){Ce=Ke[$e.route.id];break}}if(se.signal.aborted){A.get(S)===ce&&A.delete(S);return}if(ie.has(S)){if(Sn(Ce)||Et(Ce)){It(S,yr(void 0));return}}else{if(Sn(Ce))if(A.delete(S),D>Ne){It(S,yr(void 0));return}else return $.add(S),It(S,ci(re)),Jt(se,Ce,!1,{fetcherSubmission:re,preventScrollReset:Y});if(Et(Ce)){pt(S,k,Ce.error);return}}let Pe=j.navigation.location||j.location,un=ss(t.history,Pe,ce.signal),Xs=c||l,Or=j.navigation.state!=="idle"?Mr(Xs,j.navigation.location,u):j.matches;fe(Or,"Didn't find any matches after fetcher action");let lr=++O;I.set(S,lr);let Vl=ci(re,Ce.data);j.fetchers.set(S,Vl);let{dsMatches:Zs,revalidatingFetchers:dn}=Ff(un,F,i,a,t.history,j,Or,re,Pe,n,!1,B,ne,ie,Q,$,Xs,u,t.patchRoutesOnNavigation!=null,[he.route.id,Ce]);dn.filter($e=>$e.key!==S).forEach($e=>{let La=$e.key,bh=j.fetchers.get(La),Qy=ci(void 0,bh?bh.data:void 0);j.fetchers.set(La,Qy),Dt(La),$e.controller&&A.set(La,$e.controller)}),C({fetchers:new Map(j.fetchers)});let Oa=()=>dn.forEach($e=>Dt($e.key));ce.signal.addEventListener("abort",Oa);let{loaderResults:Ta,fetcherResults:ye}=await Wn(Zs,dn,un,F);if(ce.signal.aborted)return;if(ce.signal.removeEventListener("abort",Oa),I.delete(S),A.delete(S),dn.forEach($e=>A.delete($e.key)),j.fetchers.has(S)){let $e=yr(Ce.data);j.fetchers.set(S,$e)}let tt=Xa(Ta);if(tt)return Jt(un,tt.result,!1,{preventScrollReset:Y});if(tt=Xa(ye),tt)return $.add(tt.key),Jt(un,tt.result,!1,{preventScrollReset:Y});let{loaderData:Gn,errors:hn}=Gf(j,Or,Ta,void 0,dn,ye);_e(lr),j.navigation.state==="loading"&&lr>D?(fe(L,"Expected pending action"),E&&E.abort(),de(j.navigation.location,{matches:Or,loaderData:Gn,errors:hn,fetchers:new Map(j.fetchers)})):(C({errors:hn,loaderData:Jf(j.loaderData,Gn,Or,hn),fetchers:new Map(j.fetchers)}),B=!1)}async function Na(S,k,R,M,F,ee,te,Y,re){let ae=j.fetchers.get(S);It(S,ci(re,ae?ae.data:void 0),{flushSync:te});let ce=new AbortController,se=ss(t.history,R,ce.signal);if(ee){let Pe=await Ra(M,new URL(se.url).pathname,se.signal,S);if(Pe.type==="aborted")return;if(Pe.type==="error"){pt(S,k,Pe.error,{flushSync:te});return}else if(Pe.matches)M=Pe.matches;else{pt(S,k,Mt(404,{pathname:R}),{flushSync:te});return}}let he=So(M,R);A.set(S,ce);let Ne=O,He=ks(i,a,se,M,he,n,F),Ce=(await Rr(se,He,F,S))[he.route.id];if(A.get(S)===ce&&A.delete(S),!se.signal.aborted){if(ie.has(S)){It(S,yr(void 0));return}if(Sn(Ce))if(D>Ne){It(S,yr(void 0));return}else{$.add(S),await Jt(se,Ce,!1,{preventScrollReset:Y});return}if(Et(Ce)){pt(S,k,Ce.error);return}It(S,yr(Ce.data))}}async function Jt(S,k,R,{submission:M,fetcherSubmission:F,preventScrollReset:ee,replace:te}={}){k.response.headers.has("X-Remix-Revalidate")&&(B=!0);let Y=k.response.headers.get("Location");fe(Y,"Expected a Location header on the redirect Response"),Y=Wf(Y,new URL(S.url),u);let re=ea(j.location,Y,{_isRedirect:!0});if(r){let He=!1;if(k.response.headers.has("X-Remix-Reload-Document"))He=!0;else if(Ol(Y)){const Ke=x0(Y,!0);He=Ke.origin!==e.location.origin||qt(Ke.pathname,u)==null}if(He){te?e.location.replace(Y):e.location.assign(Y);return}}E=null;let ae=te===!0||k.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ce,formAction:se,formEncType:he}=j.navigation;!M&&!F&&ce&&se&&he&&(M=Xf(j.navigation));let Ne=M||F;if(uj.has(k.response.status)&&Ne&&ot(Ne.formMethod))await St(ae,re,{submission:{...Ne,formAction:Y},preventScrollReset:ee||z,enableViewTransition:R?q:void 0});else{let He=wc(re,M);await St(ae,re,{overrideNavigation:He,fetcherSubmission:F,preventScrollReset:ee||z,enableViewTransition:R?q:void 0})}}async function Rr(S,k,R,M){let F,ee={};try{F=await wj(d,S,k,M,R,!1)}catch(te){return k.filter(Y=>Y.shouldLoad).forEach(Y=>{ee[Y.route.id]={type:"error",error:te}}),ee}if(S.signal.aborted)return ee;for(let[te,Y]of Object.entries(F))if(Pj(Y)){let re=Y.result;ee[te]={type:"redirect",response:Sj(re,S,te,k,u)}}else ee[te]=await _j(Y);return ee}async function Wn(S,k,R,M){let F=Rr(R,S,M,null),ee=Promise.all(k.map(async re=>{if(re.matches&&re.match&&re.request&&re.controller){let ce=(await Rr(re.request,re.matches,M,re.key))[re.match.route.id];return{[re.key]:ce}}else return Promise.resolve({[re.key]:{type:"error",error:Mt(404,{pathname:re.path})}})})),te=await F,Y=(await ee).reduce((re,ae)=>Object.assign(re,ae),{});return{loaderResults:te,fetcherResults:Y}}function cn(){B=!0,Q.forEach((S,k)=>{A.has(k)&&ne.add(k),Dt(k)})}function It(S,k,R={}){j.fetchers.set(S,k),C({fetchers:new Map(j.fetchers)},{flushSync:(R&&R.flushSync)===!0})}function pt(S,k,R,M={}){let F=zr(j.matches,k);Qs(S),C({errors:{[F.route.id]:R},fetchers:new Map(j.fetchers)},{flushSync:(M&&M.flushSync)===!0})}function ka(S){return ve.set(S,(ve.get(S)||0)+1),ie.has(S)&&ie.delete(S),j.fetchers.get(S)||dj}function Bl(S,k){Dt(S,k==null?void 0:k.reason),It(S,yr(null))}function Qs(S){let k=j.fetchers.get(S);A.has(S)&&!(k&&k.state==="loading"&&I.has(S))&&Dt(S),Q.delete(S),I.delete(S),$.delete(S),ie.delete(S),ne.delete(S),j.fetchers.delete(S)}function Hl(S){let k=(ve.get(S)||0)-1;k<=0?(ve.delete(S),ie.add(S)):ve.set(S,k),C({fetchers:new Map(j.fetchers)})}function Dt(S,k){let R=A.get(S);R&&(R.abort(k),A.delete(S))}function Kn(S){for(let k of S){let R=ka(k),M=yr(R.data);j.fetchers.set(k,M)}}function V(){let S=[],k=!1;for(let R of $){let M=j.fetchers.get(R);fe(M,`Expected fetcher: ${R}`),M.state==="loading"&&($.delete(R),S.push(R),k=!0)}return Kn(S),k}function _e(S){let k=[];for(let[R,M]of I)if(M<S){let F=j.fetchers.get(R);fe(F,`Expected fetcher: ${R}`),F.state==="loading"&&(Dt(R),I.delete(R),k.push(R))}return Kn(k),k.length>0}function gt(S,k){let R=j.blockers.get(S)||li;return we.get(S)!==k&&we.set(S,k),R}function Qt(S){j.blockers.delete(S),we.delete(S)}function $t(S,k){let R=j.blockers.get(S)||li;fe(R.state==="unblocked"&&k.state==="blocked"||R.state==="blocked"&&k.state==="blocked"||R.state==="blocked"&&k.state==="proceeding"||R.state==="blocked"&&k.state==="unblocked"||R.state==="proceeding"&&k.state==="unblocked",`Invalid blocker state transition: ${R.state} -> ${k.state}`);let M=new Map(j.blockers);M.set(S,k),C({blockers:M})}function Ys({currentLocation:S,nextLocation:k,historyAction:R}){if(we.size===0)return;we.size>1&&ze(!1,"A router only supports one blocker at a time");let M=Array.from(we.entries()),[F,ee]=M[M.length-1],te=j.blockers.get(F);if(!(te&&te.state==="proceeding")&&ee({currentLocation:S,nextLocation:k,historyAction:R}))return F}function Ea(S){let k=Mt(404,{pathname:S}),R=c||l,{matches:M,route:F}=Ya(R);return{notFoundMatches:M,route:F,error:k}}function Ca(S,k,R){if(p=S,w=k,y=R||null,!v&&j.navigation===xc){v=!0;let M=xh(j.location,j.matches);M!=null&&C({restoreScrollPosition:M})}return()=>{p=null,w=null,y=null}}function yh(S,k){return y&&y(S,k.map(M=>Ib(M,j.loaderData)))||S.key}function Ky(S,k){if(p&&w){let R=yh(S,k);p[R]=w()}}function xh(S,k){if(p){let R=yh(S,k),M=p[R];if(typeof M=="number")return M}return null}function Pa(S,k,R){if(t.patchRoutesOnNavigation)if(S){if(Object.keys(S[0].params).length>0)return{active:!0,matches:vi(k,R,u,!0)}}else return{active:!0,matches:vi(k,R,u,!0)||[]};return{active:!1,matches:null}}async function Ra(S,k,R,M){if(!t.patchRoutesOnNavigation)return{type:"success",matches:S};let F=S;for(;;){let ee=c==null,te=c||l,Y=a;try{await t.patchRoutesOnNavigation({signal:R,path:k,matches:F,fetcherKey:M,patch:(ce,se)=>{R.aborted||Bf(ce,se,te,Y,i,!1)}})}catch(ce){return{type:"error",error:ce,partialMatches:F}}finally{ee&&!R.aborted&&(l=[...l])}if(R.aborted)return{type:"aborted"};let re=Mr(te,k,u),ae=null;if(re){if(Object.keys(re[0].params).length===0)return{type:"success",matches:re};if(ae=vi(te,k,u,!0),!(ae&&F.length<ae.length&&wh(F,ae.slice(0,F.length))))return{type:"success",matches:re}}if(ae||(ae=vi(te,k,u,!0)),!ae||wh(F,ae))return{type:"success",matches:null};F=ae}}function wh(S,k){return S.length===k.length&&S.every((R,M)=>R.route.id===k[M].route.id)}function Gy(S){a={},c=ta(S,i,void 0,a)}function Jy(S,k,R=!1){let M=c==null;Bf(S,k,c||l,a,i,R),M&&(l=[...l],C({}))}return P={get basename(){return u},get future(){return h},get state(){return j},get routes(){return l},get window(){return e},initialize:me,subscribe:_t,enableScrollRestoration:Ca,navigate:mt,fetch:Sa,revalidate:Se,createHref:S=>t.history.createHref(S),encodeLocation:S=>t.history.encodeLocation(S),getFetcher:ka,resetFetcher:Bl,deleteFetcher:Hl,dispose:ft,getBlocker:gt,deleteBlocker:Qt,patchRoutes:Jy,_internalFetchControllers:A,_internalSetRoutes:Gy,_internalSetStateDoNotUseOrYouWillBreakYourApp(S){C(S)}},t.unstable_instrumentations&&(P=tj(P,t.unstable_instrumentations.map(S=>S.router).filter(Boolean))),P}function mj(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Pu(t,e,r,n,s,i){let a,l;if(s){a=[];for(let u of e)if(a.push(u),u.route.id===s){l=u;break}}else a=e,l=e[e.length-1];let c=Ll(n||".",Tl(a),qt(t.pathname,r)||t.pathname,i==="path");if(n==null&&(c.search=t.search,c.hash=t.hash),(n==null||n===""||n===".")&&l){let u=Xd(c.search);if(l.route.index&&!u)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&u){let d=new URLSearchParams(c.search),h=d.getAll("index");d.delete("index"),h.filter(f=>f).forEach(f=>d.append("index",f));let m=d.toString();c.search=m?`?${m}`:""}}return r!=="/"&&(c.pathname=Gb({basename:r,pathname:c.pathname})),gr(c)}function Uf(t,e,r){if(!r||!mj(r))return{path:e};if(r.formMethod&&!Rj(r.formMethod))return{path:e,error:Mt(405,{method:r.formMethod})};let n=()=>({path:e,error:Mt(400,{type:"invalid-body"})}),i=(r.formMethod||"get").toUpperCase(),a=T0(e);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ot(i))return n();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((m,[f,p])=>`${m}${f}=${p}
`,""):String(r.body);return{path:e,submission:{formMethod:i,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!ot(i))return n();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:e,submission:{formMethod:i,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return n()}}}fe(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Tu(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Tu(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=Kf(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=Kf(l)}catch{return n()}let u={formMethod:i,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(ot(u.formMethod))return{path:e,submission:u};let d=sn(e);return t&&d.search&&Xd(d.search)&&l.append("index",""),d.search=`?${l}`,{path:gr(d),submission:u}}function Ff(t,e,r,n,s,i,a,l,c,u,d,h,m,f,p,y,w,v,g,x){var T;let _=x?Et(x[1])?x[1].error:x[1].data:void 0,N=s.createURL(i.location),P=s.createURL(c),j;if(d&&i.errors){let B=Object.keys(i.errors)[0];j=a.findIndex(ne=>ne.route.id===B)}else if(x&&Et(x[1])){let B=x[0];j=a.findIndex(ne=>ne.route.id===B)-1}let L=x?x[1].statusCode:void 0,z=L&&L>=400,E={currentUrl:N,currentParams:((T=i.matches[0])==null?void 0:T.params)||{},nextUrl:P,nextParams:a[0].params,...l,actionResult:_,actionStatus:L},q=Qd(a.map(B=>B.route.path)),G=a.map((B,ne)=>{let{route:A}=B,O=null;if(j!=null&&ne>j?O=!1:A.lazy?O=!0:Yd(A)?d?O=Ru(A,i.loaderData,i.errors):pj(i.loaderData,i.matches[ne],B)&&(O=!0):O=!1,O!==null)return Ou(r,n,t,q,B,u,e,O);let D=z?!1:h||N.pathname+N.search===P.pathname+P.search||N.search!==P.search||gj(i.matches[ne],B),I={...E,defaultShouldRevalidate:D},$=tl(B,I);return Ou(r,n,t,q,B,u,e,$,I)}),K=[];return p.forEach((B,ne)=>{if(d||!a.some(ie=>ie.route.id===B.routeId)||f.has(ne))return;let A=i.fetchers.get(ne),O=A&&A.state!=="idle"&&A.data===void 0,D=Mr(w,B.path,v);if(!D){if(g&&O)return;K.push({key:ne,routeId:B.routeId,path:B.path,matches:null,match:null,request:null,controller:null});return}if(y.has(ne))return;let I=So(D,B.path),$=new AbortController,Q=ss(s,B.path,$.signal),ve=null;if(m.has(ne))m.delete(ne),ve=ks(r,n,Q,D,I,u,e);else if(O)h&&(ve=ks(r,n,Q,D,I,u,e));else{let ie={...E,defaultShouldRevalidate:z?!1:h};tl(I,ie)&&(ve=ks(r,n,Q,D,I,u,e,ie))}ve&&K.push({key:ne,routeId:B.routeId,path:B.path,matches:ve,match:I,request:Q,controller:$})}),{dsMatches:G,revalidatingFetchers:K}}function Yd(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function Ru(t,e,r){if(t.lazy)return!0;if(!Yd(t))return!1;let n=e!=null&&t.id in e,s=r!=null&&r[t.id]!==void 0;return!n&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!n&&!s}function pj(t,e,r){let n=!e||r.route.id!==e.route.id,s=!t.hasOwnProperty(r.route.id);return n||s}function gj(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function tl(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function Bf(t,e,r,n,s,i){let a;if(t){let u=n[t];fe(u,`No route found to patch children into: routeId = ${t}`),u.children||(u.children=[]),a=u.children}else a=r;let l=[],c=[];if(e.forEach(u=>{let d=a.find(h=>E0(u,h));d?c.push({existingRoute:d,newRoute:u}):l.push(u)}),l.length>0){let u=ta(l,s,[t||"_","patch",String((a==null?void 0:a.length)||"0")],n);a.push(...u)}if(i&&c.length>0)for(let u=0;u<c.length;u++){let{existingRoute:d,newRoute:h}=c[u],m=d,[f]=ta([h],s,[],{},!0);Object.assign(m,{element:f.element?f.element:m.element,errorElement:f.errorElement?f.errorElement:m.errorElement,hydrateFallbackElement:f.hydrateFallbackElement?f.hydrateFallbackElement:m.hydrateFallbackElement})}}function E0(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((r,n)=>{var s;return(s=e.children)==null?void 0:s.some(i=>E0(r,i))}):!1}var Hf=new WeakMap,C0=({key:t,route:e,manifest:r,mapRouteProperties:n})=>{let s=r[e.id];if(fe(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let i=s.lazy[t];if(!i)return;let a=Hf.get(s);a||(a={},Hf.set(s,a));let l=a[t];if(l)return l;let c=(async()=>{let u=Ob(t),h=s[t]!==void 0&&t!=="hasErrorBoundary";if(u)ze(!u,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),a[t]=Promise.resolve();else if(h)ze(!1,`Route "${s.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let m=await i();m!=null&&(Object.assign(s,{[t]:m}),Object.assign(s,n(s)))}typeof s.lazy=="object"&&(s.lazy[t]=void 0,Object.values(s.lazy).every(m=>m===void 0)&&(s.lazy=void 0))})();return a[t]=c,c},Vf=new WeakMap;function vj(t,e,r,n,s){let i=r[t.id];if(fe(i,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let d=Vf.get(i);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let h=(async()=>{fe(typeof t.lazy=="function","No lazy route function found");let m=await t.lazy(),f={};for(let p in m){let y=m[p];if(y===void 0)continue;let w=Lb(p),g=i[p]!==void 0&&p!=="hasErrorBoundary";w?ze(!w,"Route property "+p+" is not a supported property to be returned from a lazy route function. This property will be ignored."):g?ze(!g,`Route "${i.id}" has a static property "${p}" defined but its lazy function is also returning a value for this property. The lazy route property "${p}" will be ignored.`):f[p]=y}Object.assign(i,f),Object.assign(i,{...n(i),lazy:void 0})})();return Vf.set(i,h),h.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:h}}let a=Object.keys(t.lazy),l=[],c;for(let d of a){if(s&&s.includes(d))continue;let h=C0({key:d,route:t,manifest:r,mapRouteProperties:n});h&&(l.push(h),d===e&&(c=h))}let u=l.length>0?Promise.all(l).then(()=>{}):void 0;return u==null||u.catch(()=>{}),c==null||c.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:c}}async function qf(t){let e=t.matches.filter(s=>s.shouldLoad),r={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,i)=>{r[e[i].route.id]=s}),r}async function yj(t){return t.matches.some(e=>e.route.middleware)?P0(t,()=>qf(t)):qf(t)}function P0(t,e){return xj(t,e,n=>n,Ej,r);function r(n,s,i){if(i)return Promise.resolve(Object.assign(i.value,{[s]:{type:"error",result:n}}));{let{matches:a}=t,l=Math.min(Math.max(a.findIndex(u=>u.route.id===s),0),Math.max(a.findIndex(u=>u.unstable_shouldCallHandler()),0)),c=zr(a,a[l].route.id).route.id;return Promise.resolve({[c]:{type:"error",result:n}})}}}async function xj(t,e,r,n,s){let{matches:i,request:a,params:l,context:c,unstable_pattern:u}=t,d=i.flatMap(m=>m.route.middleware?m.route.middleware.map(f=>[m.route.id,f]):[]);return await R0({request:a,params:l,context:c,unstable_pattern:u},d,e,r,n,s)}async function R0(t,e,r,n,s,i,a=0){let{request:l}=t;if(l.signal.aborted)throw l.signal.reason??new Error(`Request aborted: ${l.method} ${l.url}`);let c=e[a];if(!c)return await r();let[u,d]=c,h,m=async()=>{if(h)throw new Error("You may only call `next()` once per middleware");try{return h={value:await R0(t,e,r,n,s,i,a+1)},h.value}catch(f){return h={value:await i(f,u,h)},h.value}};try{let f=await d(t,m),p=f!=null?n(f):void 0;return s(p)?p:h?p??h.value:(h={value:await m()},h.value)}catch(f){return await i(f,u,h)}}function O0(t,e,r,n,s){let i=C0({key:"middleware",route:n.route,manifest:e,mapRouteProperties:t}),a=vj(n.route,ot(r.method)?"action":"loader",e,t,s);return{middleware:i,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function Ou(t,e,r,n,s,i,a,l,c=null){let u=!1,d=O0(t,e,r,s,i);return{...s,_lazyPromises:d,shouldLoad:l,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(h){return u=!0,c?typeof h=="boolean"?tl(s,{...c,defaultShouldRevalidate:h}):tl(s,c):l},resolve(h){let{lazy:m,loader:f,middleware:p}=s.route,y=u||l||h&&!ot(r.method)&&(m||f),w=p&&p.length>0&&!f&&!m;return y&&(ot(r.method)||!w)?bj({request:r,unstable_pattern:n,match:s,lazyHandlerPromise:d==null?void 0:d.handler,lazyRoutePromise:d==null?void 0:d.route,handlerOverride:h,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function ks(t,e,r,n,s,i,a,l=null){return n.map(c=>c.route.id!==s.route.id?{...c,shouldLoad:!1,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler:()=>!1,_lazyPromises:O0(t,e,r,c,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Ou(t,e,r,Qd(n.map(u=>u.route.path)),c,i,a,!0,l))}async function wj(t,e,r,n,s,i){r.some(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware})&&await Promise.all(r.map(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware}));let a={request:e,unstable_pattern:Qd(r.map(u=>u.route.path)),params:r[0].params,context:s,matches:r},c=await t({...a,fetcherKey:n,runClientMiddleware:u=>{let d=a;return P0(d,()=>u({...d,fetcherKey:n,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(u=>{var d,h;return[(d=u._lazyPromises)==null?void 0:d.handler,(h=u._lazyPromises)==null?void 0:h.route]}))}catch{}return c}async function bj({request:t,unstable_pattern:e,match:r,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:i,scopedContext:a}){let l,c,u=ot(t.method),d=u?"action":"loader",h=m=>{let f,p=new Promise((v,g)=>f=g);c=()=>f(),t.signal.addEventListener("abort",c);let y=v=>typeof m!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${d}" [routeId: ${r.route.id}]`)):m({request:t,unstable_pattern:e,params:r.params,context:a},...v!==void 0?[v]:[]),w=(async()=>{try{return{type:"data",result:await(i?i(g=>y(g)):y())}}catch(v){return{type:"error",result:v}}})();return Promise.race([w,p])};try{let m=u?r.route.action:r.route.loader;if(n||s)if(m){let f,[p]=await Promise.all([h(m).catch(y=>{f=y}),n,s]);if(f!==void 0)throw f;l=p}else{await n;let f=u?r.route.action:r.route.loader;if(f)[l]=await Promise.all([h(f),s]);else if(d==="action"){let p=new URL(t.url),y=p.pathname+p.search;throw Mt(405,{method:t.method,pathname:y,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(m)l=await h(m);else{let f=new URL(t.url),p=f.pathname+f.search;throw Mt(404,{pathname:p})}}catch(m){return{type:"error",result:m}}finally{c&&t.signal.removeEventListener("abort",c)}return l}async function jj(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function _j(t){var n,s,i,a,l,c;let{result:e,type:r}=t;if(L0(e)){let u;try{u=await jj(e)}catch(d){return{type:"error",error:d}}return r==="error"?{type:"error",error:new el(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:"data",data:u,statusCode:e.status,headers:e.headers}}return r==="error"?Yf(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(n=e.init)==null?void 0:n.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new el(((i=e.init)==null?void 0:i.status)||500,void 0,e.data),statusCode:ra(e)?e.status:void 0,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:ra(e)?e.status:void 0}:Yf(e)?{type:"data",data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function Sj(t,e,r,n,s){let i=t.headers.get("Location");if(fe(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ol(i)){let a=n.slice(0,n.findIndex(l=>l.route.id===r)+1);i=Pu(new URL(e.url),a,s,i),t.headers.set("Location",i)}return t}function Wf(t,e,r){if(Ol(t)){let n=t,s=n.startsWith("//")?new URL(e.protocol+n):new URL(n),i=qt(s.pathname,r)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function ss(t,e,r,n){let s=t.createURL(T0(e)).toString(),i={signal:r};if(n&&ot(n.formMethod)){let{formMethod:a,formEncType:l}=n;i.method=a.toUpperCase(),l==="application/json"?(i.headers=new Headers({"Content-Type":l}),i.body=JSON.stringify(n.json)):l==="text/plain"?i.body=n.text:l==="application/x-www-form-urlencoded"&&n.formData?i.body=Tu(n.formData):i.body=n.formData}return new Request(s,i)}function Tu(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function Kf(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function Nj(t,e,r,n=!1,s=!1){let i={},a=null,l,c=!1,u={},d=r&&Et(r[1])?r[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let m=h.route.id,f=e[m];if(fe(!Sn(f),"Cannot handle redirect results in processLoaderData"),Et(f)){let p=f.error;if(d!==void 0&&(p=d,d=void 0),a=a||{},s)a[m]=p;else{let y=zr(t,m);a[y.route.id]==null&&(a[y.route.id]=p)}n||(i[m]=k0),c||(c=!0,l=ra(f.error)?f.error.status:500),f.headers&&(u[m]=f.headers)}else i[m]=f.data,f.statusCode&&f.statusCode!==200&&!c&&(l=f.statusCode),f.headers&&(u[m]=f.headers)}),d!==void 0&&r&&(a={[r[0]]:d},r[2]&&(i[r[2]]=void 0)),{loaderData:i,errors:a,statusCode:l||200,loaderHeaders:u}}function Gf(t,e,r,n,s,i){let{loaderData:a,errors:l}=Nj(e,r,n);return s.filter(c=>!c.matches||c.matches.some(u=>u.shouldLoad)).forEach(c=>{let{key:u,match:d,controller:h}=c;if(h&&h.signal.aborted)return;let m=i[u];if(fe(m,"Did not find corresponding fetcher result"),Et(m)){let f=zr(t.matches,d==null?void 0:d.route.id);l&&l[f.route.id]||(l={...l,[f.route.id]:m.error}),t.fetchers.delete(u)}else if(Sn(m))fe(!1,"Unhandled fetcher revalidation redirect");else{let f=yr(m.data);t.fetchers.set(u,f)}}),{loaderData:a,errors:l}}function Jf(t,e,r,n){let s=Object.entries(e).filter(([,i])=>i!==k0).reduce((i,[a,l])=>(i[a]=l,i),{});for(let i of r){let a=i.route.id;if(!e.hasOwnProperty(a)&&t.hasOwnProperty(a)&&i.route.loader&&(s[a]=t[a]),n&&n.hasOwnProperty(a))break}return s}function Qf(t){return t?Et(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function zr(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function Ya(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Mt(t,{pathname:e,routeId:r,method:n,type:s,message:i}={}){let a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",n&&e&&r?l=`You made a ${n} request to "${e}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l=`Route "${r}" does not match URL "${e}"`):t===404?(a="Not Found",l=`No route matches URL "${e}"`):t===405&&(a="Method Not Allowed",n&&e&&r?l=`You made a ${n.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(l=`Invalid request method "${n.toUpperCase()}"`)),new el(t||500,a,new Error(l),!0)}function Xa(t){let e=Object.entries(t);for(let r=e.length-1;r>=0;r--){let[n,s]=e[r];if(Sn(s))return{key:n,result:s}}}function T0(t){let e=typeof t=="string"?sn(t):t;return gr({...e,hash:""})}function kj(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Ej(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,r])=>typeof e=="string"&&Cj(r))}function Cj(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function Pj(t){return L0(t.result)&&cj.has(t.result.status)}function Et(t){return t.type==="error"}function Sn(t){return(t&&t.type)==="redirect"}function Yf(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function L0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Rj(t){return lj.has(t.toUpperCase())}function ot(t){return aj.has(t.toUpperCase())}function Xd(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function So(t,e){let r=typeof e=="string"?sn(e).search:e.search;if(t[t.length-1].route.index&&Xd(r||""))return t[t.length-1];let n=j0(t);return n[n.length-1]}function Xf(t){let{formMethod:e,formAction:r,formEncType:n,text:s,formData:i,json:a}=t;if(!(!e||!r||!n)){if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:i,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:a,text:void 0}}}function wc(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Oj(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ci(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Tj(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function yr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Lj(t,e){try{let r=t.sessionStorage.getItem(N0);if(r){let n=JSON.parse(r);for(let[s,i]of Object.entries(n||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function Aj(t,e){if(e.size>0){let r={};for(let[n,s]of e)r[n]=[...s];try{t.sessionStorage.setItem(N0,JSON.stringify(r))}catch(n){ze(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function Ij(){let t,e,r=new Promise((n,s)=>{t=async i=>{n(i);try{await r}catch{}},e=async i=>{s(i);try{await r}catch{}}});return{promise:r,resolve:t,reject:e}}var Vn=b.createContext(null);Vn.displayName="DataRouter";var va=b.createContext(null);va.displayName="DataRouterState";b.createContext(!1);var Zd=b.createContext({isTransitioning:!1});Zd.displayName="ViewTransition";var A0=b.createContext(new Map);A0.displayName="Fetchers";var Dj=b.createContext(null);Dj.displayName="Await";var or=b.createContext(null);or.displayName="Navigation";var Al=b.createContext(null);Al.displayName="Location";var Wt=b.createContext({outlet:null,matches:[],isDataRoute:!1});Wt.displayName="Route";var eh=b.createContext(null);eh.displayName="RouteError";function $j(t,{relative:e}={}){fe(Vs(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=b.useContext(or),{hash:s,pathname:i,search:a}=ya(t,{relative:e}),l=i;return r!=="/"&&(l=i==="/"?r:pr([r,i])),n.createHref({pathname:l,search:a,hash:s})}function Vs(){return b.useContext(Al)!=null}function Kt(){return fe(Vs(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Al).location}var I0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function D0(t){b.useContext(or).static||b.useLayoutEffect(t)}function an(){let{isDataRoute:t}=b.useContext(Wt);return t?Xj():Mj()}function Mj(){fe(Vs(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(Vn),{basename:e,navigator:r}=b.useContext(or),{matches:n}=b.useContext(Wt),{pathname:s}=Kt(),i=JSON.stringify(Tl(n)),a=b.useRef(!1);return D0(()=>{a.current=!0}),b.useCallback((c,u={})=>{if(ze(a.current,I0),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Ll(c,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:pr([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,i,s,t])}var zj=b.createContext(null);function Uj(t){let e=b.useContext(Wt).outlet;return b.useMemo(()=>e&&b.createElement(zj.Provider,{value:t},e),[e,t])}function $0(){let{matches:t}=b.useContext(Wt),e=t[t.length-1];return e?e.params:{}}function ya(t,{relative:e}={}){let{matches:r}=b.useContext(Wt),{pathname:n}=Kt(),s=JSON.stringify(Tl(r));return b.useMemo(()=>Ll(t,JSON.parse(s),n,e==="path"),[t,s,n,e])}function Fj(t,e,r,n,s){fe(Vs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=b.useContext(or),{matches:a}=b.useContext(Wt),l=a[a.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",h=l&&l.route;{let g=h&&h.path||"";M0(u,!h||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let m=Kt(),f;f=m;let p=f.pathname||"/",y=p;if(d!=="/"){let g=d.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(g.length).join("/")}let w=Mr(t,{pathname:y});return ze(h||w!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),ze(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Wj(w&&w.map(g=>Object.assign({},g,{params:Object.assign({},c,g.params),pathname:pr([d,i.encodeLocation?i.encodeLocation(g.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?d:pr([d,i.encodeLocation?i.encodeLocation(g.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathnameBase])})),a,r,n,s)}function Bj(){let t=Yj(),e=ra(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:i},"ErrorBoundary")," or"," ",b.createElement("code",{style:i},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),r?b.createElement("pre",{style:s},r):null,a)}var Hj=b.createElement(Bj,null),Vj=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?b.createElement(Wt.Provider,{value:this.props.routeContext},b.createElement(eh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qj({routeContext:t,match:e,children:r}){let n=b.useContext(Vn);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(Wt.Provider,{value:t},r)}function Wj(t,e=[],r=null,n=null,s=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,a=r==null?void 0:r.errors;if(a!=null){let d=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);fe(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:m,errors:f}=r,p=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!f||f[h.route.id]===void 0);if(h.route.lazy||p){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let u=r&&n?(d,h)=>{var m,f;n(d,{location:r.location,params:((f=(m=r.matches)==null?void 0:m[0])==null?void 0:f.params)??{},errorInfo:h})}:void 0;return i.reduceRight((d,h,m)=>{let f,p=!1,y=null,w=null;r&&(f=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||Hj,l&&(c<0&&m===0?(M0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,w=null):c===m&&(p=!0,w=h.route.hydrateFallbackElement||null)));let v=e.concat(i.slice(0,m+1)),g=()=>{let x;return f?x=y:p?x=w:h.route.Component?x=b.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,b.createElement(qj,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?b.createElement(Vj,{location:r.location,revalidation:r.revalidation,component:y,error:f,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0},onError:u}):g()},null)}function th(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kj(t){let e=b.useContext(Vn);return fe(e,th(t)),e}function Gj(t){let e=b.useContext(va);return fe(e,th(t)),e}function Jj(t){let e=b.useContext(Wt);return fe(e,th(t)),e}function rh(t){let e=Jj(t),r=e.matches[e.matches.length-1];return fe(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function Qj(){return rh("useRouteId")}function Yj(){var n;let t=b.useContext(eh),e=Gj("useRouteError"),r=rh("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function Xj(){let{router:t}=Kj("useNavigate"),e=rh("useNavigate"),r=b.useRef(!1);return D0(()=>{r.current=!0}),b.useCallback(async(s,i={})=>{ze(r.current,I0),r.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var Zf={};function M0(t,e,r){!e&&!Zf[t]&&(Zf[t]=!0,ze(!1,r))}var em={};function tm(t,e){!t&&!em[e]&&(em[e]=!0,console.warn(e))}function Zj(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&ze(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:b.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&ze(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:b.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&ze(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:b.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var e1=["HydrateFallback","hydrateFallbackElement"],t1=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function r1({router:t,flushSync:e,unstable_onError:r}){let[n,s]=b.useState(t.state),[i,a]=b.useState(),[l,c]=b.useState({isTransitioning:!1}),[u,d]=b.useState(),[h,m]=b.useState(),[f,p]=b.useState(),y=b.useRef(new Map),w=b.useCallback(N=>{s(P=>(N.errors&&r&&Object.entries(N.errors).forEach(([j,L])=>{var z,E;((z=P.errors)==null?void 0:z[j])!==L&&r(L,{location:N.location,params:((E=N.matches[0])==null?void 0:E.params)??{}})}),N))},[r]),v=b.useCallback((N,{deletedFetchers:P,flushSync:j,viewTransitionOpts:L})=>{N.fetchers.forEach((E,q)=>{E.data!==void 0&&y.current.set(q,E.data)}),P.forEach(E=>y.current.delete(E)),tm(j===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let z=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(tm(L==null||z,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!L||!z){e&&j?e(()=>w(N)):b.startTransition(()=>w(N));return}if(e&&j){e(()=>{h&&(u&&u.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let E=t.window.document.startViewTransition(()=>{e(()=>w(N))});E.finished.finally(()=>{e(()=>{d(void 0),m(void 0),a(void 0),c({isTransitioning:!1})})}),e(()=>m(E));return}h?(u&&u.resolve(),h.skipTransition(),p({state:N,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(a(N),c({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[t.window,e,h,u,w]);b.useLayoutEffect(()=>t.subscribe(v),[t,v]),b.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new t1)},[l]),b.useEffect(()=>{if(u&&i&&t.window){let N=i,P=u.promise,j=t.window.document.startViewTransition(async()=>{b.startTransition(()=>w(N)),await P});j.finished.finally(()=>{d(void 0),m(void 0),a(void 0),c({isTransitioning:!1})}),m(j)}},[i,u,t.window,w]),b.useEffect(()=>{u&&i&&n.location.key===i.location.key&&u.resolve()},[u,h,n.location,i]),b.useEffect(()=>{!l.isTransitioning&&f&&(a(f.state),c({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),p(void 0))},[l.isTransitioning,f]);let g=b.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:N=>t.navigate(N),push:(N,P,j)=>t.navigate(N,{state:P,preventScrollReset:j==null?void 0:j.preventScrollReset}),replace:(N,P,j)=>t.navigate(N,{replace:!0,state:P,preventScrollReset:j==null?void 0:j.preventScrollReset})}),[t]),x=t.basename||"/",_=b.useMemo(()=>({router:t,navigator:g,static:!1,basename:x,unstable_onError:r}),[t,g,x,r]);return b.createElement(b.Fragment,null,b.createElement(Vn.Provider,{value:_},b.createElement(va.Provider,{value:n},b.createElement(A0.Provider,{value:y.current},b.createElement(Zd.Provider,{value:l},b.createElement(i1,{basename:x,location:n.location,navigationType:n.historyAction,navigator:g},b.createElement(n1,{routes:t.routes,future:t.future,state:n,unstable_onError:r})))))),null)}var n1=b.memo(s1);function s1({routes:t,future:e,state:r,unstable_onError:n}){return Fj(t,void 0,r,n,e)}function Ri({to:t,replace:e,state:r,relative:n}){fe(Vs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=b.useContext(or);ze(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=b.useContext(Wt),{pathname:a}=Kt(),l=an(),c=Ll(t,Tl(i),a,n==="path"),u=JSON.stringify(c);return b.useEffect(()=>{l(JSON.parse(u),{replace:e,state:r,relative:n})},[l,u,n,e,r]),null}function z0(t){return Uj(t.context)}function i1({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){fe(!Vs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=b.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof r=="string"&&(r=sn(r));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:m="default"}=r,f=b.useMemo(()=>{let p=qt(c,a);return p==null?null:{location:{pathname:p,search:u,hash:d,state:h,key:m},navigationType:n}},[a,c,u,d,h,m,n]);return ze(f!=null,`<Router basename="${a}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:b.createElement(or.Provider,{value:l},b.createElement(Al.Provider,{children:e,value:f}))}var No="get",ko="application/x-www-form-urlencoded";function Il(t){return t!=null&&typeof t.tagName=="string"}function a1(t){return Il(t)&&t.tagName.toLowerCase()==="button"}function o1(t){return Il(t)&&t.tagName.toLowerCase()==="form"}function l1(t){return Il(t)&&t.tagName.toLowerCase()==="input"}function c1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function u1(t,e){return t.button===0&&(!e||e==="_self")&&!c1(t)}var Za=null;function d1(){if(Za===null)try{new FormData(document.createElement("form"),0),Za=!1}catch{Za=!0}return Za}var h1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bc(t){return t!=null&&!h1.has(t)?(ze(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ko}"`),null):t}function f1(t,e){let r,n,s,i,a;if(o1(t)){let l=t.getAttribute("action");n=l?qt(l,e):null,r=t.getAttribute("method")||No,s=bc(t.getAttribute("enctype"))||ko,i=new FormData(t)}else if(a1(t)||l1(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(n=c?qt(c,e):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||No,s=bc(t.getAttribute("formenctype"))||bc(l.getAttribute("enctype"))||ko,i=new FormData(l,t),!d1()){let{name:u,type:d,value:h}=t;if(d==="image"){let m=u?`${u}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else u&&i.append(u,h)}}else{if(Il(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=No,n=null,s=ko,a=t}return i&&s==="text/plain"&&(a=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nh(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function m1(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&qt(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function p1(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function g1(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function v1(t,e,r){let n=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let a=await p1(i,r);return a.links?a.links():[]}return[]}));return b1(n.flat(1).filter(g1).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function rm(t,e,r,n,s,i){let a=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,u)=>a(c,u)||l(c,u)):i==="data"?e.filter((c,u)=>{var h;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function y1(t,e,{includeHydrateFallback:r}={}){return x1(t.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function x1(t){return[...new Set(t)]}function w1(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function b1(t,e){let r=new Set;return new Set(e),t.reduce((n,s)=>{let i=JSON.stringify(w1(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function U0(){let t=b.useContext(Vn);return nh(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function j1(){let t=b.useContext(va);return nh(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var sh=b.createContext(void 0);sh.displayName="FrameworkContext";function F0(){let t=b.useContext(sh);return nh(t,"You must render this element inside a <HydratedRouter> element"),t}function _1(t,e){let r=b.useContext(sh),[n,s]=b.useState(!1),[i,a]=b.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,m=b.useRef(null);b.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let y=v=>{v.forEach(g=>{a(g.isIntersecting)})},w=new IntersectionObserver(y,{threshold:.5});return m.current&&w.observe(m.current),()=>{w.disconnect()}}},[t]),b.useEffect(()=>{if(n){let y=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(y)}}},[n]);let f=()=>{s(!0)},p=()=>{s(!1),a(!1)};return r?t!=="intent"?[i,m,{}]:[i,m,{onFocus:ui(l,f),onBlur:ui(c,p),onMouseEnter:ui(u,f),onMouseLeave:ui(d,p),onTouchStart:ui(h,f)}]:[!1,m,{}]}function ui(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function S1({page:t,...e}){let{router:r}=U0(),n=b.useMemo(()=>Mr(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?b.createElement(k1,{page:t,matches:n,...e}):null}function N1(t){let{manifest:e,routeModules:r}=F0(),[n,s]=b.useState([]);return b.useEffect(()=>{let i=!1;return v1(t,e,r).then(a=>{i||s(a)}),()=>{i=!0}},[t,e,r]),n}function k1({page:t,matches:e,...r}){let n=Kt(),{manifest:s,routeModules:i}=F0(),{basename:a}=U0(),{loaderData:l,matches:c}=j1(),u=b.useMemo(()=>rm(t,e,c,s,n,"data"),[t,e,c,s,n]),d=b.useMemo(()=>rm(t,e,c,s,n,"assets"),[t,e,c,s,n]),h=b.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let p=new Set,y=!1;if(e.forEach(v=>{var x;let g=s.routes[v.route.id];!g||!g.hasLoader||(!u.some(_=>_.route.id===v.route.id)&&v.route.id in l&&((x=i[v.route.id])!=null&&x.shouldRevalidate)||g.hasClientLoader?y=!0:p.add(v.route.id))}),p.size===0)return[];let w=m1(t,a,"data");return y&&p.size>0&&w.searchParams.set("_routes",e.filter(v=>p.has(v.route.id)).map(v=>v.route.id).join(",")),[w.pathname+w.search]},[a,l,n,s,u,e,t,i]),m=b.useMemo(()=>y1(d,s),[d,s]),f=N1(d);return b.createElement(b.Fragment,null,h.map(p=>b.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...r})),m.map(p=>b.createElement("link",{key:p,rel:"modulepreload",href:p,...r})),f.map(({key:p,link:y})=>b.createElement("link",{key:p,nonce:r.nonce,...y})))}function E1(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var B0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{B0&&(window.__reactRouterVersion="7.9.6")}catch{}function C1(t,e){return fj({basename:e==null?void 0:e.basename,getContext:e==null?void 0:e.getContext,future:e==null?void 0:e.future,history:Eb({window:e==null?void 0:e.window}),hydrationData:P1(),routes:t,mapRouteProperties:Zj,hydrationRouteProperties:e1,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window,unstable_instrumentations:e==null?void 0:e.unstable_instrumentations}).initialize()}function P1(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:R1(t.errors)}),t}function R1(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,s]of e)if(s&&s.__type==="RouteErrorResponse")r[n]=new el(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let a=new i(s.message);a.stack="",r[n]=a}catch{}}if(r[n]==null){let i=new Error(s.message);i.stack="",r[n]=i}}else r[n]=s;return r}var H0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,V0=b.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h,...m},f){let{basename:p}=b.useContext(or),y=typeof u=="string"&&H0.test(u),w,v=!1;if(typeof u=="string"&&y&&(w=u,B0))try{let z=new URL(window.location.href),E=u.startsWith("//")?new URL(z.protocol+u):new URL(u),q=qt(E.pathname,p);E.origin===z.origin&&q!=null?u=q+E.search+E.hash:v=!0}catch{ze(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=$j(u,{relative:s}),[x,_,N]=_1(n,m),P=L1(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function j(z){e&&e(z),z.defaultPrevented||P(z)}let L=b.createElement("a",{...m,...N,href:w||g,onClick:v||i?e:j,ref:E1(f,_),target:c,"data-discover":!y&&r==="render"?"true":void 0});return x&&!y?b.createElement(b.Fragment,null,L,b.createElement(S1,{page:g})):L});V0.displayName="Link";var q0=b.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:a,viewTransition:l,children:c,...u},d){let h=ya(a,{relative:u.relative}),m=Kt(),f=b.useContext(va),{navigator:p,basename:y}=b.useContext(or),w=f!=null&&M1(h)&&l===!0,v=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,g=m.pathname,x=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;r||(g=g.toLowerCase(),x=x?x.toLowerCase():null,v=v.toLowerCase()),x&&y&&(x=qt(x,y)||x);const _=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let N=g===v||!s&&g.startsWith(v)&&g.charAt(_)==="/",P=x!=null&&(x===v||!s&&x.startsWith(v)&&x.charAt(v.length)==="/"),j={isActive:N,isPending:P,isTransitioning:w},L=N?e:void 0,z;typeof n=="function"?z=n(j):z=[n,N?"active":null,P?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let E=typeof i=="function"?i(j):i;return b.createElement(V0,{...u,"aria-current":L,className:z,ref:d,style:E,to:a,viewTransition:l},typeof c=="function"?c(j):c)});q0.displayName="NavLink";var O1=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:s,state:i,method:a=No,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,...m},f)=>{let p=D1(),y=$1(l,{relative:u}),w=a.toLowerCase()==="get"?"get":"post",v=typeof l=="string"&&H0.test(l),g=x=>{if(c&&c(x),x.defaultPrevented)return;x.preventDefault();let _=x.nativeEvent.submitter,N=(_==null?void 0:_.getAttribute("formmethod"))||a;p(_||x.currentTarget,{fetcherKey:e,method:N,navigate:r,replace:s,state:i,relative:u,preventScrollReset:d,viewTransition:h})};return b.createElement("form",{ref:f,method:w,action:y,onSubmit:n?c:g,...m,"data-discover":!v&&t==="render"?"true":void 0})});O1.displayName="Form";function T1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W0(t){let e=b.useContext(Vn);return fe(e,T1(t)),e}function L1(t,{target:e,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:a}={}){let l=an(),c=Kt(),u=ya(t,{relative:i});return b.useCallback(d=>{if(u1(d,e)){d.preventDefault();let h=r!==void 0?r:gr(c)===gr(u);l(t,{replace:h,state:n,preventScrollReset:s,relative:i,viewTransition:a})}},[c,l,u,r,n,e,t,s,i,a])}var A1=0,I1=()=>`__${String(++A1)}__`;function D1(){let{router:t}=W0("useSubmit"),{basename:e}=b.useContext(or),r=Qj();return b.useCallback(async(n,s={})=>{let{action:i,method:a,encType:l,formData:c,body:u}=f1(n,e);if(s.navigate===!1){let d=s.fetcherKey||I1();await t.fetch(d,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||a,formEncType:s.encType||l,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:u,formMethod:s.method||a,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,r])}function $1(t,{relative:e}={}){let{basename:r}=b.useContext(or),n=b.useContext(Wt);fe(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...ya(t||".",{relative:e})},a=Kt();if(t==null){i.search=a.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let d=l.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:pr([r,i.pathname])),gr(i)}function M1(t,{relative:e}={}){let r=b.useContext(Zd);fe(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=W0("useViewTransitionState"),s=ya(t,{relative:e});if(!r.isTransitioning)return!1;let i=qt(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=qt(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Zo(s.pathname,a)!=null||Zo(s.pathname,i)!=null}function z1(t){return b.createElement(r1,{flushSync:v0.flushSync,...t})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var U1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Z=(t,e)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>b.createElement("svg",{ref:d,...U1,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${F1(t)}`,l].join(" "),...u},[...e.map(([h,m])=>b.createElement(h,m)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=Z("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=Z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=Z("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=Z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=Z("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=Z("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=Z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=Z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=Z("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=Z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=Z("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=Z("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=Z("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=Z("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=Z("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=Z("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=Z("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=Z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=Z("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=Z("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=Z("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=Z("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=Z("LifeBuoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=Z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=Z("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=Z("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=Z("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=Z("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=Z("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=Z("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=Z("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=Z("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=Z("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=Z("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=Z("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=Z("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=Z("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=Z("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=Z("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=Z("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=Z("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=Z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=Z("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=Z("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=Z("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=Z("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=Z("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=Z("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var Iu=function(t,e){return Iu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Iu(t,e)};function tv(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Iu(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var il=function(){return il=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},il.apply(this,arguments)};function qs(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function rv(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(i=(s<3?a(i):s>3?a(e,r,i):a(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function nv(t,e){return function(r,n){e(r,n,t)}}function sv(t,e,r,n,s,i){function a(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,m=!1,f=r.length-1;f>=0;f--){var p={};for(var y in n)p[y]=y==="access"?{}:n[y];for(var y in n.access)p.access[y]=n.access[y];p.addInitializer=function(v){if(m)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(v||null))};var w=(0,r[f])(l==="accessor"?{get:d.get,set:d.set}:d[c],p);if(l==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(h=a(w.get))&&(d.get=h),(h=a(w.set))&&(d.set=h),(h=a(w.init))&&s.unshift(h)}else(h=a(w))&&(l==="field"?s.unshift(h):d[c]=h)}u&&Object.defineProperty(u,n.name,d),m=!0}function iv(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function av(t){return typeof t=="symbol"?t:"".concat(t)}function ov(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function lv(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function J(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})}function cv(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var $l=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function uv(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&$l(e,t,r)}function al(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function oh(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],a;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(l){a={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function dv(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(oh(arguments[e]));return t}function hv(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],a=0,l=i.length;a<l;a++,s++)n[s]=i[a];return n}function fv(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function $s(t){return this instanceof $s?(this.v=t,this):new $s(t)}function mv(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(f){return function(p){return Promise.resolve(p).then(f,h)}}function l(f,p){n[f]&&(s[f]=function(y){return new Promise(function(w,v){i.push([f,y,w,v])>1||c(f,y)})},p&&(s[f]=p(s[f])))}function c(f,p){try{u(n[f](p))}catch(y){m(i[0][3],y)}}function u(f){f.value instanceof $s?Promise.resolve(f.value.v).then(d,h):m(i[0][2],f)}function d(f){c("next",f)}function h(f){c("throw",f)}function m(f,p){f(p),i.shift(),i.length&&c(i[0][0],i[0][1])}}function pv(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(a){return(r=!r)?{value:$s(t[s](a)),done:!1}:i?i(a):a}:i}}function gv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof al=="function"?al(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(a){return new Promise(function(l,c){a=t[i](a),s(l,c,a.done,a.value)})}}function s(i,a,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},a)}}function vv(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var f_=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Du=function(t){return Du=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Du(t)};function yv(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Du(t),n=0;n<r.length;n++)r[n]!=="default"&&$l(e,t,r[n]);return f_(e,t),e}function xv(t){return t&&t.__esModule?t:{default:t}}function wv(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function bv(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function jv(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function _v(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var m_=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function Sv(t){function e(i){t.error=t.hasError?new m_(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(a){return e(a),s()})}else n|=1}catch(a){e(a)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function Nv(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,a){return n?e?".jsx":".js":s&&(!i||!a)?r:s+i+"."+a.toLowerCase()+"js"}):t}const p_={__extends:tv,__assign:il,__rest:qs,__decorate:rv,__param:nv,__esDecorate:sv,__runInitializers:iv,__propKey:av,__setFunctionName:ov,__metadata:lv,__awaiter:J,__generator:cv,__createBinding:$l,__exportStar:uv,__values:al,__read:oh,__spread:dv,__spreadArrays:hv,__spreadArray:fv,__await:$s,__asyncGenerator:mv,__asyncDelegator:pv,__asyncValues:gv,__makeTemplateObject:vv,__importStar:yv,__importDefault:xv,__classPrivateFieldGet:wv,__classPrivateFieldSet:bv,__classPrivateFieldIn:jv,__addDisposableResource:_v,__disposeResources:Sv,__rewriteRelativeImportExtension:Nv},g_=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:_v,get __assign(){return il},__asyncDelegator:pv,__asyncGenerator:mv,__asyncValues:gv,__await:$s,__awaiter:J,__classPrivateFieldGet:wv,__classPrivateFieldIn:jv,__classPrivateFieldSet:bv,__createBinding:$l,__decorate:rv,__disposeResources:Sv,__esDecorate:sv,__exportStar:uv,__extends:tv,__generator:cv,__importDefault:xv,__importStar:yv,__makeTemplateObject:vv,__metadata:lv,__param:nv,__propKey:av,__read:oh,__rest:qs,__rewriteRelativeImportExtension:Nv,__runInitializers:iv,__setFunctionName:ov,__spread:dv,__spreadArray:fv,__spreadArrays:hv,__values:al,default:p_},Symbol.toStringTag,{value:"Module"})),v_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class lh extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class y_ extends lh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class sm extends lh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class im extends lh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var $u;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})($u||($u={}));class x_{constructor(e,{headers:r={},customFetch:n,region:s=$u.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=v_(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return J(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=n;let m={},{region:f}=n;f||(f=this.region);const p=new URL(`${this.url}/${r}`);f&&f!=="any"&&(m["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let y;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(m["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(m["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;let w=d;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),d?(w=a.signal,d.addEventListener("abort",()=>a.abort())):w=a.signal);const v=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:y,signal:w}).catch(N=>{throw new y_(N)}),g=v.headers.get("x-relay-error");if(g&&g==="true")throw new sm(v);if(!v.ok)throw new im(v);let x=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return x==="application/json"?_=yield v.json():x==="application/octet-stream"||x==="application/pdf"?_=yield v.blob():x==="text/event-stream"?_=v:x==="multipart/form-data"?_=yield v.formData():_=yield v.text(),{data:_,error:null,response:v}}catch(l){return{data:null,error:l,response:l instanceof im||l instanceof sm?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var lt={};const Ws=Zy(g_);var eo={},to={},ro={},no={},so={},io={},am;function kv(){if(am)return io;am=1,Object.defineProperty(io,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return io.default=t,io}var om;function Ev(){if(om)return so;om=1,Object.defineProperty(so,"__esModule",{value:!0});const e=Ws.__importDefault(kv());class r{constructor(s){var i,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,h,m;let f=null,p=null,y=null,w=c.status,v=c.statusText;if(c.ok){if(this.method!=="HEAD"){const N=await c.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?p=N:p=JSON.parse(N))}const x=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");x&&_&&_.length>1&&(y=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(f={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,y=null,w=406,v="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const x=await c.text();try{f=JSON.parse(x),Array.isArray(f)&&c.status===404&&(p=[],f=null,w=200,v="OK")}catch{c.status===404&&x===""?(w=204,v="No Content"):f={message:x}}if(f&&this.isMaybeSingle&&(!((m=f==null?void 0:f.details)===null||m===void 0)&&m.includes("0 rows"))&&(f=null,w=200,v="OK"),f&&this.shouldThrowOnError)throw new e.default(f)}return{error:f,data:p,count:y,status:w,statusText:v}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,h,m,f,p;let y="";const w=c==null?void 0:c.cause;if(w){const v=(u=w==null?void 0:w.message)!==null&&u!==void 0?u:"",g=(d=w==null?void 0:w.code)!==null&&d!==void 0?d:"";y=`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,y+=`

Caused by: ${(m=w==null?void 0:w.name)!==null&&m!==void 0?m:"Error"}: ${v}`,g&&(y+=` (${g})`),w!=null&&w.stack&&(y+=`
${w.stack}`)}else y=(f=c==null?void 0:c.stack)!==null&&f!==void 0?f:"";return{error:{message:`${(p=c==null?void 0:c.name)!==null&&p!==void 0?p:"FetchError"}: ${c==null?void 0:c.message}`,details:y,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}}return so.default=r,so}var lm;function Cv(){if(lm)return no;lm=1,Object.defineProperty(no,"__esModule",{value:!0});const e=Ws.__importDefault(Ev());class r extends e.default{select(s){let i=!1;const a=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:a,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:a=i}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:a,referencedTable:l=a}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:a=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const h=[s?"analyze":null,i?"verbose":null,a?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return no.default=r,no}var cm;function ch(){if(cm)return ro;cm=1,Object.defineProperty(ro,"__esModule",{value:!0});const e=Ws.__importDefault(Cv()),r=new RegExp("[,()]");class n extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}regexMatch(i,a){return this.url.searchParams.append(i,`match.${a}`),this}regexIMatch(i,a){return this.url.searchParams.append(i,`imatch.${a}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}isDistinct(i,a){return this.url.searchParams.append(i,`isdistinct.${a}`),this}in(i,a){const l=Array.from(new Set(a)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${d}.${a}`),this}match(i){return Object.entries(i).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(i,a,l){return this.url.searchParams.append(i,`not.${a}.${l}`),this}or(i,{foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,a,l){return this.url.searchParams.append(i,`${a}.${l}`),this}}return ro.default=n,ro}var um;function Pv(){if(um)return to;um=1,Object.defineProperty(to,"__esModule",{value:!0});const e=Ws.__importDefault(ch());class r{constructor(s,{headers:i={},schema:a,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=a,this.fetch=l}select(s,i){const{head:a=!1,count:l}=i??{},c=a?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:a=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:a=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((m,f)=>m.concat(Object.keys(f)),[]);if(h.length>0){const m=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var a;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var i;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return to.default=r,to}var dm;function w_(){if(dm)return eo;dm=1,Object.defineProperty(eo,"__esModule",{value:!0});const t=Ws,e=t.__importDefault(Pv()),r=t.__importDefault(ch());class n{constructor(i,{headers:a={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(a),this.schemaName=l,this.fetch=c}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const a=new URL(`${this.url}/${i}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,a={},{head:l=!1,get:c=!1,count:u}={}){var d;let h;const m=new URL(`${this.url}/rpc/${i}`);let f;l||c?(h=l?"HEAD":"GET",Object.entries(a).filter(([y,w])=>w!==void 0).map(([y,w])=>[y,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([y,w])=>{m.searchParams.append(y,w)})):(h="POST",f=a);const p=new Headers(this.headers);return u&&p.set("Prefer",`count=${u}`),new r.default({method:h,url:m,headers:p,schema:this.schemaName,body:f,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return eo.default=n,eo}Object.defineProperty(lt,"__esModule",{value:!0});var Rv=lt.PostgrestError=Uv=lt.PostgrestBuilder=Mv=lt.PostgrestTransformBuilder=Dv=lt.PostgrestFilterBuilder=Av=lt.PostgrestQueryBuilder=Tv=lt.PostgrestClient=void 0;const Ks=Ws,Ov=Ks.__importDefault(w_());var Tv=lt.PostgrestClient=Ov.default;const Lv=Ks.__importDefault(Pv());var Av=lt.PostgrestQueryBuilder=Lv.default;const Iv=Ks.__importDefault(ch());var Dv=lt.PostgrestFilterBuilder=Iv.default;const $v=Ks.__importDefault(Cv());var Mv=lt.PostgrestTransformBuilder=$v.default;const zv=Ks.__importDefault(Ev());var Uv=lt.PostgrestBuilder=zv.default;const Fv=Ks.__importDefault(kv());Rv=lt.PostgrestError=Fv.default;var Bv=lt.default={PostgrestClient:Ov.default,PostgrestQueryBuilder:Lv.default,PostgrestFilterBuilder:Iv.default,PostgrestTransformBuilder:$v.default,PostgrestBuilder:zv.default,PostgrestError:Fv.default};const b_=Yy({__proto__:null,get PostgrestBuilder(){return Uv},get PostgrestClient(){return Tv},get PostgrestError(){return Rv},get PostgrestFilterBuilder(){return Dv},get PostgrestQueryBuilder(){return Av},get PostgrestTransformBuilder(){return Mv},default:Bv},[lt]),{PostgrestClient:j_,PostgrestQueryBuilder:ME,PostgrestFilterBuilder:zE,PostgrestTransformBuilder:UE,PostgrestBuilder:FE,PostgrestError:BE}=Bv||b_;class __{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const S_="2.84.0",N_=`realtime-js/${S_}`,Hv="1.0.0",k_="2.0.0",hm=Hv,Mu=1e4,E_=1e3,C_=100;var yn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(yn||(yn={}));var Ve;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ve||(Ve={}));var rr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(rr||(rr={}));var zu;(function(t){t.websocket="websocket"})(zu||(zu={}));var xn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(xn||(xn={}));class P_{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n,s,i;const a=e.topic,l=(r=e.ref)!==null&&r!==void 0?r:"",c=(n=e.join_ref)!==null&&n!==void 0?n:"",u=e.payload.event,d=(i=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0),h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+u.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let f=new DataView(m),p=0;f.setUint8(p++,this.KINDS.userBroadcastPush),f.setUint8(p++,c.length),f.setUint8(p++,l.length),f.setUint8(p++,a.length),f.setUint8(p++,u.length),f.setUint8(p++,this.BINARY_ENCODING),Array.from(c,w=>f.setUint8(p++,w.charCodeAt(0))),Array.from(l,w=>f.setUint8(p++,w.charCodeAt(0))),Array.from(a,w=>f.setUint8(p++,w.charCodeAt(0))),Array.from(u,w=>f.setUint8(p++,w.charCodeAt(0)));var y=new Uint8Array(m.byteLength+d.byteLength);return y.set(new Uint8Array(m),0),y.set(new Uint8Array(d),m.byteLength),y.buffer}_encodeJsonUserBroadcastPush(e){var r,n,s,i;const a=e.topic,l=(r=e.ref)!==null&&r!==void 0?r:"",c=(n=e.join_ref)!==null&&n!==void 0?n:"",u=e.payload.event,d=(i=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},m=new TextEncoder().encode(JSON.stringify(d)).buffer,f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+u.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let y=new DataView(p),w=0;y.setUint8(w++,this.KINDS.userBroadcastPush),y.setUint8(w++,c.length),y.setUint8(w++,l.length),y.setUint8(w++,a.length),y.setUint8(w++,u.length),y.setUint8(w++,this.JSON_ENCODING),Array.from(c,g=>y.setUint8(w++,g.charCodeAt(0))),Array.from(l,g=>y.setUint8(w++,g.charCodeAt(0))),Array.from(a,g=>y.setUint8(w++,g.charCodeAt(0))),Array.from(u,g=>y.setUint8(w++,g.charCodeAt(0)));var v=new Uint8Array(p.byteLength+m.byteLength);return v.set(new Uint8Array(p),0),v.set(new Uint8Array(m),p.byteLength),v.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,a,l,c]=n;return r({join_ref:s,ref:i,topic:a,event:l,payload:c})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(e.slice(c,c+s));c=c+s;const d=n.decode(e.slice(c,c+i));c=c+i;const h=n.decode(e.slice(c,c+a));c=c+a;const m=e.slice(c,e.byteLength),f=l===this.JSON_ENCODING?JSON.parse(n.decode(m)):m,p={type:this.BROADCAST_EVENT,event:d,payload:f};return a>0&&(p.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class Vv{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ke;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ke||(ke={}));const fm=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=R_(a,t,e,s),i),{}):{}},R_=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?qv(i,a):Uu(a)},qv=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return A_(e,r)}switch(t){case ke.bool:return O_(e);case ke.float4:case ke.float8:case ke.int2:case ke.int4:case ke.int8:case ke.numeric:case ke.oid:return T_(e);case ke.json:case ke.jsonb:return L_(e);case ke.timestamp:return I_(e);case ke.abstime:case ke.date:case ke.daterange:case ke.int4range:case ke.int8range:case ke.money:case ke.reltime:case ke.text:case ke.time:case ke.timestamptz:case ke.timetz:case ke.tsrange:case ke.tstzrange:return Uu(e);default:return Uu(e)}},Uu=t=>t,O_=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},T_=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},L_=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},A_=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>qv(e,l))}return t},I_=t=>typeof t=="string"?t.replace(" ","T"):t,Wv=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class jc{constructor(e,r,n={},s=Mu){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var mm;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(mm||(mm={}));class Ti{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ti.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=Ti.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ti.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const m=d.map(w=>w.presence_ref),f=h.map(w=>w.presence_ref),p=d.filter(w=>f.indexOf(w.presence_ref)<0),y=h.filter(w=>m.indexOf(w.presence_ref)<0);p.length>0&&(l[u]=p),y.length>0&&(c[u]=y)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(f=>f.presence_ref),m=d.filter(f=>h.indexOf(f.presence_ref)<0);e[l].unshift(...m)}n(l,d,c)}),this.map(a,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pm;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(pm||(pm={}));var Li;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Li||(Li={}));var wr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(wr||(wr={}));class uh{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new jc(this,rr.join,this.params,this.timeout),this.rejoinTimer=new Vv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ve.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rr.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new Ti(this),this.broadcastEndpointURL=Wv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ve.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Li.PRESENCE]&&this.bindings[Li.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(wr.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(wr.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){e==null||e(wr.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,w=(p=y==null?void 0:y.length)!==null&&p!==void 0?p:0,v=[];for(let g=0;g<w;g++){const x=y[g],{filter:{event:_,schema:N,table:P,filter:j}}=x,L=f&&f[g];if(L&&L.event===_&&L.schema===N&&L.table===P&&L.filter===j)v.push(Object.assign(Object.assign({},x),{id:L.id}));else{this.unsubscribe(),this.state=Ve.errored,e==null||e(wr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(wr.SUBSCRIBED);return}}).receive("error",f=>{this.state=Ve.errored,e==null||e(wr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(wr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Ve.joined&&e===Li.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ve.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new jc(this,rr.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ve.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new jc(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>C_){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=rr;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let m=this._onMessage(a,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var p,y,w;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((w=(y=f.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(f=>f.callback(m,n)):(i=this.bindings[a])===null||i===void 0||i.filter(f=>{var p,y,w,v,g,x;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const _=f.id,N=(p=f.filter)===null||p===void 0?void 0:p.event;return _&&((y=r.ids)===null||y===void 0?void 0:y.includes(_))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(g=(v=f==null?void 0:f.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return _==="*"||_===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof m=="object"&&"ids"in m){const p=m.data,{schema:y,table:w,commit_timestamp:v,type:g,errors:x}=p;m=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:v,eventType:g,new:{},old:{},errors:x}),this._getPayloadRecords(p))}f.callback(m,n)})}_isClosed(){return this.state===Ve.closed}_isJoined(){return this.state===Ve.joined}_isJoining(){return this.state===Ve.joining}_isLeaving(){return this.state===Ve.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&uh.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(rr.close,{},e)}_onError(e){this._on(rr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ve.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=fm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=fm(e.columns,e.old_record)),r}}const _c=()=>{},ao={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},D_=[1e3,2e3,5e3,1e4],$_=1e4,M_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class z_{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mu,this.transport=null,this.heartbeatIntervalMs=ao.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_c,this.ref=0,this.reconnectTimer=null,this.vsn=hm,this.logger=_c,this.conn=null,this.sendBuffer=[],this.serializer=new P_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${zu.websocket}`,this.httpEndpoint=Wv(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=__.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case yn.connecting:return xn.Connecting;case yn.open:return xn.Open;case yn.closing:return xn.Closing;default:return xn.Closed}}isConnected(){return this.connectionState()===xn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new uh(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(E_,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ao.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===yn.open||this.conn.readyState===yn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(rr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([M_],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:N_};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(rr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Vv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ao.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,a,l,c,u,d,h,m,f;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Mu,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:ao.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:_c,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:hm,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:p=>D_[p-1]||$_,this.vsn){case Hv:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(p,y)=>y(JSON.stringify(p)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(p,y)=>y(JSON.parse(p));break;case k_:this.encode=(m=e==null?void 0:e.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class dh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Le(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class U_ extends dh{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fu extends dh{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const hh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),F_=()=>Response,Bu=t=>{if(Array.isArray(t))return t.map(r=>Bu(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Bu(n)}),e},B_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Sc=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},H_=(t,e,r)=>J(void 0,void 0,void 0,function*(){const n=yield F_();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,a=(s==null?void 0:s.statusCode)||i+"";e(new U_(Sc(s),i,a))}).catch(s=>{e(new Fu(Sc(s),s))}):e(new Fu(Sc(t),t))}),V_=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(B_(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function ba(t,e,r,n,s,i){return J(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(r,V_(e,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>H_(c,l,n))})})}function ia(t,e,r,n){return J(this,void 0,void 0,function*(){return ba(t,"GET",e,r,n)})}function er(t,e,r,n,s){return J(this,void 0,void 0,function*(){return ba(t,"POST",e,n,s,r)})}function Hu(t,e,r,n,s){return J(this,void 0,void 0,function*(){return ba(t,"PUT",e,n,s,r)})}function q_(t,e,r,n){return J(this,void 0,void 0,function*(){return ba(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function fh(t,e,r,n,s){return J(this,void 0,void 0,function*(){return ba(t,"DELETE",e,n,s,r)})}class W_{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return J(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Le(e))return{data:null,error:e};throw e}})}}var Kv;class K_{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Kv]="BlobDownloadBuilder",this.promise=null}asStream(){return new W_(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return J(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Le(e))return{data:null,error:e};throw e}})}}Kv=Symbol.toStringTag;const G_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class J_{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=hh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return J(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},gm),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?Hu:er)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Le(i))return{data:null,error:i};throw i}})}upload(e,r,n){return J(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return J(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:gm.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield Hu(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Le(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return J(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield er(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new dh("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}})}update(e,r,n){return J(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return J(this,void 0,void 0,function*(){try{return{data:yield er(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}})}copy(e,r,n){return J(this,void 0,void 0,function*(){try{return{data:{path:(yield er(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return J(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield er(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return J(this,void 0,void 0,function*(){try{const s=yield er(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"",l=this._getFinalPath(e),c=()=>ia(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new K_(c,this.shouldThrowOnError)}info(e){return J(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ia(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Bu(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}})}exists(e){return J(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield q_(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Le(n)&&n instanceof Fu){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return J(this,void 0,void 0,function*(){try{return{data:yield fh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}list(e,r,n){return J(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},G_),r),{prefix:e||""});return{data:yield er(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}})}listV2(e,r){return J(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield er(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Gv="2.84.0",Jv={"X-Client-Info":`storage-js/${Gv}`};class Q_{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jv),r),this.fetch=hh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return J(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield ia(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}getBucket(e){return J(this,void 0,void 0,function*(){try{return{data:yield ia(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}createBucket(e){return J(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield er(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return J(this,void 0,void 0,function*(){try{return{data:yield Hu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}})}emptyBucket(e){return J(this,void 0,void 0,function*(){try{return{data:yield er(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}deleteBucket(e){return J(this,void 0,void 0,function*(){try{return{data:yield fh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Y_{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jv),r),this.fetch=hh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return J(this,void 0,void 0,function*(){try{return{data:yield er(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}listBuckets(e){return J(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield ia(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}deleteBucket(e){return J(this,void 0,void 0,function*(){try{return{data:yield fh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}}const mh={"X-Client-Info":`storage-js/${Gv}`,"Content-Type":"application/json"};class Qv extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ct(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Nc extends Qv{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class X_ extends Qv{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var vm;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(vm||(vm={}));const ph=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Z_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ym=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),eS=(t,e,r)=>J(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";e(new Nc(ym(a),s,l))}).catch(()=>{const a=s+"",l=i.statusText||`HTTP ${s} error`;e(new Nc(l,s,a))});else{const a=s+"",l=i.statusText||`HTTP ${s} error`;e(new Nc(l,s,a))}}else e(new X_(ym(t),t))}),tS=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(Z_(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function rS(t,e,r,n,s,i){return J(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(r,tS(e,n,s,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>eS(c,l,n))})})}function Pt(t,e,r,n,s){return J(this,void 0,void 0,function*(){return rS(t,"POST",e,n,s,r)})}class nS{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mh),r),this.fetch=ph(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return J(this,void 0,void 0,function*(){try{return{data:(yield Pt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}getIndex(e,r){return J(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}})}listIndexes(e){return J(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return J(this,void 0,void 0,function*(){try{return{data:(yield Pt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ct(n))return{data:null,error:n};throw n}})}}class sS{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mh),r),this.fetch=ph(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return J(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Pt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}getVectors(e){return J(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}listVectors(e){return J(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Pt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}queryVectors(e){return J(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}deleteVectors(e){return J(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Pt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}}class iS{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mh),r),this.fetch=ph(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return J(this,void 0,void 0,function*(){try{return{data:(yield Pt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}getBucket(e){return J(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}listBuckets(){return J(this,arguments,void 0,function*(e={}){try{return{data:yield Pt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}deleteBucket(e){return J(this,void 0,void 0,function*(){try{return{data:(yield Pt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ct(r))return{data:null,error:r};throw r}})}}class aS extends iS{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new oS(this.url,this.headers,e,this.fetch)}}class oS extends nS{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return J(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return J(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return J(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return J(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new lS(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class lS extends sS{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return J(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return J(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return J(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return J(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return J(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class cS extends Q_{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new J_(this.url,this.headers,e,this.fetch)}get vectors(){return new aS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Y_(this.url+"/iceberg",this.headers,this.fetch)}}const uS="2.84.0";let wi="";typeof Deno<"u"?wi="deno":typeof document<"u"?wi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?wi="react-native":wi="node";const dS={"X-Client-Info":`supabase-js-${wi}/${uS}`},hS={headers:dS},fS={schema:"public"},mS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pS={},gS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),vS=()=>Headers,yS=(t,e,r)=>{const n=gS(r),s=vS();return async(i,a)=>{var l;const c=(l=await e())!==null&&l!==void 0?l:t;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},a),{headers:u}))}};function xS(t){return t.endsWith("/")?t:t+"/"}function wS(t,e){var r,n;const{db:s,auth:i,realtime:a,global:l}=t,{db:c,auth:u,realtime:d,global:h}=e,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function bS(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(xS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Yv="2.84.0",is=30*1e3,Vu=3,kc=Vu*is,jS="http://localhost:9999",_S="supabase.auth.token",SS={"X-Client-Info":`gotrue-js/${Yv}`},qu="X-Supabase-Api-Version",Xv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},NS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kS=10*60*1e3;class aa extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function X(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ES extends aa{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function CS(t){return X(t)&&t.name==="AuthApiError"}class wn extends aa{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class on extends aa{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Nt extends on{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function PS(t){return X(t)&&t.name==="AuthSessionMissingError"}class Qn extends on{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class oo extends on{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class lo extends on{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function RS(t){return X(t)&&t.name==="AuthImplicitGrantRedirectError"}class xm extends on{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wu extends on{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Ec(t){return X(t)&&t.name==="AuthRetryableFetchError"}class wm extends on{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ku extends on{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ol="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bm=` 	
\r=`.split(""),OS=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<bm.length;e+=1)t[bm[e].charCodeAt(0)]=-2;for(let e=0;e<ol.length;e+=1)t[ol[e].charCodeAt(0)]=e;return t})();function jm(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ol[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ol[n]),e.queuedBits-=6}}function Zv(t,e,r){const n=OS[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function _m(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{AS(a,n,r)};for(let a=0;a<t.length;a+=1)Zv(t.charCodeAt(a),s,i);return e.join("")}function TS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function LS(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}TS(n,e)}}function AS(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ps(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Zv(t.charCodeAt(s),r,n);return new Uint8Array(e)}function IS(t){const e=[];return LS(t,r=>e.push(r)),new Uint8Array(e)}function kn(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>jm(s,r,n)),jm(null,r,n),e.join("")}function DS(t){return Math.round(Date.now()/1e3)+t}function $S(){return Symbol("auth-callback")}const Ye=()=>typeof window<"u"&&typeof document<"u",fn={tested:!1,writable:!1},ey=()=>{if(!Ye())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fn.tested)return fn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),fn.tested=!0,fn.writable=!0}catch{fn.tested=!0,fn.writable=!1}return fn.writable};function MS(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const ty=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),zS=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",as=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},mn=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Lr=async(t,e)=>{await t.removeItem(e)};class Ml{constructor(){this.promise=new Ml.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ml.promiseConstructor=Promise;function Cc(t){const e=t.split(".");if(e.length!==3)throw new Ku("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!NS.test(e[n]))throw new Ku("JWT not in base64url format");return{header:JSON.parse(_m(e[0])),payload:JSON.parse(_m(e[1])),signature:Ps(e[2]),raw:{header:e[0],payload:e[1]}}}async function US(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function FS(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function BS(t){return("0"+t.toString(16)).substr(-2)}function HS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,BS).join("")}async function VS(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function qS(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await VS(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yn(t,e,r=!1){const n=HS();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await as(t,`${e}-code-verifier`,s);const i=await qS(n);return[i,n===i?"plain":"s256"]}const WS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function KS(t){const e=t.headers.get(qu);if(!e||!e.match(WS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function GS(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function JS(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const QS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xn(t){if(!QS.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Pc(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function YS(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function Sm(t){return JSON.parse(JSON.stringify(t))}const vn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),XS=[502,503,504];async function Nm(t){var e;if(!zS(t))throw new Wu(vn(t),0);if(XS.includes(t.status))throw new Wu(vn(t),t.status);let r;try{r=await t.json()}catch(i){throw new wn(vn(i),i)}let n;const s=KS(t);if(s&&s.getTime()>=Xv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new wm(vn(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Nt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new wm(vn(r),t.status,r.weak_password.reasons);throw new ES(vn(r),t.status||500,n)}const ZS=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function le(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[qu]||(i[qu]=Xv["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await eN(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function eN(t,e,r,n,s,i){const a=ZS(e,n,s,i);let l;try{l=await t(r,Object.assign({},a))}catch(c){throw console.error(c),new Wu(vn(c),0)}if(l.ok||await Nm(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Nm(c)}}function Xt(t){var e;let r=null;nN(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=DS(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function km(t){const e=Xt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ur(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function tN(t){return{data:t,error:null}}function rN(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=qs(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function Em(t){return t}function nN(t){return t.access_token&&t.refresh_token&&t.expires_in}const Rc=["global","local","others"];class sN{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=ty(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Rc[0]){if(Rc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rc.join(", ")}`);try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ur})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=qs(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:rN,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(X(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ur})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Em});if(d.error)throw d.error;const h=await d.json(),m=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{const y=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);u[`${w}Page`]=y}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(X(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Xn(e);try{return await le(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ur})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Xn(e);try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ur})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Xn(e);try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ur})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Xn(e.userId);try{const{data:r,error:n}=await le(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(X(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Xn(e.userId),Xn(e.id);try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Em});if(d.error)throw d.error;const h=await d.json(),m=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{const y=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);u[`${w}Page`]=y}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(X(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(X(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(X(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await le(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(X(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(X(r))return{data:null,error:r};throw r}}}function Cm(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Zn={debug:!!(globalThis&&ey()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ry extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class iN extends ry{}async function aN(t,e,r){Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Zn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new iN(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Zn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function oN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ny(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function lN(t){return parseInt(t,16)}function cN(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function uN(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:m}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=ny(t.address),p=d?`${d}://${n}`:n,y=t.statement?`${t.statement}
`:"",w=`${p} wants you to sign in with your Ethereum account:
${f}

${y}`;let v=`URI: ${h}
Version: ${m}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(v+=`
Expiration Time: ${s.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),c&&(v+=`
Request ID: ${c}`),u){let g=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);g+=`
- ${x}`}v+=g}return`${w}
${v}`}class Fe extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class ll extends Fe{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function dN({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Fe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(sy(a)){if(i.rp.id!==a)return new Fe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function hN({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Fe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(sy(n)){if(r.rpId!==n)return new Fe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class fN{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const mN=new fN;function pN(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=qs(t,["challenge","user","excludeCredentials"]),i=Ps(e).buffer,a=Object.assign(Object.assign({},r),{id:Ps(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Ps(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function gN(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=qs(t,["challenge","allowCredentials"]),s=Ps(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:Ps(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function vN(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:kn(new Uint8Array(t.response.attestationObject)),clientDataJSON:kn(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function yN(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:kn(new Uint8Array(s.authenticatorData)),clientDataJSON:kn(new Uint8Array(s.clientDataJSON)),signature:kn(new Uint8Array(s.signature)),userHandle:s.userHandle?kn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function sy(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Pm(){var t,e;return!!(Ye()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function xN(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ll("Browser returned unexpected credential type",e)}:{data:null,error:new ll("Empty credential response",e)}}catch(e){return{data:null,error:dN({error:e,options:t})}}}async function wN(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ll("Browser returned unexpected credential type",e)}:{data:null,error:new ll("Empty credential response",e)}}catch(e){return{data:null,error:hN({error:e,options:t})}}}const bN={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},jN={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function cl(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(e(a)){const l=n[i];e(l)?n[i]=cl(l,a):n[i]=cl(a)}else n[i]=a}return n}function _N(t,e){return cl(bN,t,e||{})}function SN(t,e){return cl(jN,t,e||{})}class NN{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:l};const c=s??mN.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=_N(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await xN({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=SN(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await wN(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return X(a)?{data:null,error:a}:{data:null,error:new wn("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new aa("rpId is required for WebAuthn authentication")};try{if(!Pm())return{data:null,error:new wn("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(a){return X(a)?{data:null,error:a}:{data:null,error:new wn("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new aa("rpId is required for WebAuthn registration")};try{if(!Pm())return{data:null,error:new wn("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return X(a)?{data:null,error:a}:{data:null,error:new wn("Unexpected error in register",a)}}}}oN();const kN={url:jS,storageKey:_S,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:SS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Rm(t,e,r){return await r()}const es={};class oa{get jwks(){var e,r;return(r=(e=es[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){es[this.storageKey]=Object.assign(Object.assign({},es[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=es[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){es[this.storageKey]=Object.assign(Object.assign({},es[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},kN),e);if(this.storageKey=i.storageKey,this.instanceID=(r=oa.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,oa.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ye()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new sN({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=ty(i.fetch),this.lock=i.lock||Rm,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Ye()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=aN:this.lock=Rm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new NN(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:ey()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Cm(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Cm(this.memoryStorage)),Ye()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Yv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Ye()&&(r=MS(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ye()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),RS(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return X(r)?this._returnResult({error:r}):this._returnResult({error:new wn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Xt}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(X(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:m}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Yn(this.storage,this.storageKey)),i=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:f,code_challenge_method:p},xform:Xt})}else if("phone"in e){const{phone:d,password:h,options:m}=e;i=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Xt})}else throw new oo("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(X(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:l}=e;r=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:km})}else if("phone"in e){const{phone:i,password:a,options:l}=e;r=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:km})}else throw new oo("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Qn;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(X(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,a,l,c,u,d,h,m;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:y,wallet:w,statement:v,options:g}=e;let x;if(Ye())if(typeof w=="object")x=w;else{const z=window;if("ethereum"in z&&typeof z.ethereum=="object"&&"request"in z.ethereum&&typeof z.ethereum.request=="function")x=z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=w}const _=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href),N=await x.request({method:"eth_requestAccounts"}).then(z=>z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=ny(N[0]);let j=(n=g==null?void 0:g.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const z=await x.request({method:"eth_chainId"});j=lN(z)}const L={domain:_.host,address:P,statement:v,uri:_.href,version:"1",chainId:j,nonce:(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=uN(L),p=await x.request({method:"personal_sign",params:[cN(f),P]})}try{const{data:y,error:w}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:p},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Xt});if(w)throw w;if(!y||!y.session||!y.user){const v=new Qn;return this._returnResult({data:{user:null,session:null},error:v})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:w})}catch(y){if(X(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var r,n,s,i,a,l,c,u,d,h,m,f;let p,y;if("message"in e)p=e.message,y=e.signature;else{const{chain:w,wallet:v,statement:g,options:x}=e;let _;if(Ye())if(typeof v=="object")_=v;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))_=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const N=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const P=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),g?{statement:g}:null));let j;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")j=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)j=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)p=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),y=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${N.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const P=await _.signMessage(new TextEncoder().encode(p),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=P}}try{const{data:w,error:v}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:kn(y)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Xt});if(v)throw v;if(!w||!w.session||!w.user){const g=new Qn;return this._returnResult({data:{user:null,session:null},error:g})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:v})}catch(w){if(X(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(e){const r=await mn(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Xt});if(await Lr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new Qn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(X(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,l=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Xt}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Qn;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(X(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Yn(this.storage,this.storageKey));const{error:h}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new oo("You must provide either an email or phone number.")}catch(l){if(X(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Xt});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(X(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Yn(this.storage,this.storageKey));const u=await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:tN});return!((i=u.data)===null||i===void 0)&&i.url&&Ye()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(X(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Nt;const{error:s}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(X(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await le(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:l}=await le(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new oo("You must provide either an email or phone number and a type")}catch(r){if(X(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await mn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<kc:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await mn(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Pc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=YS(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ur}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nt}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ur})})}catch(r){if(X(r))return PS(r)&&(await this._removeSession(),await Lr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Nt;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Yn(this.storage,this.storageKey));const{data:u,error:d}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Ur});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(X(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Nt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Cc(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(X(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:l}=r;if(l)throw l;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Nt;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(X(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Ye())throw new lo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new lo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new xm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new lo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new xm("No code detected.");const{data:g,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!a||!u)throw new lo("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;c&&(m=parseInt(c));const f=m-d;f*1e3<=is&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const p=m-h;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,m,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,m,d);const{data:y,error:w}=await this._getUser(i);if(w)throw w;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:e.type},error:null})}catch(n){if(X(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await mn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(CS(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await Lr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=$S(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Yn(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(X(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:h,error:m}=i;if(m)throw m;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ye()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(X(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:l,token:c,access_token:u,nonce:d}=e,h=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Xt}),{data:m,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new Qn}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:f}))}catch(s){if(X(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await FS(async s=>(s>0&&await US(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Xt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Ec(i)&&Date.now()+a-n<is})}catch(n){if(this._debug(r,"error",n),X(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ye()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await mn(this.storage,this.storageKey);if(s&&this.userStorage){let a=await mn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await as(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Pc()}else if(s&&!s.user&&!s.user){const a=await mn(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Lr(this.storage,this.storageKey+"-user"),await as(this.storage,this.storageKey,s)):s.user=Pc()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<kc;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${kc}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Ec(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Nt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ml;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Nt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),X(i)){const a={data:null,error:i};return Ec(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await as(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Sm(s);await as(this.storage,this.storageKey,i)}else{const s=Sm(r);await as(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Lr(this.storage,this.storageKey),await Lr(this.storage,this.storageKey+"-code-verifier"),await Lr(this.storage,this.storageKey+"-user"),this.userStorage&&await Lr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ye()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),is);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/is);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${is}ms, refresh threshold is ${Vu} ticks`),s<=Vu&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ry)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ye()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Yn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await le(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await le(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?vN(e.webauthn.credential_response):yN(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:pN(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:gN(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Cc(n.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await le(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Nt})})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Nt});const a=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Ye()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(X(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Nt});const a=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Ye()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(X(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await le(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Nt})})}catch(e){if(X(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await le(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new Nt})})}catch(r){if(X(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+kS>s)return n;const{data:i,error:a}=await le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:f,error:p}=await this.getSession();if(p||!f.session)return this._returnResult({data:null,error:p});n=f.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=Cc(n);r!=null&&r.allowExpired||GS(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:s,signature:a},error:null}}const d=JS(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,IS(`${l}.${c}`)))throw new Ku("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(X(n))return this._returnResult({data:null,error:n});throw n}}}oa.nextInstanceID={};const EN=oa;class CN extends EN{constructor(e){super(e)}}class PN{constructor(e,r,n){var s,i,a;this.supabaseUrl=e,this.supabaseKey=r;const l=bS(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:fS,realtime:pS,auth:Object.assign(Object.assign({},mS),{storageKey:c}),global:hS},d=wS(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=yS(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new j_(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new cS(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new x_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:a,flowType:l,lock:c,debug:u,throwOnError:d},h,m){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new CN({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),h),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:c,debug:u,throwOnError:d,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new z_(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const RN=(t,e,r)=>new PN(t,e,r);function ON(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}ON()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const TN="https://zhimcixubyylezjvpzpc.supabase.co",LN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpoaW1jaXh1Ynl5bGV6anZwenBjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM5MDcyMjgsImV4cCI6MjA3OTQ4MzIyOH0.DRPrgd6XAHk5HU53PtuFUMWItvjpx78dF1tycNTEfps",pe=RN(TN,LN),iy=async()=>{const{data:t,error:e}=await pe.from("v_recursos_disponibles").select("*");return e?(console.error("Error al obtener recursos:",e),[]):t.map(r=>({...r,categoria:r.categoria_nombre||"Sin Categora",stock:r.stock_disponible}))},ay=async()=>{const{data:t,error:e}=await pe.from("sedes").select(`
            *,
            sede_servicios (
                servicios ( nombre )
            )
        `);return e?(console.error("Error al obtener sedes:",e),[]):t.map(r=>({...r,servicios:r.sede_servicios.map(n=>n.servicios.nombre)}))},oy=async()=>{const{data:t,error:e}=await pe.from("horarios_sede").select("*");return e?(console.error("Error al obtener horarios:",e),[]):t},ly=async()=>{const{data:t,error:e}=await pe.from("configuracion").select("*");if(e)return console.error("Error al obtener configuracin:",e),[];const r={};return t.forEach(n=>{r[n.clave]=n.valor}),r},cy=async()=>{const{data:t,error:e}=await pe.from("contenido_web").select("*");if(e)return console.error("Error al obtener contenido web:",e),{};const r={};return t.forEach(n=>{r[n.clave]=n.valor}),r},uy=async()=>{const{data:t,error:e}=await pe.from("usuarios").select(`
            *,
            roles ( nombre )
        `);return e?(console.error("Error al obtener usuarios:",e),[]):t.map(r=>{var i,a;let n="cliente";const s=((a=(i=r.roles)==null?void 0:i.nombre)==null?void 0:a.toLowerCase())||"";return s.includes("admin")?n="admin":s.includes("vend")?n="vendedor":s.includes("mecanic")||s.includes("mecnic")?n="mecanico":(s.includes("due")||s.includes("duen"))&&(n="dueno"),{...r,rol:n,sede:r.sede_id}})},dy=async t=>{var i,a;const{data:e,error:r}=await pe.from("usuarios").select(`
            *,
            roles ( nombre )
        `).eq("id",t).single();if(r)return console.error("Error al obtener usuario por ID:",r),null;let n="cliente";const s=((a=(i=e.roles)==null?void 0:i.nombre)==null?void 0:a.toLowerCase())||"";return s.includes("admin")?n="admin":s.includes("vend")?n="vendedor":s.includes("mecanic")||s.includes("mecnic")?n="mecanico":(s.includes("due")||s.includes("duen"))&&(n="dueno"),{...e,rol:n,sede:e.sede_id}},hy=async t=>{const e=t.items.map(s=>({id:s.id,cantidad:s.cantidad,horas:s.horas,precioPorHora:s.precioPorHora,categoria:s.categoria})),{data:r,error:n}=await pe.rpc("crear_reserva_robusta",{p_cliente_id:t.clienteId,p_vendedor_id:t.vendedorId,p_sede_id:t.sedeId||"costa",p_items:e,p_fecha_inicio:t.fechaInicio,p_tipo_reserva:t.tipoReserva,p_metodo_pago_id:t.metodoPago,p_tipo_comprobante:t.tipoComprobante,p_datos_factura:t.datosFactura});return n?(console.error("Error al crear reserva:",n),{success:!1,error:n.message}):r},AN=async(t,e)=>{const r=t.map(i=>({id:i.id,cantidad:i.cantidad,horas:i.horas})),{data:n,error:s}=await pe.rpc("verificar_disponibilidad_items",{p_fecha_inicio:e,p_items:r});return s?(console.error("Error al verificar disponibilidad:",s),{valido:!1,mensaje:"Error de conexin al verificar disponibilidad"}):n},IN=async(t,e)=>{const r=t.map(i=>({id:i.id,cantidad:i.cantidad,horas:i.horas,precioPorHora:i.precioPorHora,categoria:i.categoria})),{data:n,error:s}=await pe.rpc("calcular_descuento_simulado",{p_items:r,p_fecha_inicio:e||new Date});return s?(console.error("Error al calcular descuentos:",s),{descuentoTotal:0,alertas:[],promocionesAplicadas:[]}):n},fy=async t=>{const{data:e,error:r}=await pe.rpc("registrar_devolucion_robusta",{p_alquiler_id:t});return r?(console.error("Error al registrar devolucin:",r),{success:!1,error:r}):e},Co=async()=>{const{data:t,error:e}=await pe.from("alquileres").select(`
            *,
            alquiler_detalles (
                *,
                recursos ( nombre, imagen )
            ),
            usuarios!cliente_id ( nombre, email ),
            estados_alquiler ( nombre )
        `);return e?(console.error("Error al obtener alquileres:",e),[]):t.map(r=>{var n;return{...r,estado:((n=r.estados_alquiler)==null?void 0:n.nombre)||r.estado_id,items:r.alquiler_detalles.map(s=>{var i,a;return{id:s.recurso_id,nombre:(i=s.recursos)==null?void 0:i.nombre,imagen:(a=s.recursos)==null?void 0:a.imagen,cantidad:s.cantidad,horas:s.horas,precioPorHora:s.precio_unitario}})}})},DN=async()=>{const{data:t,error:e}=await pe.from("promociones").select("*");return e?(console.error("Error al obtener promociones:",e),[]):t},my=async t=>{const e={nombre:t.nombre,email:t.email,password:t.password,numero_documento:t.numeroDocumento,fecha_nacimiento:t.fechaNacimiento,licencia_conducir:t.licenciaConducir,tipo_documento:t.tipoDocumento||"DNI",nacionalidad:t.nacionalidad||"Nacional",rol_id:"cliente"},{data:r,error:n}=await pe.from("usuarios").insert([e]).select();return n?(console.error("Error al registrar usuario:",n),{success:!1,error:n}):{success:!0,data:r[0]}},Gu=async(t,e)=>{const r={...e};r.rol&&(r.rol_id=r.rol,delete r.rol);const{data:n,error:s}=await pe.from("usuarios").update(r).eq("id",t).select();return s?(console.error("Error al actualizar usuario:",s),{success:!1,error:s}):{success:!0,data:n[0]}},py=async(t,e)=>{const{data:r,error:n}=await pe.rpc("reprogramar_alquiler_robusto",{p_alquiler_id:t,p_horas_adicionales:e});return n?(console.error("Error al reprogramar:",n),{success:!1,error:n}):r},gy=async(t,e,r)=>{const{data:n,error:s}=await pe.rpc("aplicar_descuento_manual",{p_alquiler_id:t,p_porcentaje:e,p_motivo:r});return s?(console.error("Error al aplicar descuento:",s),{success:!1,error:s}):n},vy=async t=>{const{data:e,error:r}=await pe.rpc("registrar_pago_saldo",{p_alquiler_id:t});return r?(console.error("Error al registrar pago:",r),{success:!1,error:r}):e},yy=async t=>{const{data:e,error:r}=await pe.rpc("aprobar_reserva",{p_alquiler_id:t});return r?(console.error("Error al aprobar reserva:",r),{success:!1,error:r}):e},xy=async t=>{const{data:e,error:r}=await pe.rpc("entregar_alquiler_robusto",{p_alquiler_id:t});return r?(console.error("Error al entregar alquiler:",r),{success:!1,error:r}):e},Ju=async(t,e,r)=>{const{data:n,error:s}=await pe.rpc("gestionar_mantenimiento",{p_recurso_id:t,p_accion:e,p_motivo:r});return s?(console.error("Error al gestionar mantenimiento:",s),{success:!1,error:s}):n},wy=async t=>{const{data:e,error:r}=await pe.rpc("registrar_no_show_robusto",{p_alquiler_id:t});return r?(console.error("Error al registrar No Show:",r),{success:!1,error:r}):e},$N=async(t,e)=>{const r={};e.nombre&&(r.nombre=e.nombre),e.precioPorHora&&(r.precio_por_hora=e.precioPorHora),e.stock!==void 0&&(r.stock_total=e.stock),e.imagen&&(r.imagen=e.imagen),e.descripcion&&(r.descripcion=e.descripcion),e.activo!==void 0&&(r.activo=e.activo);const{data:n,error:s}=await pe.from("recursos").update(r).eq("id",t).select();return s?(console.error("Error al actualizar recurso:",s),{success:!1,error:s}):{success:!0,data:n[0]}},by=async t=>{const{data:e,error:r}=await pe.from("tarjetas_credito").select("*").eq("usuario_id",t);return r?(console.error("Error al obtener tarjetas:",r),[]):e},jy=async(t,e)=>{const{data:r,error:n}=await pe.from("tarjetas_credito").insert([{usuario_id:t,numero_oculto:e.numero,token:"tok_simulado_"+Date.now(),expiracion:e.exp,titular:e.nombre,es_principal:e.principal}]).select();return n?(console.error("Error al agregar tarjeta:",n),{success:!1,error:n}):{success:!0,data:r[0]}},_y=async t=>{const{error:e}=await pe.from("tarjetas_credito").delete().eq("id",t);return e?(console.error("Error al eliminar tarjeta:",e),{success:!1,error:e}):{success:!0}},Sy=async t=>{const{data:e,error:r}=await pe.from("soporte_tickets").select(`
            *,
            usuario:usuario_id ( nombre, rol_id, roles ( nombre ) )
        `).eq("usuario_id",t).order("created_at",{ascending:!1});return r?(console.error("Error al obtener tickets:",r),[]):e.map(n=>{var s,i;return{...n,usuario:{...n.usuario,rol:((i=(s=n.usuario)==null?void 0:s.roles)==null?void 0:i.nombre)||"usuario"}}})},Ny=async(t,e)=>{const{data:r,error:n}=await pe.from("soporte_tickets").insert([{usuario_id:t,asunto:e.asunto,mensaje:e.mensaje,estado:"pendiente"}]).select().single();if(n)return{success:!1,error:n};let s="u2";const{data:i}=await pe.from("usuarios").select("id").eq("rol_id","admin").limit(1).single();i&&(s=i.id);const{error:a}=await pe.from("mensajes").insert([{remitente_id:t,destinatario_id:s,asunto:`[Ticket #${r.id}] ${e.asunto}`,contenido:e.mensaje,leido:!1}]);return a&&console.warn("No se pudo crear copia en mensajes:",a),{success:!0,data:r}},ky=async t=>{const{data:e,error:r}=await pe.from("mensajes").select(`
            *,
            remitente:remitente_id ( nombre, rol_id, roles ( nombre ) ),
            destinatario:destinatario_id ( nombre, rol_id, roles ( nombre ) )
        `).or(`remitente_id.eq.${t},destinatario_id.eq.${t}`).order("created_at",{ascending:!1});return r?(console.error("Error al obtener mensajes:",r),[]):e},Ey=async t=>{const{data:e,error:r}=await pe.from("v_mis_gastos").select("*").eq("cliente_id",t).order("created_at",{ascending:!1});return r?(console.error("Error al obtener mis gastos:",r),[]):e},Cy=async t=>{const{data:e,error:r}=await pe.from("v_mis_reclamos").select("*").eq("usuario_id",t).order("created_at",{ascending:!1});return r?(console.error("Error al obtener mis reclamos:",r),[]):e},Py=async()=>{const{data:t,error:e}=await pe.from("recursos").select("id, nombre, guia_seguridad, imagen").not("guia_seguridad","is",null);return e?(console.error("Error al obtener guas:",e),[]):t},gh=async t=>{const{data:e,error:r}=await pe.from("paginas").select("*").eq("slug",t).single();return r?(console.error("Error al obtener pgina:",r),null):e},Ry=async()=>{const{data:t,error:e}=await pe.from("faqs").select("*").order("orden",{ascending:!0});return e?(console.error("Error al obtener faqs:",e),[]):t},MN=async t=>{const{data:e,error:r}=await pe.rpc("estimar_disponibilidad_recurso",{p_recurso_id:t});return r?(console.error("Error al estimar disponibilidad:",r),null):e},la=Object.freeze(Object.defineProperty({__proto__:null,actualizarRecursoDB:$N,actualizarUsuarioDB:Gu,agregarTarjeta:jy,aplicarDescuentoManualDB:gy,aprobarReservaDB:yy,calcularDescuentosDB:IN,crearReserva:hy,crearTicket:Ny,eliminarTarjeta:_y,entregarAlquilerDB:xy,estimarDisponibilidad:MN,gestionarMantenimientoDB:Ju,obtenerAlquileres:Co,obtenerConfiguracion:ly,obtenerContenidoWeb:cy,obtenerFaqs:Ry,obtenerGuiasSeguridad:Py,obtenerHorarios:oy,obtenerMensajes:ky,obtenerMisGastos:Ey,obtenerMisReclamos:Cy,obtenerPagina:gh,obtenerPromociones:DN,obtenerRecursos:iy,obtenerSedes:ay,obtenerTarjetas:by,obtenerTickets:Sy,obtenerUsuarioPorId:dy,obtenerUsuarios:uy,registrarDevolucionDB:fy,registrarNoShowDB:wy,registrarPagoSaldoDB:vy,registrarUsuarioDB:my,reprogramarAlquilerDB:py,verificarDisponibilidadDB:AN},Symbol.toStringTag,{value:"Module"})),Qe=b.createContext(),zN=({children:t})=>{const[e,r]=b.useState([]),[n,s]=b.useState(null),[i,a]=b.useState(!0);b.useEffect(()=>{(async()=>{const y=(await uy()).map(v=>({...v,numeroDocumento:v.numero_documento,fechaNacimiento:v.fecha_nacimiento,licenciaConducir:v.licencia_conducir,tipoDocumento:v.tipo_documento,contactoEmergencia:v.contacto_emergencia,codigoEmpleado:v.codigo_empleado}));r(y);const w=localStorage.getItem("usuario_verano_id");if(w)try{const v=await dy(w);if(v){const g={...v,numeroDocumento:v.numero_documento,fechaNacimiento:v.fecha_nacimiento,licenciaConducir:v.licencia_conducir,tipoDocumento:v.tipo_documento,contactoEmergencia:v.contacto_emergencia,codigoEmpleado:v.codigo_empleado};s(g)}else localStorage.removeItem("usuario_verano_id")}catch(v){console.error("Error restaurando sesin:",v),localStorage.removeItem("usuario_verano_id")}a(!1)})()},[]);const l=(f,p)=>{const y=e.find(w=>w.email===f&&w.password===p);return y?(s(y),localStorage.setItem("usuario_verano_id",y.id),!0):!1},c=async f=>{var w;const p={nombre:f.nombre,email:f.email,password:f.password,numero_documento:f.numeroDocumento,fecha_nacimiento:f.fechaNacimiento,licencia_conducir:f.licenciaConducir,tipo_documento:f.tipoDocumento,nacionalidad:f.nacionalidad},y=await my(p);if(y.success){const v={...y.data,...f,id:y.data.id,rol:"cliente"};return r(g=>[...g,v]),s(v),localStorage.setItem("usuario_verano_id",v.id),!0}else return((w=y.error)==null?void 0:w.message)||y.error||"Error desconocido"},u=()=>{s(null),localStorage.removeItem("usuario_verano_id")},d=async(f,p)=>{const y={};p.nombre!==void 0&&(y.nombre=p.nombre),p.telefono!==void 0&&(y.telefono=p.telefono),p.tipoDocumento!==void 0&&(y.tipo_documento=p.tipoDocumento),p.numeroDocumento!==void 0&&(y.numero_documento=p.numeroDocumento),p.fechaNacimiento!==void 0&&(y.fecha_nacimiento=p.fechaNacimiento),p.nacionalidad!==void 0&&(y.nacionalidad=p.nacionalidad),p.licenciaConducir!==void 0&&(y.licencia_conducir=p.licenciaConducir),p.direccion!==void 0&&(y.direccion=p.direccion),p.contactoEmergencia!==void 0&&(y.contacto_emergencia=p.contactoEmergencia),p.codigoEmpleado!==void 0&&(y.codigo_empleado=p.codigoEmpleado),p.turno!==void 0&&(y.turno=p.turno),p.especialidad!==void 0&&(y.especialidad=p.especialidad),p.experiencia!==void 0&&(y.experiencia=p.experiencia),p.anexo!==void 0&&(y.anexo=p.anexo),p.oficina!==void 0&&(y.oficina=p.oficina),r(v=>v.map(g=>g.id===f?{...g,...p}:g)),n&&n.id===f&&s(v=>({...v,...p}));const w=await Gu(f,y);w.success||(console.error("Error al actualizar perfil:",w.error),alert("Error al actualizar perfil en base de datos."))},h=(f,p,y=null)=>{r(w=>w.map(v=>v.id===f?{...v,rol:p,sede:y}:v)),Gu(f,{rol:p,sede_id:y})},m=f=>{r(p=>p.filter(y=>y.id!==f))};return o.jsx(Qe.Provider,{value:{usuario:n,usuarios:e,iniciarSesion:l,registrarUsuario:c,cerrarSesion:u,actualizarPerfil:d,cambiarRolUsuario:h,eliminarUsuario:m,cargando:i},children:t})},UN="modulepreload",FN=function(t){return"/"+t},Om={},Ms=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=FN(c),c in Om)return;Om[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":UN,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((m,f)=>{h.addEventListener("load",m),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},ca=t=>t?new Date(t).toLocaleString("es-PE",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",jt=createContext(),BN=({children:t})=>{const[e,r]=useState([]),[n,s]=useState([]),[i,a]=useState([]),[l,c]=useState([]),[u,d]=useState({}),[h,m]=useState({}),[f,p]=useState("costa"),y=async()=>{try{const[A,O,D,I,$,Q]=await Promise.all([iy(),ay(),Co(),oy(),ly(),cy()]),ve=A.map(ie=>({...ie,stockTotal:ie.stock,sedeId:ie.sede_id,precioPorHora:ie.precio_por_hora}));r(ve),a(O),c(I),d($),m(Q),s(D.map(ie=>{var we;return{...ie,fechaInicio:ie.fecha_inicio,clienteId:ie.cliente_id,vendedorId:ie.vendedor_id,totalServicio:ie.total_servicio,totalFinal:ie.total_final,montoPagado:ie.monto_pagado,saldoPendiente:ie.saldo_pendiente,tipoReserva:ie.tipo_reserva,sedeId:ie.sede_id,cliente:((we=ie.usuarios)==null?void 0:we.nombre)||"Cliente Desconocido"}}))}catch(A){console.error("Error al recargar datos:",A)}};useEffect(()=>{y()},[]);const w=A=>{if(!l||l.length===0)return{abierto:!1,mensaje:"Horario no disponible"};const O=new Date,D=O.getDay(),I=O.getHours()*60+O.getMinutes(),$=l.find(me=>me.sede_id===A&&me.dia_semana===D);if(!$||$.cerrado)return{abierto:!1,mensaje:"Cerrado hoy"};const[Q,ve]=$.hora_apertura.split(":").map(Number),[ie,we]=$.hora_cierre.split(":").map(Number),je=Q*60+ve,H=ie*60+we;return I>=je&&I<H?{abierto:!0,mensaje:`Abierto hasta las ${$.hora_cierre.slice(0,5)}`}:{abierto:!1,mensaje:`Cerrado. Abre a las ${$.hora_apertura.slice(0,5)}`}},v=e.filter(A=>A.sedeId===f),g=A=>{console.warn("Agregar producto no implementado en DB an")},x=async(A,O)=>{const{actualizarRecursoDB:D}=await Ms(async()=>{const{actualizarRecursoDB:$}=await Promise.resolve().then(()=>la);return{actualizarRecursoDB:$}},[]);return(await D(A,O)).success?(r($=>$.map(Q=>Q.id===A?{...Q,...O}:Q)),!0):(alert("Error al actualizar el producto en la base de datos."),!1)},_=A=>{console.warn("Eliminar producto no implementado en DB an")},N=async(A,O)=>{const{verificarDisponibilidadDB:D}=await Ms(async()=>{const{verificarDisponibilidadDB:I}=await Promise.resolve().then(()=>la);return{verificarDisponibilidadDB:I}},void 0);return await D(A,O)},P=async A=>{const O=await hy(A);if(O&&O.success)return await y(),!0;{const D=(O==null?void 0:O.error)||"Error al registrar la reserva.";return alert(D),!1}},j=async A=>{const O=await yy(A);return O.success?(s(D=>D.map(I=>I.id===A?{...I,estado:"listo_para_entrega"}:I)),!0):(alert(O.error),!1)},L=async(A,O)=>{const D=await py(A,O);if(D.success){const I=await Co();return s(I.map($=>({...$,fechaInicio:$.fecha_inicio,clienteId:$.cliente_id,vendedorId:$.vendedor_id,totalServicio:$.total_servicio,totalFinal:$.total_final,montoPagado:$.monto_pagado,saldoPendiente:$.saldo_pendiente,tipoReserva:$.tipo_reserva,sedeId:$.sede_id}))),!0}else return alert(D.error),!1},z=async(A,O)=>{const D=await gy(A,O,"Descuento por Mantenimiento/Retraso");if(D.success){s($=>$.map(Q=>{if(Q.id===A){const ve=D.descuento_aplicado;return{...Q,totalFinal:Q.totalFinal-ve}}return Q}));const I=await Co();return s(I.map($=>({...$,fechaInicio:$.fecha_inicio,clienteId:$.cliente_id,vendedorId:$.vendedor_id,totalServicio:$.total_servicio,totalFinal:$.total_final,montoPagado:$.monto_pagado,saldoPendiente:$.saldo_pendiente,tipoReserva:$.tipo_reserva,sedeId:$.sede_id}))),!0}else return alert(D.error),!1},E=async A=>{const O=await vy(A);return O.success?(s(D=>D.map(I=>I.id===A?{...I,montoPagado:I.totalFinal,saldoPendiente:0,estado:I.estado==="pendiente"?"confirmado":I.estado}:I)),!0):(alert(O.error),!1)},q=async A=>{const O=await xy(A);return O.success?(s(D=>D.map(I=>I.id===A?{...I,estado:"en_uso",fechaEntrega:new Date}:I)),!0):(alert(O.error||"Error al entregar alquiler"),!1)},G=async(A,O="Mantenimiento preventivo")=>{const D=await Ju(A,"iniciar",O);return D.success?(r(I=>I.map($=>$.id===A?{...$,activo:!1}:$)),!0):(alert(D.error),!1)},K=async A=>{const O=await Ju(A,"finalizar");return O.success?(r(D=>D.map(I=>I.id===A?{...I,activo:!0}:I)),!0):(alert(O.error),!1)},T=async A=>{const O=await wy(A);return O.success?(s(D=>D.map(I=>I.id===A?{...I,estado:"no_show"}:I)),!0):(alert(O.error),!1)},B=async A=>{const O=await fy(A);return O.success?(s(D=>D.map(I=>I.id===A?{...I,estado:"limpieza",fechaDevolucionReal:new Date,penalizacion:O.penalizacion,totalFinal:O.nuevo_total}:I)),!0):(alert(O.error||"Error al registrar devolucin"),!1)},ne=async A=>await G(A,"Fuera de Servicio");return o.jsx(jt.Provider,{value:{inventario:v,inventarioCompleto:e,alquileres:n,sedes:i,sedeActual:f,setSedeActual:p,agregarProducto:g,editarProducto:x,eliminarProducto:_,registrarAlquiler:P,aprobarParaEntrega:j,entregarAlquiler:q,devolverAlquiler:B,enviarAMantenimiento:G,finalizarMantenimiento:K,marcarFueraDeServicio:ne,reprogramarAlquiler:L,verificarDisponibilidad:N,marcarNoShow:T,aplicarDescuentoMantenimiento:z,registrarPagoSaldo:E,registrarPagoSaldo:E,estaAbierto:w,configuracion:u,contenido:h},children:t})},zl=b.createContext(),HN=({children:t})=>{const[e,r]=b.useState([]),[n,s]=b.useState(!1),i=(u,d)=>{r(h=>h.find(f=>f.id===u.id)?h.map(f=>f.id===u.id?{...f,cantidad:f.cantidad+1,horas:d}:f):[...h,{...u,cantidad:1,horas:d}]),s(!0)},a=u=>r(d=>d.filter(h=>h.id!==u)),l=()=>r([]),c=e.reduce((u,d)=>u+d.precioPorHora*d.horas*d.cantidad,0);return o.jsx(zl.Provider,{value:{carrito:e,agregarAlCarrito:i,removerDelCarrito:a,limpiarCarrito:l,esVisible:n,setEsVisible:s,total:c},children:t})},vh=b.createContext(),VN=({children:t})=>{const[e,r]=b.useState([]);b.useEffect(()=>{(async()=>{const{obtenerPromociones:u}=await Ms(async()=>{const{obtenerPromociones:h}=await Promise.resolve().then(()=>la);return{obtenerPromociones:h}},void 0),d=await u();r(d)})()},[]);const n=c=>{r(u=>[...u,{...c,id:Date.now().toString()}])},s=c=>{r(u=>u.map(d=>d.id===c?{...d,activo:!d.activo}:d))},i=c=>{r(u=>u.filter(d=>d.id!==c))},a=(c,u)=>{r(d=>d.map(h=>h.id===c?{...h,...u}:h))},l=async c=>{const{calcularDescuentosDB:u}=await Ms(async()=>{const{calcularDescuentosDB:d}=await Promise.resolve().then(()=>la);return{calcularDescuentosDB:d}},void 0);return await u(c)};return o.jsx(vh.Provider,{value:{promociones:e,agregarPromocion:n,togglePromocion:s,eliminarPromocion:i,editarPromocion:a,calcularDescuentos:l},children:t})},Oy=b.createContext(),qN=({children:t})=>{const[e,r]=b.useState(!1),[n,s]=b.useState(!1),[i,a]=b.useState({abierto:!1,slug:"",titulo:""}),l=(u,d)=>{a({abierto:!0,slug:u,titulo:d})},c=()=>{a({...i,abierto:!1})};return o.jsx(Oy.Provider,{value:{mostrarLogin:e,setMostrarLogin:r,modoRegistro:n,setModoRegistro:s,modalInfo:i,abrirModalInfo:l,cerrarModalInfo:c},children:t})},ja=()=>{const t=b.useContext(Oy);if(!t)throw new Error("usarUI debe ser usado dentro de un ProveedorUI");return t},ln=b.createContext(),WN=({children:t})=>{const{usuario:e}=b.useContext(Qe),[r,n]=b.useState([]),[s,i]=b.useState([]),[a,l]=b.useState(!1);b.useEffect(()=>{e!=null&&e.id?c():(n([]),i([]))},[e]);const c=async()=>{l(!0);const[p,y]=await Promise.all([Sy(e.id),ky(e.id)]);n(p||[]),i(y||[]),l(!1)},u=async p=>{var v;const y={id:Date.now(),...p,fecha:new Date().toISOString(),estado:"abierto",leido:!1};n(g=>[y,...g]);const w=await Ny(e.id,p);w.success?c():(console.error("Error DB:",w.error),alert(`Error al crear ticket: ${((v=w.error)==null?void 0:v.message)||JSON.stringify(w.error)}`))},d=p=>{i(y=>y.map(w=>w.id===p?{...w,leido:!0}:w))},h=p=>{n(y=>y.map(w=>w.id===p?{...w,estado:"cerrado"}:w))},m=p=>{n(y=>y.filter(w=>w.id!==p)),i(y=>y.filter(w=>w.id!==p))},f=s.filter(p=>!p.leido).length;return o.jsx(ln.Provider,{value:{tickets:r,mensajes:s,crearTicket:u,marcarComoLeido:d,resolverTicket:h,eliminarTicket:m,ticketsNoLeidos:f,cargando:a},children:t})},zn=({titulo:t,abierto:e,alCerrar:r,children:n,zIndex:s=50})=>e?o.jsx("div",{className:`fixed inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 z-[${s}]`,children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200",children:[o.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800",children:t}),o.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:o.jsx(ah,{size:24})})]}),o.jsx("div",{className:"p-4 max-h-[80vh] overflow-y-auto",children:n})]})}):null,oe=({children:t,onClick:e,variante:r="primario",className:n="",...s})=>{const i="px-4 py-2 rounded-lg font-medium transition-colors duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",a={primario:"bg-blue-600 text-white hover:bg-blue-700",secundario:"bg-gray-200 text-gray-800 hover:bg-gray-300",peligro:"bg-red-500 text-white hover:bg-red-600",exito:"bg-green-600 text-white hover:bg-green-700",fantasma:"bg-transparent text-gray-600 hover:bg-gray-100"};return o.jsx("button",{className:`${i} ${a[r]} ${n}`,onClick:e,...s,children:t})},KN=()=>{const{modalInfo:t,cerrarModalInfo:e}=ja(),[r,n]=b.useState(""),[s,i]=b.useState(!1);return b.useEffect(()=>{t.abierto&&t.slug&&(i(!0),gh(t.slug).then(a=>{n((a==null?void 0:a.contenido)||'<p class="text-center text-gray-500 my-8">Informacin no disponible.</p>'),i(!1)}).catch(a=>{console.error("Error obteniendo pgina:",a),n('<p class="text-center text-red-500 my-8">Ocurri un error al cargar la informacin.</p>'),i(!1)}))},[t.abierto,t.slug]),t.abierto?o.jsx(zn,{titulo:t.titulo,abierto:t.abierto,alCerrar:e,zIndex:60,children:o.jsxs("div",{className:"p-4",children:[s?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[o.jsx("div",{className:"w-10 h-10 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),o.jsx("p",{className:"text-gray-500 text-sm animate-pulse",children:"Cargando contenido..."})]}):o.jsx("div",{className:"prose prose-sm max-w-none text-gray-700 overflow-y-auto max-h-[60vh] custom-scrollbar",dangerouslySetInnerHTML:{__html:r}}),o.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100 flex justify-end",children:o.jsx("button",{onClick:e,className:"px-5 py-2.5 bg-gray-100 text-gray-700 font-medium rounded-xl hover:bg-gray-200 transition-colors",children:"Entendido"})})]})}):null},ul=({modoCompacto:t=!1})=>{const{mensajes:e,marcarComoLeido:r,eliminarTicket:n,crearTicket:s}=b.useContext(ln),{usuario:i}=b.useContext(Qe),[a,l]=b.useState("todos"),[c,u]=b.useState(""),[d,h]=b.useState("recibidos"),[m,f]=b.useState(!1),[p,y]=b.useState(""),w=e.filter(v=>{var _,N;const g=a==="todos"||a==="pendiente"&&!v.leido||a==="resuelto"&&v.leido,x=(((_=v.asunto)==null?void 0:_.toLowerCase())||"").includes(c.toLowerCase())||(((N=v.contenido)==null?void 0:N.toLowerCase())||"").includes(c.toLowerCase());return!g||!x?!1:d==="recibidos"?v.destinatario_id===i.id:v.remitente_id===i.id});return o.jsxs("div",{className:t?"p-2 space-y-3":"p-6 space-y-6",children:[o.jsxs("div",{className:`flex ${t?"flex-col gap-2":"flex-col sm:flex-row justify-between items-start sm:items-center gap-4"}`,children:[!t&&o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(na,{className:"text-blue-600"}),"Bandeja de Entrada"]}),o.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg self-start",children:[o.jsx("button",{onClick:()=>h("recibidos"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${d==="recibidos"?"bg-white shadow text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Recibidos"}),o.jsx("button",{onClick:()=>h("enviados"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${d==="enviados"?"bg-white shadow text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Enviados"})]}),o.jsxs("div",{className:`flex gap-2 ${t?"w-full":"w-full sm:w-auto"}`,children:[i.rol==="cliente"&&o.jsxs("button",{onClick:()=>f(!0),className:`bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 ${t?"p-2 flex-1 text-xs":"px-4 py-2 text-sm"}`,children:[o.jsx(na,{size:t?14:18}),t?"Nuevo":"Nuevo Mensaje"]}),o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:t?14:18}),o.jsx("input",{type:"text",placeholder:"Buscar...",className:`w-full pl-9 pr-4 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none ${t?"py-1.5 text-xs":"py-2 text-sm"}`,value:c,onChange:v=>u(v.target.value)})]}),!t&&o.jsxs("div",{className:"relative",children:[o.jsx(ih,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),o.jsxs("select",{className:"pl-10 pr-4 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none appearance-none bg-white",value:a,onChange:v=>l(v.target.value),children:[o.jsx("option",{value:"todos",children:"Todos"}),o.jsx("option",{value:"pendiente",children:"Pendientes"}),o.jsx("option",{value:"resuelto",children:"Resueltos"})]})]})]})]}),m&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[100] p-4",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md shadow-xl",children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:"Nuevo Mensaje a Soporte"}),o.jsxs("form",{onSubmit:v=>{v.preventDefault(),p.trim()&&(s({asunto:`Consulta de ${i.nombre}`,mensaje:p,telefono:i.telefono||"N/A",remitente:{id:i.id,nombre:i.nombre,rol:i.rol},destinatario:{rol:"admin"}}),alert("Mensaje enviado correctamente."),f(!1),y(""))},className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensaje"}),o.jsx("textarea",{className:"w-full p-2 border rounded-lg h-32 resize-none",placeholder:"Describe tu consulta...",value:p,onChange:v=>y(v.target.value),required:!0})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Enviar"})]})]})]})}),t?o.jsx("div",{className:"space-y-2",children:w.length===0?o.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No hay mensajes."}):w.map(v=>o.jsxs("div",{className:`p-3 rounded-lg border border-gray-100 hover:bg-gray-50 transition-colors ${!v.leido&&d==="recibidos"?"bg-blue-50/50":"bg-white"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsx("h4",{className:`text-sm font-medium ${v.leido?"text-gray-900":"text-blue-700"}`,children:v.asunto}),o.jsx("span",{className:"text-xs text-gray-400 whitespace-nowrap ml-2",children:new Date(v.created_at).toLocaleDateString()})]}),o.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 mb-2",children:v.contenido}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-medium ${v.leido?"bg-gray-100 text-gray-600":"bg-blue-100 text-blue-800"}`,children:[v.leido?o.jsx(On,{size:10}):o.jsx($n,{size:10}),v.leido?"Ledo":"No ledo"]}),o.jsx("div",{className:"flex gap-2",children:!v.leido&&d==="recibidos"&&o.jsx("button",{onClick:()=>r(v.id),className:"text-blue-600 hover:text-blue-800 text-xs font-medium",children:"Marcar Ledo"})})]})]},v.id))}):o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-700 font-medium border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4",children:"Estado"}),o.jsx("th",{className:"px-6 py-4",children:"Asunto"}),o.jsx("th",{className:"px-6 py-4",children:"Mensaje"}),o.jsx("th",{className:"px-6 py-4",children:d==="recibidos"?"De":"Para"}),o.jsx("th",{className:"px-6 py-4",children:"Fecha"}),o.jsx("th",{className:"px-6 py-4 text-right",children:"Acciones"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:w.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:"6",className:"px-6 py-8 text-center text-gray-500",children:"No se encontraron mensajes en esta bandeja."})}):w.map(v=>{var g,x;return o.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${!v.leido&&d==="recibidos"?"bg-blue-50/30":""}`,children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${v.leido?"bg-gray-100 text-gray-600":"bg-blue-100 text-blue-800"}`,children:[v.leido?o.jsx(On,{size:12}):o.jsx($n,{size:12}),v.leido?"Ledo":"No ledo"]})}),o.jsxs("td",{className:"px-6 py-4 font-medium text-gray-900",children:[v.asunto,!v.leido&&d==="recibidos"&&o.jsx("span",{className:"ml-2 inline-block w-2 h-2 bg-blue-600 rounded-full"})]}),o.jsx("td",{className:"px-6 py-4 text-gray-600 max-w-xs truncate",title:v.contenido,children:v.contenido}),o.jsx("td",{className:"px-6 py-4 text-gray-600",children:d==="recibidos"?o.jsx("div",{className:"flex flex-col",children:o.jsx("span",{className:"font-medium text-sm",children:((g=v.remitente)==null?void 0:g.nombre)||"Sistema"})}):o.jsx("div",{className:"flex flex-col",children:o.jsx("span",{className:"font-medium text-sm",children:((x=v.destinatario)==null?void 0:x.nombre)||"Admin"})})}),o.jsxs("td",{className:"px-6 py-4 text-gray-500 whitespace-nowrap",children:[new Date(v.created_at).toLocaleDateString()," ",o.jsx("span",{className:"text-xs",children:new Date(v.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),o.jsxs("td",{className:"px-6 py-4 text-right space-x-2",children:[o.jsx("button",{onClick:()=>n(v.id),className:"text-red-500 hover:text-red-700",title:"Eliminar",children:o.jsx(wa,{size:16})}),!v.leido&&d==="recibidos"&&o.jsx("button",{onClick:()=>r(v.id),className:"text-blue-600 hover:text-blue-800 text-xs hover:underline ml-2",children:"Marcar Ledo"})]})]},v.id)})})]})})})]})},ue=t=>typeof t=="string",di=()=>{let t,e;const r=new Promise((n,s)=>{t=n,e=s});return r.resolve=t,r.reject=e,r},Tm=t=>t==null?"":""+t,GN=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},JN=/###/g,Lm=t=>t&&t.indexOf("###")>-1?t.replace(JN,"."):t,Am=t=>!t||ue(t),Ai=(t,e,r)=>{const n=ue(e)?e.split("."):e;let s=0;for(;s<n.length-1;){if(Am(t))return{};const i=Lm(n[s]);!t[i]&&r&&(t[i]=new r),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++s}return Am(t)?{}:{obj:t,k:Lm(n[s])}},Im=(t,e,r)=>{const{obj:n,k:s}=Ai(t,e,Object);if(n!==void 0||e.length===1){n[s]=r;return}let i=e[e.length-1],a=e.slice(0,e.length-1),l=Ai(t,a,Object);for(;l.obj===void 0&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),l=Ai(t,a,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${i}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=r},QN=(t,e,r,n)=>{const{obj:s,k:i}=Ai(t,e,Object);s[i]=s[i]||[],s[i].push(r)},dl=(t,e)=>{const{obj:r,k:n}=Ai(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},YN=(t,e,r)=>{const n=dl(t,r);return n!==void 0?n:dl(e,r)},Ty=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?ue(t[n])||t[n]instanceof String||ue(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):Ty(t[n],e[n],r):t[n]=e[n]);return t},ts=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var XN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const ZN=t=>ue(t)?t.replace(/[&<>"'\/]/g,e=>XN[e]):t;class ek{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const tk=[" ",",","?","!",";"],rk=new ek(20),nk=(t,e,r)=>{e=e||"",r=r||"";const n=tk.filter(a=>e.indexOf(a)<0&&r.indexOf(a)<0);if(n.length===0)return!0;const s=rk.getRegExp(`(${n.map(a=>a==="?"?"\\?":a).join("|")})`);let i=!s.test(t);if(!i){const a=t.indexOf(r);a>0&&!s.test(t.substring(0,a))&&(i=!0)}return i},Qu=(t,e,r=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const n=e.split(r);let s=t;for(let i=0;i<n.length;){if(!s||typeof s!="object")return;let a,l="";for(let c=i;c<n.length;++c)if(c!==i&&(l+=r),l+=n[c],a=s[l],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&c<n.length-1)continue;i+=c-i+1;break}s=a}return s},ua=t=>t==null?void 0:t.replace("_","-"),sk={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var r,n;(n=(r=console==null?void 0:console[t])==null?void 0:r.apply)==null||n.call(r,console,e)}};class hl{constructor(e,r={}){this.init(e,r)}init(e,r={}){this.prefix=r.prefix||"i18next:",this.logger=e||sk,this.options=r,this.debug=r.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,s){return s&&!this.debug?null:(ue(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new hl(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new hl(this.logger,e)}}var hr=new hl;class Ul{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const s=this.observers[n].get(r)||0;this.observers[n].set(r,s+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e,...r){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,i])=>{for(let a=0;a<i;a++)s(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,i])=>{for(let a=0;a<i;a++)s.apply(s,[e,...r])})}}class Dm extends Ul{constructor(e,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n,s={}){var u,d;const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,a=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,r],n&&(Array.isArray(n)?l.push(...n):ue(n)&&i?l.push(...n.split(i)):l.push(n)));const c=dl(this.data,l);return!c&&!r&&!n&&e.indexOf(".")>-1&&(e=l[0],r=l[1],n=l.slice(2).join(".")),c||!a||!ue(n)?c:Qu((d=(u=this.data)==null?void 0:u[e])==null?void 0:d[r],n,i)}addResource(e,r,n,s,i={silent:!1}){const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[e,r];n&&(l=l.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(l=e.split("."),s=r,r=l[1]),this.addNamespaces(r),Im(this.data,l,s),i.silent||this.emit("added",e,r,n,s)}addResources(e,r,n,s={silent:!1}){for(const i in n)(ue(n[i])||Array.isArray(n[i]))&&this.addResource(e,r,i,n[i],{silent:!0});s.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,s,i,a={silent:!1,skipCopy:!1}){let l=[e,r];e.indexOf(".")>-1&&(l=e.split("."),s=n,n=r,r=l[1]),this.addNamespaces(r);let c=dl(this.data,l)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),s?Ty(c,n,i):c={...c,...n},Im(this.data,l,c),a.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(s=>r[s]&&Object.keys(r[s]).length>0)}toJSON(){return this.data}}var Ly={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,s){return t.forEach(i=>{var a;e=((a=this.processors[i])==null?void 0:a.process(e,r,n,s))??e}),e}};const Ay=Symbol("i18next/PATH_KEY");function ik(){const t=[],e=Object.create(null);let r;return e.get=(n,s)=>{var i;return(i=r==null?void 0:r.revoke)==null||i.call(r),s===Ay?t:(t.push(s),r=Proxy.revocable(n,e),r.proxy)},Proxy.revocable(Object.create(null),e).proxy}function Yu(t,e){const{[Ay]:r}=t(ik());return r.join((e==null?void 0:e.keySeparator)??".")}const $m={},Oc=t=>!ue(t)&&typeof t!="boolean"&&typeof t!="number";class fl extends Ul{constructor(e,r={}){super(),GN(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=hr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,r={interpolation:{}}){const n={...r};if(e==null)return!1;const s=this.resolve(e,n);if((s==null?void 0:s.res)===void 0)return!1;const i=Oc(s.res);return!(n.returnObjects===!1&&i)}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let i=r.ns||this.options.defaultNS||[];const a=n&&e.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!nk(e,n,s);if(a&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:ue(i)?[i]:i};const u=e.split(n);(n!==s||n===s&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(s)}return{key:e,namespaces:ue(i)?[i]:i}}translate(e,r,n){let s=typeof r=="object"?{...r}:r;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";typeof e=="function"&&(e=Yu(e,{...this.options,...s})),Array.isArray(e)||(e=[String(e)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(e[e.length-1],s),u=c[c.length-1];let d=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const h=s.lng||this.language,m=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((h==null?void 0:h.toLowerCase())==="cimode")return m?i?{res:`${u}${d}${l}`,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(s)}:`${u}${d}${l}`:i?{res:l,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(s)}:l;const f=this.resolve(e,s);let p=f==null?void 0:f.res;const y=(f==null?void 0:f.usedKey)||l,w=(f==null?void 0:f.exactUsedKey)||l,v=["[object Number]","[object Function]","[object RegExp]"],g=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,_=s.count!==void 0&&!ue(s.count),N=fl.hasDefaultValue(s),P=_?this.pluralResolver.getSuffix(h,s.count,s):"",j=s.ordinal&&_?this.pluralResolver.getSuffix(h,s.count,{ordinal:!1}):"",L=_&&!s.ordinal&&s.count===0,z=L&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${P}`]||s[`defaultValue${j}`]||s.defaultValue;let E=p;x&&!p&&N&&(E=z);const q=Oc(E),G=Object.prototype.toString.apply(E);if(x&&E&&q&&v.indexOf(G)<0&&!(ue(g)&&Array.isArray(E))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const K=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,E,{...s,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return i?(f.res=K,f.usedParams=this.getUsedParamsDetails(s),f):K}if(a){const K=Array.isArray(E),T=K?[]:{},B=K?w:y;for(const ne in E)if(Object.prototype.hasOwnProperty.call(E,ne)){const A=`${B}${a}${ne}`;N&&!p?T[ne]=this.translate(A,{...s,defaultValue:Oc(z)?z[ne]:void 0,joinArrays:!1,ns:c}):T[ne]=this.translate(A,{...s,joinArrays:!1,ns:c}),T[ne]===A&&(T[ne]=E[ne])}p=T}}else if(x&&ue(g)&&Array.isArray(p))p=p.join(g),p&&(p=this.extendTranslation(p,e,s,n));else{let K=!1,T=!1;!this.isValidLookup(p)&&N&&(K=!0,p=z),this.isValidLookup(p)||(T=!0,p=l);const ne=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&T?void 0:p,A=N&&z!==p&&this.options.updateMissing;if(T||K||A){if(this.logger.log(A?"updateKey":"missingKey",h,u,l,A?z:p),a){const $=this.resolve(l,{...s,keySeparator:!1});$&&$.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let O=[];const D=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&D&&D[0])for(let $=0;$<D.length;$++)O.push(D[$]);else this.options.saveMissingTo==="all"?O=this.languageUtils.toResolveHierarchy(s.lng||this.language):O.push(s.lng||this.language);const I=($,Q,ve)=>{var we;const ie=N&&ve!==p?ve:ne;this.options.missingKeyHandler?this.options.missingKeyHandler($,u,Q,ie,A,s):(we=this.backendConnector)!=null&&we.saveMissing&&this.backendConnector.saveMissing($,u,Q,ie,A,s),this.emit("missingKey",$,u,Q,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&_?O.forEach($=>{const Q=this.pluralResolver.getSuffixes($,s);L&&s[`defaultValue${this.options.pluralSeparator}zero`]&&Q.indexOf(`${this.options.pluralSeparator}zero`)<0&&Q.push(`${this.options.pluralSeparator}zero`),Q.forEach(ve=>{I([$],l+ve,s[`defaultValue${ve}`]||z)})}):I(O,l,z))}p=this.extendTranslation(p,e,s,f,n),T&&p===l&&this.options.appendNamespaceToMissingKey&&(p=`${u}${d}${l}`),(T||K)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${l}`:l,K?p:void 0,s))}return i?(f.res=p,f.usedParams=this.getUsedParamsDetails(s),f):p}extendTranslation(e,r,n,s,i){var c,u;if((c=this.i18nFormat)!=null&&c.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=ue(e)&&(((u=n==null?void 0:n.interpolation)==null?void 0:u.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(d){const f=e.match(this.interpolator.nestingRegexp);h=f&&f.length}let m=n.replace&&!ue(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),e=this.interpolator.interpolate(e,m,n.lng||this.language||s.usedLng,n),d){const f=e.match(this.interpolator.nestingRegexp),p=f&&f.length;h<p&&(n.nest=!1)}!n.lng&&s&&s.res&&(n.lng=this.language||s.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...f)=>(i==null?void 0:i[0])===f[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${r[0]}`),null):this.translate(...f,r),n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,l=ue(a)?[a]:a;return e!=null&&(l!=null&&l.length)&&n.applyPostProcessor!==!1&&(e=Ly.handle(l,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,r={}){let n,s,i,a,l;return ue(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(c,r),d=u.key;s=d;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const m=r.count!==void 0&&!ue(r.count),f=m&&!r.ordinal&&r.count===0,p=r.context!==void 0&&(ue(r.context)||typeof r.context=="number")&&r.context!=="",y=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);h.forEach(w=>{var v,g;this.isValidLookup(n)||(l=w,!$m[`${y[0]}-${w}`]&&((v=this.utils)!=null&&v.hasLoadedNamespace)&&!((g=this.utils)!=null&&g.hasLoadedNamespace(l))&&($m[`${y[0]}-${w}`]=!0,this.logger.warn(`key "${s}" for languages "${y.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(x=>{var P;if(this.isValidLookup(n))return;a=x;const _=[d];if((P=this.i18nFormat)!=null&&P.addLookupKeys)this.i18nFormat.addLookupKeys(_,d,x,w,r);else{let j;m&&(j=this.pluralResolver.getSuffix(x,r.count,r));const L=`${this.options.pluralSeparator}zero`,z=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(r.ordinal&&j.indexOf(z)===0&&_.push(d+j.replace(z,this.options.pluralSeparator)),_.push(d+j),f&&_.push(d+L)),p){const E=`${d}${this.options.contextSeparator||"_"}${r.context}`;_.push(E),m&&(r.ordinal&&j.indexOf(z)===0&&_.push(E+j.replace(z,this.options.pluralSeparator)),_.push(E+j),f&&_.push(E+L))}}let N;for(;N=_.pop();)this.isValidLookup(n)||(i=N,n=this.getResource(x,w,N,r))}))})}),{res:n,usedKey:s,exactUsedKey:i,usedLng:a,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n,s={}){var i;return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(e,r,n,s):this.resourceStore.getResource(e,r,n,s)}getUsedParamsDetails(e={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!ue(e.replace);let s=n?e.replace:e;if(n&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!n){s={...s};for(const i of r)delete s[i]}return s}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}class Mm{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=hr.create("languageUtils")}getScriptPartFromCode(e){if(e=ua(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=ua(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(ue(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const s=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(s))&&(r=s)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const s=this.getScriptPartFromCode(n);if(this.isSupportedCode(s))return r=s;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(a=>{if(a===i)return a;if(!(a.indexOf("-")<0&&i.indexOf("-")<0)&&(a.indexOf("-")>0&&i.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===i||a.indexOf(i)===0&&i.length>1))return a})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),ue(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],e),s=[],i=a=>{a&&(this.isSupportedCode(a)?s.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return ue(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):ue(e)&&i(this.formatLanguageCode(e)),n.forEach(a=>{s.indexOf(a)<0&&i(this.formatLanguageCode(a))}),s}}const zm={zero:0,one:1,two:2,few:3,many:4,other:5},Um={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class ak{constructor(e,r={}){this.languageUtils=e,this.options=r,this.logger=hr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e,r={}){const n=ua(e==="dev"?"en":e),s=r.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let a;try{a=new Intl.PluralRules(n,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Um;if(!e.match(/-|_/))return Um;const c=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(c,r)}return this.pluralRulesCache[i]=a,a}needsPlural(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,r,n={}){return this.getSuffixes(e,n).map(s=>`${r}${s}`)}getSuffixes(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((s,i)=>zm[s]-zm[i]).map(s=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,r,n={}){const s=this.getRule(e,n);return s?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}}const Fm=(t,e,r,n=".",s=!0)=>{let i=YN(t,e,r);return!i&&s&&ue(r)&&(i=Qu(t,r,n),i===void 0&&(i=Qu(e,r,n))),i},Tc=t=>t.replace(/\$/g,"$$$$");class Bm{constructor(e={}){var r;this.logger=hr.create("interpolator"),this.options=e,this.format=((r=e==null?void 0:e.interpolation)==null?void 0:r.format)||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:s,prefix:i,prefixEscaped:a,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:h,nestingPrefix:m,nestingPrefixEscaped:f,nestingSuffix:p,nestingSuffixEscaped:y,nestingOptionsSeparator:w,maxReplaces:v,alwaysFormat:g}=e.interpolation;this.escape=r!==void 0?r:ZN,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?ts(i):a||"{{",this.suffix=l?ts(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=m?ts(m):f||ts("$t("),this.nestingSuffix=p?ts(p):y||ts(")"),this.nestingOptionsSeparator=w||",",this.maxReplaces=v||1e3,this.alwaysFormat=g!==void 0?g:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>(r==null?void 0:r.source)===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,r,n,s){var f;let i,a,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){const g=Fm(r,c,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(g,void 0,n,{...s,...r,interpolationkey:p}):g}const y=p.split(this.formatSeparator),w=y.shift().trim(),v=y.join(this.formatSeparator).trim();return this.format(Fm(r,c,w,this.options.keySeparator,this.options.ignoreJSONStructure),v,n,{...s,...r,interpolationkey:w})};this.resetRegExp();const d=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,h=((f=s==null?void 0:s.interpolation)==null?void 0:f.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>Tc(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?Tc(this.escape(p)):Tc(p)}].forEach(p=>{for(l=0;i=p.regex.exec(e);){const y=i[1].trim();if(a=u(y),a===void 0)if(typeof d=="function"){const v=d(e,i,s);a=ue(v)?v:""}else if(s&&Object.prototype.hasOwnProperty.call(s,y))a="";else if(h){a=i[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),a="";else!ue(a)&&!this.useRawValueToEscape&&(a=Tm(a));const w=p.safeValue(a);if(e=e.replace(i[0],w),h?(p.regex.lastIndex+=a.length,p.regex.lastIndex-=i[0].length):p.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,r,n={}){let s,i,a;const l=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const h=c.split(new RegExp(`${d}[ ]*{`));let m=`{${h[1]}`;c=h[0],m=this.interpolate(m,a);const f=m.match(/'/g),p=m.match(/"/g);(((f==null?void 0:f.length)??0)%2===0&&!p||p.length%2!==0)&&(m=m.replace(/'/g,'"'));try{a=JSON.parse(m),u&&(a={...u,...a})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,y),`${c}${d}${m}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,c};for(;s=this.nestingRegexp.exec(e);){let c=[];a={...n},a=a.replace&&!ue(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const u=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(u!==-1&&(c=s[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),s[1]=s[1].slice(0,u)),i=r(l.call(this,s[1].trim(),a),a),i&&s[0]===e&&!ue(i))return i;ue(i)||(i=Tm(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),c.length&&(i=c.reduce((d,h)=>this.format(d,h,n.lng,{...n,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}const ok=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const s=n[1].substring(0,n[1].length-1);e==="currency"&&s.indexOf(":")<0?r.currency||(r.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?r.range||(r.range=s.trim()):s.split(";").forEach(a=>{if(a){const[l,...c]=a.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();r[d]||(r[d]=u),u==="false"&&(r[d]=!1),u==="true"&&(r[d]=!0),isNaN(u)||(r[d]=parseInt(u,10))}})}return{formatName:e,formatOptions:r}},Hm=t=>{const e={};return(r,n,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const a=n+JSON.stringify(i);let l=e[a];return l||(l=t(ua(n),s),e[a]=l),l(r)}},lk=t=>(e,r,n)=>t(ua(r),n)(e);class ck{constructor(e={}){this.logger=hr.create("formatter"),this.options=e,this.init(e)}init(e,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?Hm:lk;this.formats={number:n((s,i)=>{const a=new Intl.NumberFormat(s,{...i});return l=>a.format(l)}),currency:n((s,i)=>{const a=new Intl.NumberFormat(s,{...i,style:"currency"});return l=>a.format(l)}),datetime:n((s,i)=>{const a=new Intl.DateTimeFormat(s,{...i});return l=>a.format(l)}),relativetime:n((s,i)=>{const a=new Intl.RelativeTimeFormat(s,{...i});return l=>a.format(l,i.range||"day")}),list:n((s,i)=>{const a=new Intl.ListFormat(s,{...i});return l=>a.format(l)})}}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=Hm(r)}format(e,r,n,s={}){const i=r.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(l=>l.indexOf(")")>-1)){const l=i.findIndex(c=>c.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,l)].join(this.formatSeparator)}return i.reduce((l,c)=>{var h;const{formatName:u,formatOptions:d}=ok(c);if(this.formats[u]){let m=l;try{const f=((h=s==null?void 0:s.formatParams)==null?void 0:h[s.interpolationkey])||{},p=f.locale||f.lng||s.locale||s.lng||n;m=this.formats[u](l,p,{...d,...s,...f})}catch(f){this.logger.warn(f)}return m}else this.logger.warn(`there was no format function for ${u}`);return l},e)}}const uk=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class dk extends Ul{constructor(e,r,n,s={}){var i,a;super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=s,this.logger=hr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(a=(i=this.backend)==null?void 0:i.init)==null||a.call(i,n,s.backend,s)}queueLoad(e,r,n,s){const i={},a={},l={},c={};return e.forEach(u=>{let d=!0;r.forEach(h=>{const m=`${u}|${h}`;!n.reload&&this.store.hasResourceBundle(u,h)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?a[m]===void 0&&(a[m]=!0):(this.state[m]=1,d=!1,a[m]===void 0&&(a[m]=!0),i[m]===void 0&&(i[m]=!0),c[h]===void 0&&(c[h]=!0)))}),d||(l[u]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,r,n){const s=e.split("|"),i=s[0],a=s[1];r&&this.emit("failedLoading",i,a,r),!r&&n&&this.store.addResourceBundle(i,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const l={};this.queue.forEach(c=>{QN(c.loaded,[i],a),uk(c,e),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(h=>{l[u][h]===void 0&&(l[u][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,r,n,s=0,i=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:s,wait:i,callback:a});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&d&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,s+1,i*2,a)},i);return}a(u,d)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const u=c(e,r);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(e,r,l)}prepareLoading(e,r,n={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();ue(e)&&(e=this.languageUtils.toResolveHierarchy(e)),ue(r)&&(r=[r]);const i=this.queueLoad(e,r,n,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e,r=""){const n=e.split("|"),s=n[0],i=n[1];this.read(s,i,"read",void 0,void 0,(a,l)=>{a&&this.logger.warn(`${r}loading namespace ${i} for language ${s} failed`,a),!a&&l&&this.logger.log(`${r}loaded namespace ${i} for language ${s}`,l),this.loaded(e,a,l)})}saveMissing(e,r,n,s,i,a={},l=()=>{}){var c,u,d,h,m;if((u=(c=this.services)==null?void 0:c.utils)!=null&&u.hasLoadedNamespace&&!((h=(d=this.services)==null?void 0:d.utils)!=null&&h.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((m=this.backend)!=null&&m.create){const f={...a,isUpdate:i},p=this.backend.create.bind(this.backend);if(p.length<6)try{let y;p.length===5?y=p(e,r,n,s,f):y=p(e,r,n,s),y&&typeof y.then=="function"?y.then(w=>l(null,w)).catch(l):l(null,y)}catch(y){l(y)}else p(e,r,n,s,l,f)}!e||!e[0]||this.store.addResource(e[0],r,n,s)}}}const Vm=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),ue(t[1])&&(e.defaultValue=t[1]),ue(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),qm=t=>{var e,r;return ue(t.ns)&&(t.ns=[t.ns]),ue(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),ue(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((r=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:r.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},co=()=>{},hk=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class Ii extends Ul{constructor(e={},r){if(super(),this.options=qm(e),this.services={},this.logger=hr,this.modules={external:[]},hk(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(e={},r){this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&(ue(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=Vm();this.options={...n,...this.options,...qm(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=n.overloadTranslationOptionHandler);const s=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?hr.init(s(this.modules.logger),this.options):hr.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=ck;const d=new Mm(this.options);this.store=new Dm(this.options.resources,this.options);const h=this.services;h.logger=hr,h.resourceStore=this.store,h.languageUtils=d,h.pluralResolver=new ak(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(h.formatter=s(u),h.formatter.init&&h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new Bm(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new dk(s(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(f,...p)=>{this.emit(f,...p)}),this.modules.languageDetector&&(h.languageDetector=s(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=s(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new fl(this.services,this.options),this.translator.on("*",(f,...p)=>{this.emit(f,...p)}),this.modules.external.forEach(f=>{f.init&&f.init(this)})}if(this.format=this.options.interpolation.format,r||(r=co),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const l=di(),c=()=>{const u=(d,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(h),r(d,h)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(e,r=co){var i,a;let n=r;const s=ue(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const l=[],c=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(h=>{h!=="cimode"&&l.indexOf(h)<0&&l.push(h)})};s?c(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>c(d)),(a=(i=this.options.preload)==null?void 0:i.forEach)==null||a.call(i,u=>c(u)),this.services.backendConnector.load(l,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(u)})}else n(null)}reloadResources(e,r,n){const s=di();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=co),this.services.backendConnector.reload(e,r,i=>{s.resolve(),n(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Ly.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,r){this.isLanguageChangingTo=e;const n=di();this.emit("languageChanging",e);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},i=(l,c)=>{c?this.isLanguageChangingTo===e&&(s(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,n.resolve((...u)=>this.t(...u)),r&&r(l,(...u)=>this.t(...u))},a=l=>{var d,h;!e&&!l&&this.services.languageDetector&&(l=[]);const c=ue(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(ue(l)?[l]:l);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),(h=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||h.call(d,u)),this.loadResources(u,m=>{i(m,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),n}getFixedT(e,r,n){const s=(i,a,...l)=>{let c;typeof a!="object"?c=this.options.overloadTranslationOptionHandler([i,a].concat(l)):c={...a},c.lng=c.lng||s.lng,c.lngs=c.lngs||s.lngs,c.ns=c.ns||s.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||s.keyPrefix);const u=this.options.keySeparator||".";let d;return c.keyPrefix&&Array.isArray(i)?d=i.map(h=>(typeof h=="function"&&(h=Yu(h,{...this.options,...a})),`${c.keyPrefix}${u}${h}`)):(typeof i=="function"&&(i=Yu(i,{...this.options,...a})),d=c.keyPrefix?`${c.keyPrefix}${u}${i}`:i),this.t(d,c)};return ue(e)?s.lng=e:s.lngs=e,s.ns=r,s.keyPrefix=n,s}t(...e){var r;return(r=this.translator)==null?void 0:r.translate(...e)}exists(...e){var r;return(r=this.translator)==null?void 0:r.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(r.precheck){const l=r.precheck(this,a);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,e)&&(!s||a(i,e)))}loadNamespaces(e,r){const n=di();return this.options.ns?(ue(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{n.resolve(),r&&r(s)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=di();ue(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(a=>s.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return i.length?(this.options.preload=s.concat(i),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}dir(e){var s,i;if(e||(e=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const l=a.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((i=this.services)==null?void 0:i.languageUtils)||new Mm(Vm());return e.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},r){const n=new Ii(e,r);return n.createInstance=Ii.createInstance,n}cloneInstance(e={},r=co){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new Ii(s);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(l=>{i[l]=this[l]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n){const l=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((d,h)=>(d[h]={...c[u][h]},d),c[u]),c),{});i.store=new Dm(l,s),i.services.resourceStore=i.store}return e.interpolation&&(i.services.interpolator=new Bm(s)),i.translator=new fl(i.services,s),i.translator.on("*",(l,...c)=>{i.emit(l,...c)}),i.init(s,r),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ht=Ii.createInstance();ht.createInstance;ht.dir;ht.init;ht.loadResources;ht.reloadResources;ht.use;ht.changeLanguage;ht.getFixedT;ht.t;ht.exists;ht.setDefaultNamespace;ht.hasLoadedNamespace;ht.loadNamespaces;ht.loadLanguages;const fk=(t,e,r,n)=>{var i,a,l,c;const s=[r,{code:e,...n||{}}];if((a=(i=t==null?void 0:t.services)==null?void 0:i.logger)!=null&&a.forward)return t.services.logger.forward(s,"warn","react-i18next::",!0);Un(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(c=(l=t==null?void 0:t.services)==null?void 0:l.logger)!=null&&c.warn?t.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},Wm={},Iy=(t,e,r,n)=>{Un(r)&&Wm[r]||(Un(r)&&(Wm[r]=new Date),fk(t,e,r,n))},Dy=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}},Xu=(t,e,r)=>{t.loadNamespaces(e,Dy(t,r))},Km=(t,e,r,n)=>{if(Un(r)&&(r=[r]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Xu(t,r,n);r.forEach(s=>{t.options.ns.indexOf(s)<0&&t.options.ns.push(s)}),t.loadLanguages(e,Dy(t,n))},mk=(t,e,r={})=>!e.languages||!e.languages.length?(Iy(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:r.lng,precheck:(n,s)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!s(n.isLanguageChangingTo,t))return!1}}),Un=t=>typeof t=="string",pk=t=>typeof t=="object"&&t!==null,gk=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,vk={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},yk=t=>vk[t],xk=t=>t.replace(gk,yk);let Zu={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:xk,transDefaultProps:void 0};const wk=(t={})=>{Zu={...Zu,...t}},bk=()=>Zu;let $y;const jk=t=>{$y=t},_k=()=>$y,Sk={type:"3rdParty",init(t){wk(t.options.react),jk(t)}},Nk=b.createContext();class kk{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var My={exports:{}},zy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zs=b;function Ek(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ck=typeof Object.is=="function"?Object.is:Ek,Pk=zs.useState,Rk=zs.useEffect,Ok=zs.useLayoutEffect,Tk=zs.useDebugValue;function Lk(t,e){var r=e(),n=Pk({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return Ok(function(){s.value=r,s.getSnapshot=e,Lc(s)&&i({inst:s})},[t,r,e]),Rk(function(){return Lc(s)&&i({inst:s}),t(function(){Lc(s)&&i({inst:s})})},[t]),Tk(r),r}function Lc(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ck(t,r)}catch{return!0}}function Ak(t,e){return e()}var Ik=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ak:Lk;zy.useSyncExternalStore=zs.useSyncExternalStore!==void 0?zs.useSyncExternalStore:Ik;My.exports=zy;var Dk=My.exports;const $k=(t,e)=>Un(e)?e:pk(e)&&Un(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,Mk={t:$k,ready:!1},zk=()=>()=>{},Fl=(t,e={})=>{var z,E,q;const{i18n:r}=e,{i18n:n,defaultNS:s}=b.useContext(Nk)||{},i=r||n||_k();i&&!i.reportNamespaces&&(i.reportNamespaces=new kk),i||Iy(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const a=b.useMemo(()=>{var G;return{...bk(),...(G=i==null?void 0:i.options)==null?void 0:G.react,...e}},[i,e]),{useSuspense:l,keyPrefix:c}=a,u=s||((z=i==null?void 0:i.options)==null?void 0:z.defaultNS),d=Un(u)?[u]:u||["translation"],h=b.useMemo(()=>d,d);(q=(E=i==null?void 0:i.reportNamespaces)==null?void 0:E.addUsedNamespaces)==null||q.call(E,h);const m=b.useRef(0),f=b.useCallback(G=>{if(!i)return zk;const{bindI18n:K,bindI18nStore:T}=a,B=()=>{m.current+=1,G()};return K&&i.on(K,B),T&&i.store.on(T,B),()=>{K&&K.split(" ").forEach(ne=>i.off(ne,B)),T&&T.split(" ").forEach(ne=>i.store.off(ne,B))}},[i,a]),p=b.useRef(),y=b.useCallback(()=>{if(!i)return Mk;const G=!!(i.isInitialized||i.initializedStoreOnce)&&h.every(O=>mk(O,i,a)),K=e.lng||i.language,T=m.current,B=p.current;if(B&&B.ready===G&&B.lng===K&&B.keyPrefix===c&&B.revision===T)return B;const A={t:i.getFixedT(K,a.nsMode==="fallback"?h:h[0],c),ready:G,lng:K,keyPrefix:c,revision:T};return p.current=A,A},[i,h,c,a,e.lng]),[w,v]=b.useState(0),{t:g,ready:x}=Dk.useSyncExternalStore(f,y,y);b.useEffect(()=>{if(i&&!x&&!l){const G=()=>v(K=>K+1);e.lng?Km(i,e.lng,h,G):Xu(i,h,G)}},[i,e.lng,h,x,l,w]);const _=i||{},N=b.useRef(null),P=b.useRef(),j=G=>{const K=Object.getOwnPropertyDescriptors(G);K.__original&&delete K.__original;const T=Object.create(Object.getPrototypeOf(G),K);if(!Object.prototype.hasOwnProperty.call(T,"__original"))try{Object.defineProperty(T,"__original",{value:G,writable:!1,enumerable:!1,configurable:!1})}catch{}return T},L=b.useMemo(()=>{const G=_,K=G==null?void 0:G.language;let T=G;G&&(N.current&&N.current.__original===G?P.current!==K?(T=j(G),N.current=T,P.current=K):T=N.current:(T=j(G),N.current=T,P.current=K));const B=[g,T,x];return B.t=g,B.i18n=T,B.ready=x,B},[g,_,x,_.resolvedLanguage,_.language,_.languages]);if(i&&l&&!x)throw new Promise(G=>{const K=()=>G();e.lng?Km(i,e.lng,h,K):Xu(i,h,K)});return L},Uk=()=>{const{i18n:t}=Fl(),[e,r]=b.useState(!1),n=b.useRef(null),s=[{code:"es",label:"Espaol",flag:""},{code:"en",label:"English",flag:""},{code:"fr",label:"Franais",flag:""},{code:"pt",label:"Portugus",flag:""}],i=l=>{t.changeLanguage(l),r(!1)};b.useEffect(()=>{const l=c=>{n.current&&!n.current.contains(c.target)&&r(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]);const a=s.find(l=>l.code===t.language)||s[0];return o.jsxs("div",{className:"relative",ref:n,children:[o.jsxs("button",{onClick:()=>r(!e),className:"flex items-center gap-2 p-2 rounded-full hover:bg-black/5 transition-colors text-gray-700",title:"Cambiar idioma / Change language",children:[o.jsx(J1,{size:20}),o.jsx("span",{className:"text-sm font-medium hidden md:block",children:a.code.toUpperCase()})]}),e&&o.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-100 py-1 z-50 animate-in fade-in zoom-in-95 duration-200",children:s.map(l=>o.jsxs("button",{onClick:()=>i(l.code),className:`w-full text-left px-4 py-3 text-sm flex items-center gap-3 hover:bg-gray-50 transition-colors ${t.language===l.code?"bg-blue-50 text-blue-600 font-semibold":"text-gray-700"}`,children:[o.jsx("span",{className:"text-lg",children:l.flag}),o.jsx("span",{children:l.label})]},l.code))})]})},Fk=({setMostrarLogin:t})=>{const{t:e}=Fl(),r=an(),n=Kt(),{usuario:s,cerrarSesion:i}=b.useContext(Qe),{carrito:a,setEsVisible:l}=b.useContext(zl),{sedeActual:c,setSedeActual:u,sedes:d}=b.useContext(jt),{tickets:h}=b.useContext(ln),[m,f]=b.useState(!1),[p,y]=b.useState(!1),w=b.useRef(null),v=b.useRef(null),g=h.filter(_=>{var N,P,j,L,z,E,q;return _.leido||!s?!1:s.rol==="admin"?((N=_.destinatario)==null?void 0:N.rol)==="admin"||((P=_.destinatario)==null?void 0:P.id)===s.id||!_.destinatario&&((j=_.remitente)==null?void 0:j.rol)!=="admin":s.rol==="dueno"?((L=_.destinatario)==null?void 0:L.rol)==="dueno"||((z=_.destinatario)==null?void 0:z.id)===s.id:((E=_.destinatario)==null?void 0:E.id)===s.id||((q=_.destinatario)==null?void 0:q.rol)===s.rol}).length;b.useEffect(()=>{const _=N=>{w.current&&!w.current.contains(N.target)&&f(!1),v.current&&!v.current.contains(N.target)&&!N.target.closest(".boton-bandeja")&&y(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]),n.pathname;const x=()=>{r("/"),setTimeout(()=>{const _=document.getElementById("top");_?_.scrollIntoView({behavior:"smooth",block:"start"}):window.scrollTo({top:0,behavior:"smooth"})},100)};return o.jsx("nav",{className:"fixed top-6 left-1/2 -translate-x-1/2 w-[95%] max-w-7xl rounded-full bg-white/80 backdrop-blur-xl border border-white/50 shadow-2xl z-50 transition-all duration-500 ease-in-out",children:o.jsx("div",{className:"w-full h-full px-6 flex items-center justify-between",children:o.jsxs("div",{className:"flex justify-between w-full h-14 items-center",children:[o.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group",onClick:x,children:[o.jsxs("div",{className:"relative w-10 h-10 flex items-center justify-center bg-gradient-to-br from-blue-600 to-teal-500 rounded-xl shadow-lg shadow-blue-200/50 transform group-hover:scale-105 transition-all duration-300 overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-6 h-6 bg-yellow-400 blur-md opacity-40 rounded-full translate-x-1 -translate-y-1"}),o.jsx(Y0,{className:"text-yellow-100 absolute top-1.5 right-1.5 opacity-90",size:14,fill:"currentColor"}),o.jsx(Z0,{className:"text-white relative z-10 mt-1",size:22,strokeWidth:2.5})]}),o.jsx("span",{className:"text-xl font-extrabold tracking-tight text-gray-900",children:e("nav.app_name","Alquiler de Verano")})]}),o.jsxs("div",{className:"flex items-center gap-3 md:gap-5",children:[o.jsx(Uk,{}),s?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"hidden lg:flex items-center gap-1",children:[(s.rol==="admin"||s.rol==="dueno")&&o.jsxs(o.Fragment,{children:[s.rol==="admin"&&o.jsxs(o.Fragment,{children:[o.jsx(oe,{variante:"fantasma",onClick:()=>r("/admin/inventario"),className:"text-xs font-medium",children:e("nav.inventario")}),o.jsx(oe,{variante:"fantasma",onClick:()=>r("/admin/promociones"),className:"text-xs font-medium",children:e("nav.promociones")})]}),o.jsx(oe,{variante:"fantasma",onClick:()=>r("/admin/usuarios"),className:"text-xs font-medium",children:e("nav.usuarios")}),o.jsx(oe,{variante:"fantasma",onClick:()=>r("/admin/reportes"),className:"text-xs font-medium",children:e("nav.reportes")})]}),s.rol==="vendedor"&&o.jsxs(o.Fragment,{children:[o.jsx(oe,{variante:"fantasma",onClick:()=>r("/vendedor/operaciones"),className:"text-xs font-medium",children:e("nav.operaciones")}),o.jsx(oe,{variante:"fantasma",onClick:()=>r("/vendedor/punto-venta"),className:"text-xs font-medium",children:e("nav.punto_venta")})]}),s.rol==="cliente"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:x,className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all ${n.pathname==="/"?"bg-gray-900 text-white":"text-gray-600 hover:bg-gray-100"}`,children:e("nav.tienda")}),o.jsx("button",{onClick:()=>r("/mis-gastos"),className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all ${n.pathname==="/mis-gastos"?"bg-gray-900 text-white":"text-gray-600 hover:bg-gray-100"}`,children:e("nav.mis_reportes")})]})]}),o.jsxs("div",{className:"flex items-center gap-2 pl-2 border-l border-gray-200/50",children:[o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>y(!p),className:`relative p-2 rounded-full transition-all duration-300 ${p?"bg-gray-900 text-white shadow-lg rotate-12":"text-gray-500 hover:bg-gray-100 hover:text-gray-900"}`,children:[o.jsx(K0,{size:20}),g>0&&o.jsx("span",{className:"absolute top-0 right-0 bg-red-500 border-2 border-white rounded-full w-4 h-4 flex items-center justify-center text-[9px] text-white font-bold",children:g})]}),p&&o.jsx("div",{ref:v,className:"absolute right-0 mt-4 w-[380px] max-h-[70vh] bg-white rounded-2xl shadow-2xl border border-gray-100 overflow-hidden z-[60] animate-in fade-in zoom-in-95 duration-200",children:o.jsx(ul,{modoCompacto:!0})})]}),o.jsxs("div",{className:"relative",ref:w,children:[o.jsx("button",{onClick:()=>f(!m),className:"flex items-center gap-2 pl-1 pr-2 py-1 rounded-full hover:bg-gray-100 transition-colors border border-transparent hover:border-gray-200",children:o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-blue-500 to-teal-400 p-[2px]",children:o.jsx("div",{className:"w-full h-full rounded-full bg-white flex items-center justify-center",children:o.jsx(sa,{size:16,className:"text-gray-700"})})})}),m&&o.jsxs("div",{className:"absolute right-0 mt-4 w-56 bg-white rounded-2xl shadow-2xl border border-gray-100 py-2 z-[60] animate-in fade-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 mb-2",children:[o.jsx("p",{className:"text-sm font-bold text-gray-900",children:s.nombre}),o.jsx("p",{className:"text-xs text-gray-500 capitalize",children:s.rol})]}),s.rol==="cliente"&&o.jsxs("div",{className:"lg:hidden border-b border-gray-100 mb-2 pb-2",children:[o.jsxs("button",{onClick:()=>{x(),f(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-600 hover:bg-gray-50 hover:text-gray-900 flex items-center gap-3 transition-colors",children:[o.jsx(xa,{size:16})," ",e("nav.tienda")]}),o.jsxs("button",{onClick:()=>{r("/mis-gastos"),f(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-600 hover:bg-gray-50 hover:text-gray-900 flex items-center gap-3 transition-colors",children:[o.jsx(Cs,{size:16})," ",e("nav.mis_reportes")]})]}),o.jsxs("button",{onClick:()=>{r("/perfil"),f(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-600 hover:bg-gray-50 hover:text-gray-900 flex items-center gap-3 transition-colors",children:[o.jsx(sa,{size:16})," ",e("nav.mi_perfil")]}),o.jsxs("button",{onClick:()=>{i(),f(!1)},className:"w-full text-left px-4 py-2 text-sm text-red-500 hover:bg-red-50 flex items-center gap-3 transition-colors mt-1",children:[o.jsx(Q0,{size:16})," ",e("nav.cerrar_sesion")]})]})]})]})]}):o.jsx("button",{onClick:()=>t(!0),className:"bg-gray-900 hover:bg-black text-white text-xs font-bold px-5 py-2.5 rounded-full shadow-lg shadow-gray-200 hover:shadow-xl transition-all transform hover:-translate-y-0.5",children:e("nav.iniciar_sesion")}),(!s||s.rol==="cliente")&&o.jsxs("button",{className:"relative p-2 text-gray-500 hover:text-gray-900 transition-colors",onClick:()=>l(!0),children:[o.jsx(sl,{size:22}),a.length>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-black text-white text-[10px] font-bold w-5 h-5 flex items-center justify-center rounded-full border-2 border-white shadow-sm",children:a.length})]})]})]})})})},Bk=()=>{const{sedes:t,configuracion:e}=b.useContext(jt),{usuario:r}=b.useContext(Qe),{setMostrarLogin:n,abrirModalInfo:s}=ja(),i=an(),{t:a}=Fl(),l=(e==null?void 0:e.CONTACTO_TELEFONO)||"(01) 555-0123",c=(e==null?void 0:e.CONTACTO_EMAIL)||"contacto@alquileresperuanos.pe",u=d=>{r?i(d):n(!0)};return o.jsxs("footer",{className:"relative bg-[#0f172a] text-gray-300 pt-20 pb-10 overflow-hidden mt-20",children:[o.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-blue-600/10 rounded-full blur-3xl -translate-y-1/2"}),o.jsx("div",{className:"absolute bottom-0 right-0 w-80 h-80 bg-teal-500/10 rounded-full blur-3xl translate-y-1/3"}),o.jsxs("div",{className:"relative max-w-7xl mx-auto px-6 lg:px-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-16",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6 group",children:[o.jsxs("div",{className:"relative w-10 h-10 flex items-center justify-center bg-gradient-to-br from-blue-600 to-teal-500 rounded-xl shadow-lg shadow-blue-500/20",children:[o.jsx(Y0,{className:"text-yellow-200 absolute top-1.5 right-1.5 opacity-90",size:14,fill:"currentColor"}),o.jsx(Z0,{className:"text-white relative z-10 mt-1",size:22,strokeWidth:2.5})]}),o.jsx("span",{className:"text-2xl font-bold text-white tracking-tight",children:a("nav.app_name","Alquiler de Verano")})]}),o.jsx("p",{className:"text-gray-400 text-sm leading-relaxed mb-6",children:"La plataforma lder para tus mejores recuerdos de verano. Calidad, seguridad y diversin garantizada en cada aventura."}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-white/5 hover:bg-white/10 rounded-lg transition-colors text-white hover:text-blue-400",children:o.jsx(G1,{size:20})}),o.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-white/5 hover:bg-white/10 rounded-lg transition-colors text-white hover:text-pink-400",children:o.jsx(Z1,{size:20})}),o.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-white/5 hover:bg-white/10 rounded-lg transition-colors text-white hover:text-sky-400",children:o.jsx(d_,{size:20})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold text-lg mb-6",children:"Navegacin"}),o.jsxs("ul",{className:"space-y-3 text-sm",children:[o.jsx("li",{children:o.jsxs("button",{onClick:()=>{i("/"),setTimeout(()=>{const d=document.getElementById("top");d?d.scrollIntoView({behavior:"smooth",block:"start"}):window.scrollTo({top:0,behavior:"smooth"})},100)},className:"hover:text-blue-400 transition-colors flex items-center gap-2 text-left w-full",children:[o.jsx(Eo,{size:14,className:"opacity-50"}),"Inicio"]})}),o.jsx("li",{children:o.jsxs("button",{onClick:()=>u("/perfil"),className:"hover:text-blue-400 transition-colors flex items-center gap-2 text-left",children:[o.jsx(Eo,{size:14,className:"opacity-50"}),"Mi Cuenta"]})}),o.jsx("li",{children:o.jsxs("button",{onClick:()=>s("ayuda","Centro de Ayuda"),className:"hover:text-blue-400 transition-colors flex items-center gap-2 text-left",children:[o.jsx(Eo,{size:14,className:"opacity-50"}),"Centro de Ayuda"]})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold text-lg mb-6",children:"Nuestras Sedes"}),o.jsx("ul",{className:"space-y-4 text-sm",children:t.map(d=>o.jsxs("li",{className:"flex items-start gap-3 group",children:[o.jsx("span",{className:"mt-1 min-w-[20px] h-5 flex items-center justify-center rounded bg-blue-500/10 text-blue-400 group-hover:bg-blue-500 group-hover:text-white transition-all",children:o.jsx(rl,{size:14})}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-gray-200 font-medium",children:d.nombre}),d.mapa_url?o.jsx("a",{href:d.mapa_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-gray-500 opacity-70 group-hover:opacity-100 group-hover:text-blue-400 transition-all hover:underline",children:d.direccion}):o.jsx("span",{className:"text-xs text-gray-500 opacity-70",children:d.direccion})]})]},d.id))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold text-lg mb-6",children:"Contctanos"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("a",{href:`tel:${l.replace(/\s/g,"")}`,className:"flex items-center gap-3 p-4 bg-white/5 rounded-2xl border border-white/5 hover:border-blue-500/30 transition-colors group",children:[o.jsx(nl,{size:24,className:"text-blue-400 group-hover:scale-110 transition-transform"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-400 uppercase font-semibold tracking-wider",children:"Llmanos"}),o.jsx("p",{className:"text-white font-bold group-hover:text-blue-200",children:l})]})]}),o.jsxs("a",{href:`mailto:${c}`,className:"flex items-center gap-3 p-4 bg-white/5 rounded-2xl border border-white/5 hover:border-teal-500/30 transition-colors group",children:[o.jsx(na,{size:24,className:"text-teal-400 group-hover:scale-110 transition-transform"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-400 uppercase font-semibold tracking-wider",children:"Escrbenos"}),o.jsx("p",{className:"text-white font-bold text-sm truncate max-w-[150px] group-hover:text-teal-200",children:c})]})]})]})]})]}),o.jsxs("div",{className:"border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center gap-4 text-xs text-gray-500 text-center md:text-left",children:[o.jsxs("p",{children:[" 2025 ",a("nav.app_name","Alquiler de Verano"),". Todos los derechos reservados."]}),o.jsxs("div",{className:"flex gap-6",children:[o.jsx("button",{onClick:()=>s("privacidad","Poltica de Privacidad"),className:"hover:text-white transition-colors",children:"Privacidad"}),o.jsx("button",{onClick:()=>s("terminos","Trminos y Condiciones"),className:"hover:text-white transition-colors",children:"Trminos"}),o.jsx("button",{onClick:()=>s("cookies","Poltica de Cookies"),className:"hover:text-white transition-colors",children:"Cookies"})]})]})]})]})},Hk=()=>{const{setMostrarLogin:t}=ja(),{pathname:e}=Kt();return b.useEffect(()=>{window.scrollTo(0,0)},[e]),o.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-gray-900 flex flex-col relative",children:[o.jsx("div",{id:"top",className:"absolute top-0 w-full h-1"}),o.jsx(Fk,{setMostrarLogin:t}),o.jsx("main",{className:`flex-grow w-full ${e==="/"?"":"max-w-7xl mx-auto py-8 pt-32 px-4 sm:px-6 lg:px-8"}`,children:o.jsx(z0,{})}),o.jsx(Bk,{})]})},Vk=()=>{const t=an(),{usuario:e,cerrarSesion:r}=b.useContext(Qe),{tickets:n}=b.useContext(ln),[s,i]=b.useState(!1),[a,l]=b.useState(!1),c=b.useRef(null),u=b.useRef(null),d=n.filter(m=>{var f,p,y,w,v,g,x;return m.leido||!e?!1:e.rol==="admin"?((f=m.destinatario)==null?void 0:f.rol)==="admin"||((p=m.destinatario)==null?void 0:p.id)===e.id||!m.destinatario&&((y=m.remitente)==null?void 0:y.rol)!=="admin":e.rol==="dueno"?((w=m.destinatario)==null?void 0:w.rol)==="dueno"||((v=m.destinatario)==null?void 0:v.id)===e.id:((g=m.destinatario)==null?void 0:g.id)===e.id||((x=m.destinatario)==null?void 0:x.rol)===e.rol}).length;b.useEffect(()=>{const m=f=>{c.current&&!c.current.contains(f.target)&&i(!1),u.current&&!u.current.contains(f.target)&&!f.target.closest(".boton-bandeja")&&l(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const h=()=>{r(),t("/")};return o.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:o.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between h-16 items-center",children:[o.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>t("/"),children:[o.jsx("div",{className:"bg-blue-600 p-2 rounded-lg text-white",children:o.jsx(xa,{size:24})}),o.jsx("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-teal-500",children:"SummerRent"}),o.jsxs("span",{className:"ml-2 text-sm text-gray-500 font-normal",children:["Panel ",(e==null?void 0:e.rol)==="admin"||(e==null?void 0:e.rol)==="dueno"?"Administrativo":(e==null?void 0:e.rol)==="vendedor"?"de Vendedor":"de Mecnico"]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>l(!a),className:`boton-bandeja relative p-2 rounded-lg transition-colors ${a?"bg-blue-50 text-blue-600":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,title:"Notificaciones",children:[o.jsx(K0,{size:20}),d>0&&o.jsx("span",{className:"absolute -top-1 -right-1 min-w-[16px] h-[16px] bg-red-500 rounded-full border-2 border-white flex items-center justify-center text-[10px] text-white font-bold px-1",children:d>9?"9+":d})]}),a&&o.jsx("div",{ref:u,className:"absolute right-0 mt-2 w-[90vw] sm:w-[480px] max-h-[80vh] bg-white rounded-xl shadow-2xl border border-gray-100 overflow-hidden z-50 flex flex-col",children:o.jsx("div",{className:"p-0 h-full overflow-y-auto custom-scrollbar",children:o.jsx(ul,{modoCompacto:!0})})})]}),o.jsxs("div",{className:"relative",ref:c,children:[o.jsxs("button",{onClick:()=>i(!s),className:"flex items-center gap-3 hover:bg-gray-50 p-2 rounded-lg transition-colors",children:[o.jsxs("div",{className:"text-right hidden sm:block",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:e==null?void 0:e.nombre}),o.jsx("p",{className:"text-xs text-gray-500 capitalize",children:e==null?void 0:e.rol})]}),o.jsx("div",{className:"bg-gray-100 p-2 rounded-full text-gray-600",children:o.jsx(sa,{size:20})}),o.jsx(G0,{size:16,className:"text-gray-400"})]}),s&&o.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-100 py-1 z-50",children:[o.jsxs("button",{onClick:()=>{t("/perfil"),i(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[o.jsx(sa,{size:16})," Mi Perfil"]}),o.jsx("div",{className:"border-t border-gray-100 my-1"}),o.jsxs("button",{onClick:()=>{h(),i(!1)},className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[o.jsx(Q0,{size:16})," Cerrar Sesin"]})]})]})]})]})})})},qk=()=>{const{usuario:t,usuarios:e}=b.useContext(Qe),r=Kt(),[n,s]=b.useState(!1),[i,a]=b.useState(""),l=w=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${r.pathname===w||r.pathname.startsWith(w+"/")?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-100"}`,c=[{to:"/admin/inventario",icon:xa,label:"Inventario"},{to:"/admin/reservas",icon:Rn,label:"Reservas"},{to:"/admin/usuarios",icon:Au,label:"Usuarios"},{to:"/admin/promociones",icon:X0,label:"Promociones"},{to:"/admin/punto-venta",icon:sl,label:"Punto de Venta",adminOnly:!0},{to:"/admin/reportes",icon:Nn,label:"Reportes"}],u=[{to:"/admin/reportes",icon:Nn,label:"Reportes"},{to:"/admin/usuarios",icon:Au,label:"Usuarios"}],d=[{to:"/vendedor/operaciones",icon:c_,label:"Operaciones"},{to:"/vendedor/reservas",icon:Rn,label:"Reservas"},{to:"/vendedor/punto-venta",icon:sl,label:"Punto de Venta"},{to:"/vendedor/reportes",icon:Nn,label:"Reportes"}],h=[{to:"/mecanico",icon:Oi,label:"Taller"},{to:"/mecanico/reportes",icon:Nn,label:"Reportes"}],f=(t==null?void 0:t.rol)==="admin"?c.filter(w=>!w.adminOnly||t.rol==="admin"):(t==null?void 0:t.rol)==="dueno"?u:(t==null?void 0:t.rol)==="vendedor"?d:(t==null?void 0:t.rol)==="mecanico"?h:[],{crearTicket:p}=b.useContext(ln),y=w=>{if(w.preventDefault(),!i.trim())return;const v=t.rol==="vendedor"?"admin":"dueno",g=e.find(_=>_.rol===v),x=t.rol==="vendedor"?"Administrador":"Dueo";p({asunto:`Mensaje Interno de ${t.nombre} (${t.rol})`,mensaje:i,telefono:t.telefono||"N/A",remitente:{id:t.id,nombre:t.nombre,rol:t.rol},destinatario:g?{id:g.id,nombre:g.nombre,rol:g.rol}:{rol:v}}),alert(`Mensaje enviado al ${x} correctamente.`),s(!1),a("")};return o.jsxs("aside",{className:"w-64 bg-white border-r border-gray-200 p-4 flex flex-col h-full",children:[o.jsx("nav",{className:"space-y-2 flex-1",children:f.map(w=>o.jsxs(q0,{to:w.to,className:l(w.to),children:[o.jsx(w.icon,{size:20}),o.jsx("span",{children:w.label})]},w.to))}),((t==null?void 0:t.rol)==="vendedor"||(t==null?void 0:t.rol)==="admin")&&o.jsx("div",{className:"mt-auto pt-4 border-t border-gray-100",children:o.jsxs("button",{onClick:()=>s(!0),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-all",children:[o.jsx(yi,{size:20}),o.jsxs("span",{children:["Contactar ",t.rol==="vendedor"?"Admin":"Dueo"]})]})}),n&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md shadow-xl",children:[o.jsxs("h3",{className:"text-xl font-bold mb-4",children:["Contactar al ",t.rol==="vendedor"?"Administrador":"Dueo"]}),o.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensaje"}),o.jsx("textarea",{className:"w-full p-2 border rounded-lg h-32 resize-none",placeholder:"Escribe tu mensaje aqu...",value:i,onChange:w=>a(w.target.value),required:!0})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(oe,{type:"button",variante:"secundario",onClick:()=>s(!1),className:"flex-1",children:"Cancelar"}),o.jsx(oe,{type:"submit",variante:"primario",className:"flex-1",children:"Enviar"})]})]})]})})]})},Ac=()=>o.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-gray-900 flex flex-col",children:[o.jsx(Vk,{}),o.jsxs("div",{className:"flex flex-grow overflow-hidden",children:[o.jsx(qk,{}),o.jsx("main",{className:"flex-grow p-6 overflow-y-auto",children:o.jsx(z0,{})})]})]}),Wk=({producto:t,alSeleccionar:e})=>{const{usuario:r}=b.useContext(Qe),n=(r==null?void 0:r.licenciaConducir)===!0||(r==null?void 0:r.licencia_conducir)===!0,s=t.categoria==="Motor",i=r&&s&&!n,[a,l]=En.useState(null),[c,u]=En.useState(!1);return En.useEffect(()=>{t.stock<=0&&(async()=>{u(!0);const{estimarDisponibilidad:h}=await Ms(async()=>{const{estimarDisponibilidad:f}=await Promise.resolve().then(()=>la);return{estimarDisponibilidad:f}},void 0),m=await h(t.id);if(m){const f=new Date(m).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});l(f)}u(!1)})()},[t.stock,t.id]),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow group",children:[o.jsxs("div",{className:"relative h-48 overflow-hidden",children:[o.jsx("img",{src:t.imagen,alt:t.nombre,className:`w-full h-full object-cover group-hover:scale-105 transition-transform duration-300 ${i?"grayscale opacity-70":""}`}),o.jsx("div",{className:"absolute top-2 right-2 bg-white/90 backdrop-blur-sm px-2 py-1 rounded-full text-xs font-bold text-gray-700",children:t.categoria})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:t.nombre}),o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("span",{className:"text-blue-600 font-bold",children:["S/ ",t.precioPorHora,"/h"]}),o.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${t.stock>0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:t.stock>0?`${t.stock} disp.`:"Agotado"})]}),t.stock<=0&&o.jsx("p",{className:"text-xs text-orange-600 mb-2 font-medium",children:c?"Calculando...":a?`Disponible aprox. a las ${a}`:"No disponible hoy"}),i&&o.jsx("p",{className:"text-xs text-red-600 mb-2 font-bold flex items-center gap-1",children:" Tu perfil indica que NO tienes licencia."}),o.jsx(oe,{onClick:()=>e(t),variante:"primario",className:"w-full",disabled:t.stock===0||i,children:t.stock===0?"No Disponible":i?"Requiere Licencia":"Ver Detalles"})]})]})},Kk=()=>{var g;const{t}=Fl(),e=an(),{inventario:r,sedeActual:n,setSedeActual:s,sedes:i,estaAbierto:a,contenido:l}=b.useContext(jt),{usuario:c}=b.useContext(Qe),[u,d]=b.useState(""),[h,m]=b.useState(null),[f,p]=b.useState("Todas");b.useEffect(()=>{c&&(c.rol==="admin"?e("/admin/inventario"):c.rol==="dueno"?e("/admin/reportes"):c.rol==="vendedor"?e("/vendedor/operaciones"):c.rol==="mecanico"&&e("/mecanico"))},[c,e]);const y=["Todas",...new Set(r.map(x=>x.categoria)),"Agotados"],w=r.filter(x=>{const _=x.nombre.toLowerCase().includes(u.toLowerCase());return f==="Agotados"?_&&x.stock<=0:f==="Todas"?_:_&&x.categoria===f}).sort((x,_)=>x.stock>0&&_.stock<=0?-1:x.stock<=0&&_.stock>0?1:0),v=i.find(x=>x.id===n)||i[0];return o.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[o.jsxs("div",{className:"relative h-[85vh] w-full overflow-hidden flex items-center justify-center",children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx("img",{src:"/assets/hero-bg.png",alt:"Paisaje de Verano",className:"w-full h-full object-cover transform scale-105 animate-slow-zoom"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 via-transparent to-gray-50/90"})]}),o.jsxs("div",{className:"relative z-10 w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col items-center",children:[o.jsxs("div",{className:"animate-fade-in-up flex flex-col items-center text-center",children:[o.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white/20 backdrop-blur-md border border-white/30 text-white text-sm font-semibold mb-6 shadow-lg",children:[o.jsx(a_,{size:14,className:"text-yellow-400 fill-yellow-400"}),o.jsx("span",{children:t("home.badge")})]}),o.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-white mb-6 leading-tight drop-shadow-xl tracking-tight max-w-4xl",children:[t("home.hero_title_1"),o.jsx("br",{}),o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-teal-200 to-blue-200",children:t("home.hero_title_2")})]}),o.jsx("p",{className:"text-lg md:text-xl text-white/95 mb-12 max-w-2xl font-light leading-relaxed drop-shadow-md",children:t("home.hero_subtitle")})]}),o.jsx("div",{className:"w-full max-w-3xl animate-fade-in-up delay-100",children:o.jsxs("div",{className:"bg-white/90 backdrop-blur-xl p-2 rounded-2xl shadow-2xl border border-white/50 flex flex-col md:flex-row gap-2",children:[o.jsxs("div",{className:"relative flex-1 group",children:[o.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 flex items-center justify-center w-8 h-8 rounded-full bg-blue-50 text-blue-600 transition-colors group-hover:bg-blue-100",children:o.jsx(rl,{size:18})}),o.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:o.jsx("button",{onClick:()=>m(v),className:"text-xs font-semibold text-blue-600 hover:underline",children:t("home.ver_info")})}),o.jsx("select",{value:n,onChange:x=>s(x.target.value),className:"w-full pl-14 pr-16 py-4 rounded-xl bg-transparent border-none outline-none text-gray-900 font-bold text-sm md:text-base cursor-pointer hover:bg-white/50 transition-colors appearance-none",children:i.map(x=>o.jsx("option",{value:x.id,children:x.nombre},x.id))})]}),o.jsx("div",{className:"h-px md:h-auto md:w-px bg-gray-200/50 mx-2"}),o.jsxs("div",{className:"relative flex-[1.5] group",children:[o.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 flex items-center justify-center w-8 h-8 rounded-full bg-gray-50 text-gray-500 transition-colors group-focus-within:bg-blue-50 group-focus-within:text-blue-600",children:o.jsx(Mn,{size:18})}),o.jsx("input",{type:"text",placeholder:t("home.search_placeholder"),className:"w-full pl-14 pr-4 py-4 rounded-xl bg-transparent border-none outline-none text-gray-900 font-medium placeholder-gray-400 hover:bg-white/50 focus:bg-white/80 transition-all",value:u,onChange:x=>d(x.target.value)})]}),o.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-bold transition-all transform hover:scale-[1.02] active:scale-[0.98] shadow-lg shadow-blue-600/30 flex items-center justify-center gap-2",children:[o.jsx("span",{children:t("home.explore_btn")}),o.jsx(Eo,{size:18})]})]})})]})]}),o.jsxs("div",{className:"flex-grow w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-16 relative z-20",children:[o.jsx("div",{className:"flex flex-col items-center -mt-10 mb-12",children:o.jsx("div",{className:"flex overflow-x-auto pb-4 gap-3 max-w-full no-scrollbar p-2 bg-white/50 backdrop-blur-md rounded-full border border-white/60 shadow-lg",children:y.map(x=>{const _=x==="Agotados",N=f===x;let P="whitespace-nowrap px-6 py-2.5 rounded-full text-sm font-bold transition-all transform hover:scale-105 ";return _?P+=N?"bg-red-500 text-white shadow-md":"bg-transparent text-red-500 hover:bg-red-50 hover:shadow-sm border border-red-200":P+=N?"bg-gray-900 text-white shadow-md":"bg-transparent text-gray-600 hover:bg-white hover:shadow-sm",o.jsx("button",{onClick:()=>p(x),className:P,children:_?"Agotados":t(`categories.${x}`,x)},x)})})}),o.jsx("div",{className:"flex justify-between items-end mb-8 px-2",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t("home.catalog_title")}),o.jsxs("p",{className:"text-gray-500 mt-1",children:[t("home.showing_items",{count:w.length})," ",o.jsx("span",{className:"font-semibold text-blue-600",children:v==null?void 0:v.nombre})]})]})}),w.length>0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:w.map(x=>o.jsx("div",{className:"group h-full bg-white rounded-2xl shadow-sm hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 overflow-hidden border border-gray-100",children:o.jsx(Wk,{producto:x,alSeleccionar:_=>e(`/producto/${_.id}`)})},x.id))}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-24 bg-white rounded-3xl border border-dashed border-gray-200 text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mb-6 text-gray-300",children:o.jsx(ih,{size:40})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:t("home.no_results_title")}),o.jsx("p",{className:"text-gray-500 max-w-md",children:t("home.no_results_desc")}),o.jsx("button",{onClick:()=>{d(""),p("Todas")},className:"mt-6 px-6 py-2 text-blue-600 font-bold hover:bg-blue-50 rounded-lg transition-colors",children:t("home.clear_filters")})]})]}),h&&o.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-in fade-in duration-300",children:o.jsxs("div",{className:"bg-white rounded-3xl max-w-2xl w-full shadow-2xl overflow-hidden flex flex-col max-h-[90vh] animate-in zoom-in-95 duration-300",children:[o.jsxs("div",{className:"relative h-64",children:[o.jsx("img",{src:h.imagen,alt:h.nombre,className:"w-full h-full object-cover"}),o.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent flex flex-col justify-end p-8",children:[o.jsx("h2",{className:"text-4xl font-bold text-white mb-2",children:h.nombre}),o.jsxs("p",{className:"text-white/90 flex items-center gap-2",children:[o.jsx(rl,{size:18,className:"text-blue-400"})," ",h.direccion]})]}),o.jsx("button",{onClick:()=>m(null),className:"absolute top-4 right-4 bg-black/20 hover:bg-black/40 backdrop-blur-md text-white p-2 rounded-full transition-all",children:o.jsx(ah,{size:24})})]}),o.jsxs("div",{className:"p-8 overflow-y-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-3 flex items-center gap-2",children:[o.jsx($n,{size:20,className:"text-blue-500"})," ",(l==null?void 0:l.SEDE_MODAL_TITULO_ESTADO)||t("home.state_schedule")]}),o.jsxs("div",{className:`inline-flex items-center gap-3 px-5 py-3 rounded-xl border ${a(h.id).abierto?"bg-green-50 border-green-100 text-green-800":"bg-red-50 border-red-100 text-red-800"}`,children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${a(h.id).abierto?"bg-green-500 animate-pulse":"bg-red-500"}`}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-sm tracking-wide",children:a(h.id).abierto?(l==null?void 0:l.SEDE_MODAL_ESTADO_ABIERTO)||t("home.open_now"):(l==null?void 0:l.SEDE_MODAL_ESTADO_CERRADO)||t("home.closed")}),o.jsx("p",{className:"text-xs opacity-80",children:a(h.id).mensaje})]})]}),o.jsx("p",{className:"mt-4 text-gray-600 leading-relaxed text-lg",children:h.descripcion})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider mb-4",children:(l==null?void 0:l.SEDE_MODAL_TITULO_CONTACTO)||t("home.contact")}),o.jsxs("ul",{className:"space-y-4",children:[h.telefono&&o.jsxs("li",{className:"flex items-center gap-3 text-gray-700 bg-gray-50 p-3 rounded-xl",children:[o.jsx(nl,{size:20,className:"text-blue-500"}),o.jsx("span",{className:"font-medium",children:h.telefono})]}),h.correo_contacto&&o.jsxs("li",{className:"flex items-center gap-3 text-gray-700 bg-gray-50 p-3 rounded-xl",children:[o.jsx(na,{size:20,className:"text-blue-500"}),o.jsx("span",{className:"font-medium",children:h.correo_contacto})]}),h.mapa_url&&o.jsx("li",{children:o.jsxs("a",{href:h.mapa_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 text-blue-600 hover:text-blue-700 hover:bg-blue-50 p-3 rounded-xl transition-colors font-medium",children:[o.jsx(K1,{size:20}),(l==null?void 0:l.SEDE_MODAL_LINK_MAPA)||"Ver ubicacin en mapa"]})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider mb-4",children:(l==null?void 0:l.SEDE_MODAL_TITULO_SERVICIOS)||t("home.services")}),o.jsx("div",{className:"flex flex-wrap gap-2",children:(g=h.servicios)==null?void 0:g.map((x,_)=>o.jsxs("span",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium flex items-center gap-2",children:[o.jsx(On,{size:16,className:"text-teal-500"}),x]},_))})]})]})]}),o.jsx("div",{className:"p-6 border-t border-gray-100 bg-gray-50/50 flex justify-end",children:o.jsx("button",{onClick:()=>m(null),className:"px-8 py-3 bg-gray-900 text-white rounded-xl hover:bg-gray-800 transition-colors font-bold shadow-lg shadow-gray-200",children:(l==null?void 0:l.SEDE_MODAL_BTN_CERRAR)||t("home.understood_btn")})})]})})]})},Gk=()=>{const{id:t}=$0(),e=an(),{agregarAlCarrito:r}=b.useContext(zl),{inventario:n}=b.useContext(jt),{setMostrarLogin:s}=ja(),[i,a]=b.useState(1),{usuario:l}=b.useContext(Qe),c=n.find(d=>String(d.id)===t);if(!c)return o.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-6 text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Producto no encontrado"}),o.jsx(oe,{onClick:()=>e("/"),children:"Volver a la tienda"})]});const u=()=>{if(!l){s(!0);return}if(c.requiereLicencia&&!l.licenciaConducir){alert("Este vehculo requiere una Licencia de Conducir vigente. Por favor, actualice su perfil."),e("/perfil");return}r(c,i)};return o.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-6",children:o.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden max-w-5xl mx-auto",children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-8 p-6 md:p-8",children:[o.jsx("div",{className:"rounded-xl overflow-hidden h-64 md:h-96",children:o.jsx("img",{src:c.imagen,alt:c.nombre,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex flex-col justify-between",children:[o.jsxs("div",{children:[o.jsx("button",{onClick:()=>e("/"),className:"text-gray-500 hover:text-gray-800 mb-4 flex items-center gap-1",children:" Volver"}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:c.nombre}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl mb-6 flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600",children:"Precio por hora"}),o.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["S/ ",c.precioPorHora]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-2",children:"Descripcin"}),o.jsx("p",{className:"text-gray-600 leading-relaxed",children:c.descripcion||"Sin descripcin disponible."})]}),o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsx("span",{className:"text-gray-700 font-medium",children:"Horas:"}),o.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[o.jsx("button",{onClick:()=>a(Math.max(1,i-1)),className:"px-3 py-2 hover:bg-gray-100",children:o.jsx(t_,{size:16})}),o.jsxs("span",{className:"px-3 font-medium w-12 text-center",children:[i,"h"]}),o.jsx("button",{onClick:()=>a(i+1),className:"px-3 py-2 hover:bg-gray-100",children:o.jsx(Dl,{size:16})})]})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Total estimado"}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["S/ ",c.precioPorHora*i]})]}),o.jsx(oe,{className:"flex-1",onClick:u,children:"Agregar al Carrito"})]})]})]})})})},Jk=()=>{const{usuario:t,actualizarPerfil:e}=b.useContext(Qe),[r,n]=b.useState({nombre:t.nombre||"",email:t.email||"",telefono:t.telefono||"",tipoDocumento:t.tipoDocumento||"DNI",numeroDocumento:t.numeroDocumento||"",fechaNacimiento:t.fechaNacimiento||"",nacionalidad:t.nacionalidad||"Nacional",licenciaConducir:t.licenciaConducir||!1,direccion:t.direccion||"",contactoEmergencia:t.contactoEmergencia||"",codigoEmpleado:t.codigoEmpleado||"",turno:t.turno||"Maana",especialidad:t.especialidad||"",experiencia:t.experiencia||"",anexo:t.anexo||"",oficina:t.oficina||""}),[s,i]=b.useState([]),[a,l]=b.useState(!1),[c,u]=b.useState(!1),[d,h]=b.useState({numero:"",exp:"",cvv:"",nombre:""});b.useEffect(()=>{t!=null&&t.id&&t.rol==="cliente"&&m(),t&&n({nombre:t.nombre||"",email:t.email||"",telefono:t.telefono||"",tipoDocumento:t.tipoDocumento||"DNI",numeroDocumento:t.numero_documento||t.numeroDocumento||"",fechaNacimiento:t.fecha_nacimiento||t.fechaNacimiento||"",nacionalidad:t.nacionalidad||"Nacional",licenciaConducir:t.licencia_conducir||t.licenciaConducir||!1,direccion:t.direccion||"",contactoEmergencia:t.contacto_emergencia||t.contactoEmergencia||"",codigoEmpleado:t.codigo_empleado||t.codigoEmpleado||"",turno:t.turno||"Maana",especialidad:t.especialidad||"",experiencia:t.experiencia||"",anexo:t.anexo||"",oficina:t.oficina||""})},[t]);const m=async()=>{l(!0);const g=await by(t.id);i(g),l(!1)},f=g=>{h({...d,[g.target.name]:g.target.value})},p=async g=>{if(g.preventDefault(),!d.numero||!d.exp||!d.cvv||!d.nombre){alert("Por favor complete todos los campos de la tarjeta.");return}const x={nombre:d.nombre,numero:d.numero.slice(-4),exp:d.exp,principal:s.length===0};(await jy(t.id,x)).success?(alert("Tarjeta agregada correctamente."),u(!1),h({numero:"",exp:"",cvv:"",nombre:""}),m()):alert("Error al agregar tarjeta.")},y=async g=>{window.confirm("Ests seguro de eliminar esta tarjeta?")&&((await _y(g)).success?m():alert("Error al eliminar tarjeta."))},w=g=>{g.preventDefault(),e(t.id,r),alert("Perfil actualizado correctamente.")},v=()=>{switch(t.rol){case"cliente":return o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 space-y-4",children:[o.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2 text-gray-800 border-b pb-3",children:[o.jsx(rl,{className:"text-blue-500",size:20})," Direccin y Contacto"]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Direccin de Domicilio"}),o.jsx("input",{className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",value:r.direccion,onChange:g=>n({...r,direccion:g.target.value}),placeholder:"Av. Principal 123, Dpto 401"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Contacto de Emergencia"}),o.jsx("input",{className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",value:r.contactoEmergencia,onChange:g=>n({...r,contactoEmergencia:g.target.value}),placeholder:"Nombre - Telfono"})]})]})]});default:return null}};return o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-8 text-white shadow-lg mb-8 flex items-center gap-6",children:[o.jsx("div",{className:"w-24 h-24 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-4xl font-bold border-4 border-white/30",children:t.nombre.charAt(0)}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:t.nombre}),o.jsxs("p",{className:"text-blue-100 capitalize text-lg flex items-center gap-2",children:[o.jsx(xi,{size:18})," ",t.rol]}),o.jsx("p",{className:"text-blue-200 text-sm mt-1",children:t.email})]})]}),o.jsxs("form",{onSubmit:w,className:"space-y-8",children:[o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 space-y-4",children:[o.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2 text-gray-800 border-b pb-3",children:[o.jsx(sa,{className:"text-blue-500",size:20})," Informacin Personal"]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Nombre Completo"}),o.jsx("input",{className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",value:r.nombre,onChange:g=>n({...r,nombre:g.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Telfono"}),o.jsx("input",{className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",value:r.telefono,onChange:g=>n({...r,telefono:g.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Nacionalidad"}),o.jsxs("select",{className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",value:r.nacionalidad,onChange:g=>n({...r,nacionalidad:g.target.value}),children:[o.jsx("option",{value:"Nacional",children:"Nacional"}),o.jsx("option",{value:"Extranjero",children:"Extranjero"})]})]})]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 space-y-4",children:[o.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2 text-gray-800 border-b pb-3",children:[o.jsx(Cs,{className:"text-blue-500",size:20})," Documentacin"]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Tipo Documento"}),o.jsxs("select",{className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",value:r.tipoDocumento,onChange:g=>n({...r,tipoDocumento:g.target.value}),children:[o.jsx("option",{value:"DNI",children:"DNI"}),o.jsx("option",{value:"Pasaporte",children:"Pasaporte"}),o.jsx("option",{value:"CE",children:"Carn Extranjera"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Nmero Documento"}),o.jsx("input",{className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",value:r.numeroDocumento,onChange:g=>n({...r,numeroDocumento:g.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Fecha Nacimiento"}),o.jsx("input",{type:"date",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",value:r.fechaNacimiento,onChange:g=>n({...r,fechaNacimiento:g.target.value})})]})]})]}),v(),t.rol==="cliente"&&o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center border-b pb-3",children:[o.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2 text-gray-800",children:[o.jsx(Cs,{className:"text-blue-500",size:20})," Mtodos de Pago"]}),o.jsxs("button",{type:"button",onClick:()=>u(!0),className:"text-sm text-blue-600 font-semibold hover:text-blue-800 flex items-center gap-1",children:[o.jsx(Dl,{size:16})," Nueva Tarjeta"]})]}),a?o.jsx("p",{className:"text-gray-500 text-sm",children:"Cargando tarjetas..."}):o.jsxs("div",{className:"grid gap-4",children:[s.length===0&&o.jsx("p",{className:"text-gray-500 text-sm italic",children:"No tienes tarjetas guardadas."}),s.map(g=>{var x;return o.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-xl bg-gray-50 hover:border-blue-200 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm text-blue-600",children:o.jsx(Cs,{size:24})}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-bold text-gray-800",children:["   ",((x=g.numero_oculto)==null?void 0:x.slice(-4))||"****"]}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Expira: ",g.expiracion," | ",g.titular]})]})]}),o.jsx("button",{type:"button",onClick:()=>y(g.id),className:"text-gray-400 hover:text-red-500 p-2 transition-colors",children:o.jsx(wa,{size:18})})]},g.id)})]})]}),(t.rol==="cliente"||t.rol==="mecanico")&&o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 space-y-4",children:[o.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2 text-gray-800 border-b pb-3",children:[o.jsx(Rn,{className:"text-blue-500",size:20})," Permisos"]}),o.jsxs("div",{className:"flex items-center gap-3 bg-blue-50 p-4 rounded-lg border border-blue-100",children:[o.jsx("input",{type:"checkbox",id:"licencia",className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500",checked:r.licenciaConducir,onChange:g=>n({...r,licenciaConducir:g.target.checked})}),o.jsx("label",{htmlFor:"licencia",className:"text-sm font-medium text-gray-800 cursor-pointer",children:"Declaro tener Licencia de Conducir Vigente (Requerido para vehculos motorizados)"})]})]}),o.jsx("div",{className:"pt-6",children:o.jsx(oe,{type:"submit",variante:"primario",className:"w-full py-4 text-lg font-bold shadow-lg shadow-blue-500/30",children:"Guardar Todos los Cambios"})})]}),c&&o.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl p-8 w-full max-w-md shadow-2xl transform transition-all",children:[o.jsx("h3",{className:"text-2xl font-bold mb-6 text-gray-900",children:"Agregar Nueva Tarjeta"}),o.jsxs("form",{onSubmit:p,className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1.5",children:"Nombre en la Tarjeta"}),o.jsx("input",{type:"text",name:"nombre",value:d.nombre,onChange:f,className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Juan Perez"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1.5",children:"Nmero de Tarjeta"}),o.jsx("input",{type:"text",name:"numero",value:d.numero,onChange:f,className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"0000 0000 0000 0000",maxLength:"19"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1.5",children:"Expiracin"}),o.jsx("input",{type:"text",name:"exp",value:d.exp,onChange:f,className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"MM/YY",maxLength:"5"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1.5",children:"CVV"}),o.jsx("input",{type:"text",name:"cvv",value:d.cvv,onChange:f,className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"123",maxLength:"4"})]})]}),o.jsxs("div",{className:"flex gap-4 mt-8",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 py-3 px-4 border border-gray-300 rounded-xl text-gray-700 font-semibold hover:bg-gray-50 transition-colors",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"flex-1 py-3 px-4 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 shadow-lg shadow-blue-500/30 transition-colors",children:"Guardar"})]})]})]})})]})},Di=({estado:t})=>{const e={pendiente:{color:"bg-yellow-100 text-yellow-800",texto:"Pendiente Revisin"},listo_para_entrega:{color:"bg-purple-100 text-purple-800",texto:"Listo para Entrega"},en_uso:{color:"bg-blue-100 text-blue-800",texto:"En Uso"},limpieza:{color:"bg-cyan-100 text-cyan-800",texto:"En Limpieza"},en_mantenimiento:{color:"bg-orange-100 text-orange-800",texto:"En Mantenimiento"},fuera_de_servicio:{color:"bg-red-100 text-red-800",texto:"Fuera de Servicio"},finalizado:{color:"bg-green-100 text-green-800",texto:"Finalizado"},devuelto:{color:"bg-gray-100 text-gray-800",texto:"Devuelto (Histrico)"}},{color:r,texto:n}=e[t]||{color:"bg-gray-100 text-gray-800",texto:t};return o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${r}`,children:n})},uo=({rol:t})=>{var ft,_t;const{alquileres:e,inventario:r,reprogramarAlquiler:n,marcarNoShow:s,aplicarDescuentoMantenimiento:i}=b.useContext(jt),{usuario:a,usuarios:l}=b.useContext(Qe),{tickets:c}=b.useContext(ln),u=Kt(),d=t||(a==null?void 0:a.rol),[h,m]=b.useState(""),[f,p]=b.useState(d==="mecanico"?"trabajos_activos":"ventas"),[y,w]=b.useState(((ft=u.state)==null?void 0:ft.usuarioId)||""),[v,g]=b.useState((_t=u.state)!=null&&_t.usuarioId?"individual":"general"),[x,_]=b.useState("todos"),[N,P]=b.useState([]),[j,L]=b.useState([]),[z,E]=b.useState(!1);b.useEffect(()=>{d==="cliente"&&(a!=null&&a.id)&&(async()=>{E(!0);const[de,mt]=await Promise.all([Ey(a.id),Cy(a.id)]);P(de||[]),L(mt||[]),E(!1)})()},[d,a]),v==="general"&&y!==""&&w("");let q=d==="cliente"?N:e;d==="cliente"||(d==="vendedor"?q=e.filter(C=>C.vendedorId===(a==null?void 0:a.id)):d==="admin"&&(a!=null&&a.sede)&&(q=e.filter(C=>C.sedeId===a.sede))),(d==="admin"||d==="dueno")&&(v==="individual"&&y?q=q.filter(C=>C.clienteId===Number(y)||C.vendedorId===Number(y)):v==="general"&&x!=="todos"&&x==="vendedor"&&(q=q.filter(C=>C.vendedorId!==null)));const G=e.filter(C=>C.estado==="en_mantenimiento"||C.estado==="limpieza"||C.estado==="reparacion"||C.estado==="finalizado"&&C.descuentoMantenimiento>0),K=d==="mecanico"?f==="trabajos_activos"?G.filter(C=>["en_mantenimiento","limpieza","reparacion"].includes(C.estado)):G.filter(C=>C.estado==="finalizado"):q,T=K.filter(C=>C.cliente&&C.cliente.toLowerCase().includes(h.toLowerCase())||C.vendedorId&&C.vendedorId.toString().includes(h)||C.id&&String(C.id).toLowerCase().includes(h.toLowerCase())||C.producto_principal&&C.producto_principal.toLowerCase().includes(h.toLowerCase()));console.log("DEBUG REPORTES:",{rol:d,cargando:z,misGastosLength:N==null?void 0:N.length,alquileresFiltradosLength:T==null?void 0:T.length,datosParaTablaLength:K==null?void 0:K.length});const[B,ne]=b.useState("enviados");let A=d==="cliente"?j:c;d==="cliente"||(d==="admin"||d==="dueno")&&(v==="individual"&&y?A=c.filter(C=>{var de,mt;return((de=C.remitente)==null?void 0:de.id)===Number(y)||((mt=C.destinatario)==null?void 0:mt.id)===Number(y)}):B==="recibidos"?A=c.filter(C=>{var de,mt,Se;return((de=C.destinatario)==null?void 0:de.rol)===d||((mt=C.destinatario)==null?void 0:mt.id)===(a==null?void 0:a.id)||!C.destinatario&&((Se=C.remitente)==null?void 0:Se.rol)!==d}):A=c.filter(C=>{var de;return((de=C.remitente)==null?void 0:de.id)===(a==null?void 0:a.id)}));const O=q.reduce((C,de)=>C+Number(de.total_final||de.totalFinal||de.total||0),0),D=q.length;q.reduce((C,de)=>C+(de.penalizacion||0),0);const I=q.reduce((C,de)=>C+(de.descuentoMantenimiento||0),0);r.length,r.reduce((C,de)=>C+(de.stockTotal-de.stock),0);const $=A.filter(C=>C.estado==="pendiente").length,Q=G.filter(C=>["en_mantenimiento","limpieza","reparacion"].includes(C.estado)).length,ve=G.filter(C=>C.estado==="finalizado").length,ie=C=>{const de=prompt("Cuntas horas adicionales desea agregar?");de&&!isNaN(de)&&parseInt(de)>0&&(n(C,parseInt(de)),alert("Alquiler reprogramado con xito."))},we=()=>o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[d!=="mecanico"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("h3",{className:"text-gray-500 text-sm font-medium mb-1 flex items-center gap-2",children:[o.jsx(J0,{size:16})," ",d==="cliente"?"Total Gastado":"Ingresos Totales"]}),o.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["S/ ",O.toFixed(2)]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("h3",{className:"text-gray-500 text-sm font-medium mb-1 flex items-center gap-2",children:[o.jsx(Nn,{size:16})," Operaciones"]}),o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:D})]})]}),(d==="admin"||d==="dueno")&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("h3",{className:"text-gray-500 text-sm font-medium mb-1 flex items-center gap-2",children:[o.jsx(Oi,{size:16})," Costos Mantenimiento"]}),o.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:["S/ ",I.toFixed(2)]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("h3",{className:"text-gray-500 text-sm font-medium mb-1 flex items-center gap-2",children:[o.jsx(yi,{size:16})," Tickets Pendientes"]}),o.jsx("p",{className:"text-2xl font-bold text-red-600",children:$})]})]}),d==="mecanico"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("h3",{className:"text-gray-500 text-sm font-medium mb-1 flex items-center gap-2",children:[o.jsx(B1,{size:16})," Trabajos Activos"]}),o.jsx("p",{className:"text-2xl font-bold text-orange-600",children:Q})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("h3",{className:"text-gray-500 text-sm font-medium mb-1 flex items-center gap-2",children:[o.jsx(On,{size:16})," Completados"]}),o.jsx("p",{className:"text-2xl font-bold text-green-600",children:ve})]})]}),d==="cliente"&&o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("h3",{className:"text-gray-500 text-sm font-medium mb-1 flex items-center gap-2",children:[o.jsx(yi,{size:16})," Mis Reclamos"]}),o.jsx("p",{className:"text-2xl font-bold text-gray-700",children:A.length})]})]}),je=()=>d==="cliente"?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Detalle de Movimientos"}),o.jsxs("div",{className:"relative w-full max-w-xs",children:[o.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),o.jsx("input",{type:"text",placeholder:"Buscar por producto o ID...",className:"w-full pl-9 pr-4 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none",value:h,onChange:C=>m(C.target.value)})]})]}),z?o.jsx("div",{className:"text-center py-10 text-gray-500",children:"Cargando historial..."}):T.length===0?o.jsx("div",{className:"text-center py-10 bg-gray-50 rounded-xl border border-dashed border-gray-300 text-gray-500",children:"No tienes alquileres registrados con ese criterio."}):o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-700 font-medium border-b border-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:"Producto / ID"}),o.jsx("th",{className:"p-4",children:"Fechas"}),o.jsx("th",{className:"p-4 text-center",children:"Items"}),o.jsx("th",{className:"p-4",children:"Estado"}),o.jsx("th",{className:"p-4 text-right",children:"Pagado / Saldo"}),o.jsx("th",{className:"p-4 text-right",children:"Total"}),o.jsx("th",{className:"p-4 text-center",children:"Acciones"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-50",children:T.map(C=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-100 overflow-hidden flex-shrink-0",children:C.imagen_principal?o.jsx("img",{src:C.imagen_principal,alt:C.producto_principal,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:o.jsx(Y1,{size:16})})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900 line-clamp-1",title:C.producto_principal,children:C.producto_principal||"Alquiler General"}),o.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",String(C.id||"").slice(0,8),"..."]})]})]})}),o.jsx("td",{className:"p-4 text-gray-600",children:o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsx("span",{className:"font-semibold w-12",children:"Inicio:"}),o.jsx(Rn,{size:12,className:"text-gray-400"}),o.jsx("span",{children:C.fecha_inicio?new Date(C.fecha_inicio).toLocaleDateString():"N/A"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsx("span",{className:"font-semibold w-12",children:"Fin Est:"}),o.jsx(Rn,{size:12,className:"text-gray-400"}),o.jsx("span",{children:C.fecha_fin?new Date(C.fecha_fin).toLocaleDateString():"N/A"})]})]})}),o.jsx("td",{className:"p-4 text-center",children:o.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-50 text-blue-600 font-bold text-xs",children:C.cantidad_items||1})}),o.jsx("td",{className:"p-4",children:o.jsx(Di,{estado:C.estado_nombre||C.estado||"pendiente"})}),o.jsx("td",{className:"p-4 text-right",children:o.jsxs("div",{className:"flex flex-col items-end gap-1",children:[o.jsxs("span",{className:"text-xs text-green-600 font-medium",children:["Pagado: S/ ",Number(C.monto_pagado||0).toFixed(2)]}),Number(C.saldo_pendiente||0)>0&&o.jsxs("span",{className:"text-xs text-red-500 font-bold bg-red-50 px-2 py-0.5 rounded-full",children:["Debes: S/ ",Number(C.saldo_pendiente||0).toFixed(2)]})]})}),o.jsxs("td",{className:"p-4 text-right font-bold text-gray-900",children:["S/ ",Number(C.total_final||0).toFixed(2)]}),o.jsx("td",{className:"p-4 text-center",children:(C.estado_nombre==="pendiente"||C.estado==="pendiente")&&o.jsx("button",{onClick:()=>ie(C.id),className:"text-blue-600 hover:text-blue-800 text-xs font-medium hover:underline",children:"Reprogramar"})})]},C.id))})]})})})]}):o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col sm:flex-row justify-between items-center gap-4",children:[o.jsx("h3",{className:"font-bold text-gray-800",children:d==="mecanico"?f==="trabajos_activos"?"Trabajos en Curso":"Historial de Reparaciones":"Historial de Alquileres"}),o.jsxs("div",{className:"relative w-full sm:w-64",children:[o.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),o.jsx("input",{type:"text",placeholder:"Buscar...",className:"w-full pl-10 pr-4 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none",value:h,onChange:C=>m(C.target.value)})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:"Fecha"}),o.jsx("th",{className:"p-3",children:"Cliente"}),(d==="admin"||d==="dueno")&&o.jsx("th",{className:"p-3",children:"Vendedor"}),o.jsx("th",{className:"p-3",children:"Monto"}),o.jsx("th",{className:"p-3",children:"Estado"}),o.jsx("th",{className:"p-3",children:"Acciones"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-100",children:[T.map(C=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsxs("td",{className:"p-3 whitespace-nowrap",children:[ca(C.fechaInicio),o.jsxs("div",{className:"text-xs text-gray-400",children:[C.id.toString().slice(0,8),"..."]})]}),o.jsx("td",{className:"p-3 font-medium",children:C.cliente}),(d==="admin"||d==="dueno")&&o.jsx("td",{className:"p-3 text-gray-500",children:C.vendedorId||"WEB"}),o.jsxs("td",{className:"p-3",children:[o.jsxs("div",{className:"font-medium",children:["S/ ",(C.totalFinal||C.total).toFixed(2)]}),C.descuentoMantenimiento>0&&o.jsxs("div",{className:"text-xs text-orange-600 flex items-center gap-1",children:[o.jsx(Oi,{size:10})," -S/ ",C.descuentoMantenimiento.toFixed(2)]})]}),o.jsx("td",{className:"p-3",children:o.jsx(Di,{estado:C.estado})}),o.jsx("td",{className:"p-3",children:(d==="admin"||d==="vendedor"||d==="dueno")&&o.jsxs("div",{className:"flex flex-col gap-1",children:[C.estado==="pendiente"&&new Date>new Date(new Date(C.fechaInicio).getTime()+10*6e4)&&o.jsxs("button",{className:"text-red-600 hover:text-red-800 text-xs font-medium flex items-center gap-1",onClick:()=>{confirm("Marcar No Show?")&&s(C.id)},children:[o.jsx(Lu,{size:12})," No Show"]}),(C.estado==="en_mantenimiento"||C.estado==="retrasado")&&o.jsxs("button",{className:"text-orange-600 hover:text-orange-800 text-xs font-medium flex items-center gap-1",onClick:()=>{const de=prompt("Ingrese % descuento:");de&&i(C.id,Number(de))},children:[o.jsx(Oi,{size:12})," Compensar"]})]})})]},C.id)),T.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:"6",className:"p-8 text-center text-gray-500",children:"No hay registros."})})]})]})})]}),H=()=>o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"p-4 border-b border-gray-100",children:o.jsx("h3",{className:"font-bold text-gray-800",children:"Estado del Inventario"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:"Producto"}),o.jsx("th",{className:"p-3",children:"Categora"}),o.jsx("th",{className:"p-3 text-center",children:"Stock Total"}),o.jsx("th",{className:"p-3 text-center",children:"Disponible"}),o.jsx("th",{className:"p-3 text-center",children:"En Uso"}),o.jsx("th",{className:"p-3",children:"Estado"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:r.map(C=>{const de=C.stockTotal-C.stock;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"p-3 font-medium flex items-center gap-2",children:[o.jsx("img",{src:C.imagen,alt:"",className:"w-8 h-8 rounded object-cover"}),C.nombre]}),o.jsx("td",{className:"p-3 text-gray-500",children:C.categoria}),o.jsx("td",{className:"p-3 text-center font-bold",children:C.stockTotal}),o.jsx("td",{className:"p-3 text-center text-green-600 font-bold",children:C.stock}),o.jsx("td",{className:"p-3 text-center text-blue-600 font-bold",children:de}),o.jsx("td",{className:"p-3",children:C.stock===0?o.jsxs("span",{className:"text-red-600 text-xs font-bold flex items-center gap-1",children:[o.jsx(ev,{size:12})," Agotado"]}):o.jsxs("span",{className:"text-green-600 text-xs font-bold flex items-center gap-1",children:[o.jsx(On,{size:12})," Disponible"]})})]},C.id)})})]})})]}),me=()=>{const C=A.length,de=A.filter(Se=>Se.estado==="pendiente").length,mt=A.filter(Se=>Se.estado==="resuelto"||Se.estado==="cerrado").length;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Total Tickets"}),o.jsx("p",{className:"text-2xl font-bold text-gray-800",children:C})]}),o.jsx("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg",children:o.jsx(Nn,{size:20})})]}),o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Pendientes"}),o.jsx("p",{className:"text-2xl font-bold text-orange-600",children:de})]}),o.jsx("div",{className:"p-2 bg-orange-50 text-orange-600 rounded-lg",children:o.jsx(Lu,{size:20})})]}),o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Resueltos"}),o.jsx("p",{className:"text-2xl font-bold text-green-600",children:mt})]}),o.jsx("div",{className:"p-2 bg-green-50 text-green-600 rounded-lg",children:o.jsx(On,{size:20})})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:[o.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(yi,{size:18,className:"text-blue-600"}),d==="cliente"?"Historial de Consultas":"Bandeja de Soporte"]}),d!=="cliente"&&o.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[o.jsx("button",{onClick:()=>ne("enviados"),className:`px-3 py-1 rounded-md text-xs font-medium transition-all ${B==="enviados"?"bg-white shadow text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Enviados"}),o.jsx("button",{onClick:()=>ne("recibidos"),className:`px-3 py-1 rounded-md text-xs font-medium transition-all ${B==="recibidos"?"bg-white shadow text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Recibidos"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-700 font-medium border-b border-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:"ID / Fecha"}),o.jsx("th",{className:"p-4",children:"Asunto"}),o.jsx("th",{className:"p-4",children:"Mensaje"}),d!=="cliente"&&o.jsx("th",{className:"p-4",children:B==="recibidos"?"De":"Para"}),o.jsx("th",{className:"p-4 text-center",children:"Estado"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-50",children:[A.map(Se=>{var St;return o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsxs("td",{className:"p-4",children:[o.jsxs("div",{className:"font-medium text-gray-900",children:["#",Se.id.toString().slice(0,8)]}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-1",children:[o.jsx(Rn,{size:10}),new Date(Se.created_at).toLocaleDateString()]})]}),o.jsx("td",{className:"p-4 font-medium text-gray-900",children:Se.asunto}),o.jsx("td",{className:"p-4 text-gray-600 max-w-md truncate",title:Se.mensaje,children:Se.mensaje}),d!=="cliente"&&o.jsx("td",{className:"p-4 text-gray-600",children:((St=Se.usuario)==null?void 0:St.nombre)||Se.nombre_usuario||"Usuario"}),o.jsx("td",{className:"p-4 text-center",children:o.jsx(Di,{estado:Se.estado||"pendiente"})})]},Se.id)}),A.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:d==="cliente"?4:5,className:"p-12 text-center text-gray-500",children:o.jsxs("div",{className:"flex flex-col items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center text-gray-400",children:o.jsx(yi,{size:24})}),o.jsx("p",{children:"No hay tickets registrados en esta seccin."})]})})})]})]})})]})]})};return o.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 space-y-6 py-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 text-gray-900",children:[o.jsx(H1,{className:"text-blue-600"}),"Reportes: ",d==="dueno"?"Dueo":d.charAt(0).toUpperCase()+d.slice(1)]}),o.jsx("div",{className:"flex gap-2 items-center",children:(d==="admin"||d==="dueno"||d==="cliente"||d==="mecanico")&&o.jsx("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:d==="mecanico"?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>p("trabajos_activos"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${f==="trabajos_activos"?"bg-white shadow text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Trabajos Activos"}),o.jsx("button",{onClick:()=>p("historial_mantenimiento"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${f==="historial_mantenimiento"?"bg-white shadow text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Historial"})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>p("ventas"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${f==="ventas"?"bg-white shadow text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:d==="cliente"?"Mis Reportes":"Ventas"}),(d==="admin"||d==="dueno")&&o.jsx("button",{onClick:()=>p("inventario"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${f==="inventario"?"bg-white shadow text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Inventario"}),o.jsx("button",{onClick:()=>p("soporte"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${f==="soporte"?"bg-white shadow text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Soporte"})]})})})]}),(d==="admin"||d==="dueno")&&o.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[o.jsxs("div",{className:"w-full md:w-auto",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Reporte"}),o.jsxs("select",{className:"w-full md:w-48 p-2 border rounded-lg text-sm bg-gray-50",value:v,onChange:C=>g(C.target.value),children:[o.jsx("option",{value:"general",children:"General"}),o.jsx("option",{value:"individual",children:"Individual"})]})]}),o.jsxs("div",{className:"w-full md:w-auto",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filtrar por Rol"}),o.jsxs("select",{className:"w-full md:w-48 p-2 border rounded-lg text-sm bg-gray-50",value:x,onChange:C=>{_(C.target.value),w("")},children:[o.jsx("option",{value:"todos",children:"Todos"}),o.jsx("option",{value:"cliente",children:"Clientes"}),o.jsx("option",{value:"vendedor",children:"Vendedores"}),o.jsx("option",{value:"mecanico",children:"Mecnicos"}),d==="dueno"&&o.jsx("option",{value:"admin",children:"Administradores"})]})]}),v==="individual"&&o.jsxs("div",{className:"w-full md:w-auto flex-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seleccionar Usuario"}),o.jsxs("select",{className:"w-full p-2 border rounded-lg text-sm bg-gray-50",value:y,onChange:C=>w(C.target.value),children:[o.jsx("option",{value:"",children:"-- Seleccione un usuario --"}),l.filter(C=>x==="todos"?!0:C.rol===x).map(C=>o.jsxs("option",{value:C.id,children:[C.nombre," (",C.rol,") - ",C.email]},C.id))]})]})]})}),we(),f==="ventas"&&je(),f==="inventario"&&(d==="admin"||d==="dueno")&&H(),f==="soporte"&&me(),(f==="trabajos_activos"||f==="historial_mantenimiento")&&je(),d==="vendedor"&&f!=="ventas"&&je()]})},Qk=()=>{const[t,e]=b.useState("contacto"),{crearTicket:r}=b.useContext(ln),{usuario:n}=b.useContext(Qe),[s,i]=b.useState({asunto:"Reporte de Incidente",mensaje:""}),[a,l]=b.useState([]),[c,u]=b.useState(!0),[d,h]=b.useState("");b.useEffect(()=>{(async()=>{const p=await Py();l(p),u(!1)})()},[]);const m=f=>{f.preventDefault(),r({asunto:s.asunto,mensaje:s.mensaje,remitente:{id:n==null?void 0:n.id,nombre:(n==null?void 0:n.nombre)||"Usuario",rol:(n==null?void 0:n.rol)||"cliente"},destinatario:{rol:"admin"}}),alert("Mensaje enviado. Nos contactaremos contigo a la brevedad."),i({asunto:"Reporte de Incidente",mensaje:""})};return o.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8 space-y-6",children:[o.jsxs("div",{className:"text-center space-y-2 mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Centro de Ayuda"}),o.jsx("p",{className:"text-gray-600",children:"Selecciona una opcin para recibir asistencia."})]}),o.jsxs("div",{className:"flex justify-center border-b border-gray-200 mb-6",children:[o.jsxs("button",{onClick:()=>e("contacto"),className:`px-6 py-3 font-medium text-sm flex items-center gap-2 border-b-2 transition-colors ${t==="contacto"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[o.jsx(na,{size:18}),"Contacto y Soporte"]}),o.jsxs("button",{onClick:()=>e("seguridad"),className:`px-6 py-3 font-medium text-sm flex items-center gap-2 border-b-2 transition-colors ${t==="seguridad"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[o.jsx(xi,{size:18}),"Guas de Seguridad"]}),o.jsxs("button",{onClick:()=>e("emergencia"),className:`px-6 py-3 font-medium text-sm flex items-center gap-2 border-b-2 transition-colors ${t==="emergencia"?"border-red-600 text-red-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[o.jsx(Es,{size:18}),"Emergencias"]})]}),o.jsxs("div",{className:"min-h-[400px]",children:[t==="contacto"&&o.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-100 max-w-2xl mx-auto animate-in fade-in zoom-in duration-300",children:[o.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2 text-gray-800",children:[o.jsx(nl,{className:"text-blue-600"}),"Envanos un Mensaje"]}),o.jsxs("form",{className:"space-y-5",onSubmit:m,children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Asunto"}),o.jsxs("select",{className:"w-full p-3 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none transition-all",value:s.asunto,onChange:f=>i({...s,asunto:f.target.value}),children:[o.jsx("option",{children:"Reporte de Incidente"}),o.jsx("option",{children:"Problema con Reserva"}),o.jsx("option",{children:"Consulta General"}),o.jsx("option",{children:"Sugerencia"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensaje"}),o.jsx("textarea",{className:"w-full p-3 border border-gray-200 rounded-lg text-sm h-32 resize-none focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"Describe detalladamente tu consulta o situacin...",required:!0,value:s.mensaje,onChange:f=>i({...s,mensaje:f.target.value})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx(oe,{type:"submit",className:"w-full sm:w-auto",children:"Enviar Mensaje"})})]})]}),t==="seguridad"&&o.jsxs("div",{className:"space-y-6 animate-in fade-in zoom-in duration-300",children:[o.jsxs("div",{className:"relative max-w-md mx-auto",children:[o.jsx("input",{type:"text",placeholder:"Buscar gua de seguridad (ej. Kayak, Casco...)",className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-full shadow-sm focus:ring-2 focus:ring-blue-500 outline-none transition-all",onChange:f=>h(f.target.value.toLowerCase())}),o.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c?o.jsx("p",{className:"text-center col-span-full text-gray-500 py-10",children:"Cargando guas de seguridad..."}):a.filter(f=>!d||f.nombre.toLowerCase().includes(d)||f.guia_seguridad.toLowerCase().includes(d)).length===0?o.jsxs("div",{className:"col-span-full text-center py-10 bg-gray-50 rounded-xl border border-dashed border-gray-200",children:[o.jsx(X1,{className:"mx-auto text-gray-400 mb-2",size:32}),o.jsx("p",{className:"text-gray-500",children:"No se encontraron guas que coincidan con tu bsqueda."})]}):a.filter(f=>!d||f.nombre.toLowerCase().includes(d)||f.guia_seguridad.toLowerCase().includes(d)).map(f=>o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow group",children:[o.jsxs("div",{className:"h-32 overflow-hidden relative",children:[o.jsx("img",{src:f.imagen,alt:f.nombre,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-4",children:o.jsx("h3",{className:"text-white font-bold text-lg",children:f.nombre})})]}),o.jsx("div",{className:"p-5",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(xi,{className:"text-green-600 shrink-0 mt-1",size:20}),o.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:f.guia_seguridad})]})})]},f.id))})]}),t==="emergencia"&&o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 animate-in fade-in zoom-in duration-300",children:[o.jsxs("div",{className:"bg-red-50 border border-red-100 p-8 rounded-xl flex flex-col items-center text-center hover:shadow-lg transition-all transform hover:-translate-y-1",children:[o.jsx("div",{className:"bg-red-100 p-4 rounded-full mb-4 text-red-600 shadow-sm",children:o.jsx(Es,{size:40})}),o.jsx("h3",{className:"font-bold text-red-900 text-lg mb-1",children:"Bomberos"}),o.jsx("p",{className:"text-4xl font-black text-red-600 mb-3 tracking-tight",children:"116"}),o.jsx("p",{className:"text-sm text-red-700 font-medium",children:"Emergencias mdicas y rescate"})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-8 rounded-xl flex flex-col items-center text-center hover:shadow-lg transition-all transform hover:-translate-y-1",children:[o.jsx("div",{className:"bg-blue-100 p-4 rounded-full mb-4 text-blue-600 shadow-sm",children:o.jsx(xi,{size:40})}),o.jsx("h3",{className:"font-bold text-blue-900 text-lg mb-1",children:"Polica Nacional"}),o.jsx("p",{className:"text-4xl font-black text-blue-600 mb-3 tracking-tight",children:"105"}),o.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Seguridad y denuncias"})]}),o.jsxs("div",{className:"bg-orange-50 border border-orange-100 p-8 rounded-xl flex flex-col items-center text-center hover:shadow-lg transition-all transform hover:-translate-y-1",children:[o.jsx("div",{className:"bg-orange-100 p-4 rounded-full mb-4 text-orange-600 shadow-sm",children:o.jsx(e_,{size:40})}),o.jsx("h3",{className:"font-bold text-orange-900 text-lg mb-1",children:"Salvavidas"}),o.jsx("p",{className:"text-4xl font-black text-orange-600 mb-3 tracking-tight",children:"106"}),o.jsx("p",{className:"text-sm text-orange-700 font-medium",children:"Rescate en mar y playa"})]}),o.jsxs("div",{className:"bg-white border border-red-200 p-8 rounded-xl flex flex-col items-center text-center hover:shadow-lg transition-all transform hover:-translate-y-1",children:[o.jsx("div",{className:"bg-red-50 p-4 rounded-full mb-4 text-red-500 shadow-sm",children:o.jsx(Es,{size:40})}),o.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-1",children:"Cruz Roja"}),o.jsx("p",{className:"text-4xl font-black text-red-500 mb-3 tracking-tight",children:"115"}),o.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Ayuda humanitaria y socorro"})]}),o.jsxs("div",{className:"bg-indigo-50 border border-indigo-100 p-8 rounded-xl flex flex-col items-center text-center hover:shadow-lg transition-all transform hover:-translate-y-1",children:[o.jsx("div",{className:"bg-indigo-100 p-4 rounded-full mb-4 text-indigo-600 shadow-sm",children:o.jsx(xi,{size:40})}),o.jsx("h3",{className:"font-bold text-indigo-900 text-lg mb-1",children:"Serenazgo"}),o.jsx("p",{className:"text-4xl font-black text-indigo-600 mb-3 tracking-tight",children:"(01) 555-1234"}),o.jsx("p",{className:"text-sm text-indigo-700 font-medium",children:"Seguridad ciudadana local"})]}),o.jsxs("div",{className:"bg-green-50 border border-green-100 p-8 rounded-xl flex flex-col items-center text-center hover:shadow-lg transition-all transform hover:-translate-y-1",children:[o.jsx("div",{className:"bg-green-100 p-4 rounded-full mb-4 text-green-600 shadow-sm",children:o.jsx(nl,{size:40})}),o.jsx("h3",{className:"font-bold text-green-900 text-lg mb-1",children:"Soporte SummerRent"}),o.jsx("p",{className:"text-3xl font-black text-green-600 mb-3 tracking-tight",children:"(01) 555-0123"}),o.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Asistencia tcnica y reservas"})]})]})]})]})},Yk=()=>{const{inventario:t,agregarProducto:e,editarProducto:r,eliminarProducto:n}=b.useContext(jt),[s,i]=b.useState(!1),[a,l]=b.useState(!1),[c,u]=b.useState(null),[d,h]=b.useState({nombre:"",categoria:"",precioPorHora:"",stock:"",imagen:""}),m=y=>{y.preventDefault();const w={...d,precioPorHora:Number(d.precioPorHora),stock:Number(d.stock)};a?r(c,w):e(w),p()},f=y=>{h(y),l(!0),u(y.id),i(!0)},p=()=>{i(!1),l(!1),u(null),h({nombre:"",categoria:"",precioPorHora:"",stock:"",imagen:""})};return o.jsxs("div",{className:"space-y-8 px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[o.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Inventario"}),o.jsxs(oe,{onClick:()=>i(!0),variante:"primario",children:[o.jsx(Dl,{size:18})," Nuevo Producto"]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 text-sm",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:"Producto"}),o.jsx("th",{className:"p-4",children:"Categora"}),o.jsx("th",{className:"p-4",children:"Precio/h"}),o.jsx("th",{className:"p-4",children:"Stock"}),o.jsx("th",{className:"p-4",children:"Acciones"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map(y=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"p-4 font-medium",children:y.nombre}),o.jsx("td",{className:"p-4 text-sm text-gray-600",children:y.categoria}),o.jsxs("td",{className:"p-4",children:["S/ ",y.precioPorHora]}),o.jsx("td",{className:"p-4",children:y.stock}),o.jsxs("td",{className:"p-4 flex gap-2",children:[o.jsx("button",{onClick:()=>f(y),className:"text-blue-500 hover:text-blue-700",children:o.jsx(i_,{size:18})}),o.jsx("button",{onClick:()=>n(y.id),className:"text-red-500 hover:text-red-700",children:o.jsx(wa,{size:18})})]})]},y.id))})]})})]}),o.jsx(zn,{titulo:a?"Editar Producto":"Agregar Nuevo Producto",abierto:s,alCerrar:p,children:o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsx("input",{required:!0,placeholder:"Nombre",className:"w-full p-2 border rounded",value:d.nombre,onChange:y=>h({...d,nombre:y.target.value})}),o.jsx("input",{required:!0,placeholder:"Categora",className:"w-full p-2 border rounded",value:d.categoria,onChange:y=>h({...d,categoria:y.target.value})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("input",{required:!0,type:"number",placeholder:"Precio/Hora",className:"w-full p-2 border rounded",value:d.precioPorHora,onChange:y=>h({...d,precioPorHora:y.target.value})}),o.jsx("input",{required:!0,type:"number",placeholder:"Stock Inicial",className:"w-full p-2 border rounded",value:d.stock,onChange:y=>h({...d,stock:y.target.value})})]}),o.jsx("input",{required:!0,placeholder:"URL Imagen",className:"w-full p-2 border rounded",value:d.imagen,onChange:y=>h({...d,imagen:y.target.value})}),o.jsx(oe,{type:"submit",className:"w-full",children:a?"Actualizar Producto":"Guardar Producto"})]})})]})},Gm=()=>{const{alquileres:t,inventario:e,registrarPagoSaldo:r,entregarAlquiler:n,devolverAlquiler:s,marcarNoShow:i,reprogramarAlquiler:a,sedeActual:l}=b.useContext(jt),{usuario:c}=b.useContext(Qe),[u,d]=b.useState("operaciones"),[h,m]=b.useState(""),[f,p]=b.useState(new Date().toISOString().split("T")[0]),[y,w]=b.useState(""),[v,g]=b.useState(null),[x,_]=b.useState(1),N=t.filter(T=>c.rol==="admin"||c.rol==="vendedor"?T.sedeId===l:!0),P=N.filter(T=>["confirmado","listo_para_entrega","en_uso","pendiente"].includes(T.estado)&&T.cliente.toLowerCase().includes(h.toLowerCase())),j=N.filter(T=>T.saldoPendiente>0&&T.estado!=="cancelado"&&T.cliente.toLowerCase().includes(h.toLowerCase())),L=async(T,B)=>{confirm(`Confirmar pago del saldo restante de S/ ${B.toFixed(2)}?`)&&await r(T)},z=async T=>{confirm("Confirmar entrega de equipos al cliente?")&&await n(T)},E=async T=>{confirm("Registrar devolucin de equipos? Esto calcular penalidades si las hay.")&&await s(T)},q=async T=>{confirm("Marcar como No Show? Esto cancelar la reserva sin reembolso automtico.")&&await i(T)},G=async()=>{v&&(await a(v.id,Number(x)),g(null),_(1))},K=N.filter(T=>{const ne=new Date(T.fechaInicio).toISOString().split("T")[0]===f,A=y?T.items.some(O=>O.id===Number(y)):!0;return ne&&A&&T.estado!=="cancelado"});return K.sort((T,B)=>new Date(T.fechaInicio)-new Date(B.fechaInicio)),o.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(Rn,{className:"text-blue-600"}),"Gestin de Reservas"]}),o.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg overflow-x-auto",children:[o.jsxs("button",{onClick:()=>d("operaciones"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all whitespace-nowrap ${u==="operaciones"?"bg-white shadow text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[o.jsx(nm,{size:16})," Operaciones"]}),o.jsxs("button",{onClick:()=>d("cobros"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all whitespace-nowrap ${u==="cobros"?"bg-white shadow text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[o.jsx(Cs,{size:16})," Cobros"]}),o.jsxs("button",{onClick:()=>d("calendario"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all whitespace-nowrap ${u==="calendario"?"bg-white shadow text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[o.jsx($n,{size:16})," Calendario"]})]})]}),u==="operaciones"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center gap-4",children:[o.jsx(Mn,{className:"text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Buscar cliente...",className:"flex-1 outline-none text-sm",value:h,onChange:T=>m(T.target.value)})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[P.map(T=>o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-gray-900",children:T.cliente}),o.jsx("p",{className:"text-xs text-gray-500",children:ca(T.fechaInicio)})]}),o.jsx(Di,{estado:T.estado})]}),o.jsx("div",{className:"text-sm text-gray-600 mb-4 space-y-1",children:T.items.map(B=>o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{children:[B.cantidad,"x ",B.nombre]}),o.jsxs("span",{children:[B.horas,"h"]})]},B.id))}),o.jsxs("div",{className:"flex flex-wrap gap-2 pt-3 border-t border-gray-100",children:[(T.estado==="listo_para_entrega"||T.estado==="confirmado")&&o.jsxs(oe,{variante:"primario",className:"flex-1 text-xs",onClick:()=>z(T.id),children:[o.jsx(nm,{size:14,className:"mr-1"})," Entregar"]}),T.estado==="en_uso"&&o.jsxs(o.Fragment,{children:[o.jsxs(oe,{variante:"exito",className:"flex-1 text-xs",onClick:()=>E(T.id),children:[o.jsx(n_,{size:14,className:"mr-1"})," Devolver"]}),o.jsxs(oe,{variante:"secundario",className:"flex-1 text-xs",onClick:()=>g(T),children:[o.jsx($n,{size:14,className:"mr-1"})," Extender"]})]}),(T.estado==="confirmado"||T.estado==="pendiente")&&o.jsxs(oe,{variante:"peligro",className:"flex-1 text-xs",onClick:()=>q(T.id),children:[o.jsx(ev,{size:14,className:"mr-1"})," No Show"]})]})]},T.id)),P.length===0&&o.jsx("div",{className:"col-span-full text-center py-12 text-gray-500",children:"No hay operaciones activas pendientes."})]})]}),u==="cobros"&&o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[j.map(T=>o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsxs("span",{className:"font-bold text-red-600 flex items-center gap-1",children:[o.jsx(Lu,{size:14})," Deuda"]}),o.jsx("span",{className:"text-xs font-mono",children:T.id.slice(0,8)})]}),o.jsx("p",{className:"font-bold",children:T.cliente}),o.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:["Debe: S/ ",T.saldoPendiente.toFixed(2)]}),o.jsxs(oe,{variante:"primario",className:"w-full",onClick:()=>L(T.id,T.saldoPendiente),children:[o.jsx(J0,{size:16,className:"mr-1"})," Cobrar"]})]},T.id)),j.length===0&&o.jsx("p",{className:"text-center text-gray-500 col-span-full",children:"Sin deudas pendientes."})]})}),u==="calendario"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex flex-col md:flex-row gap-4 items-end",children:[o.jsxs("div",{className:"w-full md:w-auto",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Fecha"}),o.jsx("input",{type:"date",className:"w-full p-2 border rounded-lg text-sm",value:f,onChange:T=>p(T.target.value)})]}),o.jsxs("div",{className:"w-full md:w-auto flex-1",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Filtrar por Producto"}),o.jsxs("select",{className:"w-full p-2 border rounded-lg text-sm",value:y,onChange:T=>w(T.target.value),children:[o.jsx("option",{value:"",children:"-- Todos los Productos --"}),e.map(T=>o.jsx("option",{value:T.id,children:T.nombre},T.id))]})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:"Hora"}),o.jsx("th",{className:"p-3",children:"Producto(s)"}),o.jsx("th",{className:"p-3",children:"Cliente"}),o.jsx("th",{className:"p-3",children:"Estado"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-100",children:[K.map(T=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"p-3",children:new Date(T.fechaInicio).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),o.jsx("td",{className:"p-3",children:T.items.map(B=>B.nombre).join(", ")}),o.jsx("td",{className:"p-3",children:T.cliente}),o.jsx("td",{className:"p-3",children:o.jsx(Di,{estado:T.estado})})]},T.id)),K.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:"4",className:"p-8 text-center text-gray-500",children:"No hay reservas."})})]})]})})})]}),o.jsx(zn,{titulo:"Extender Alquiler",abierto:!!v,alCerrar:()=>g(null),children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:["Aadir horas adicionales al alquiler de ",o.jsx("b",{children:v==null?void 0:v.cliente}),"."]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Horas Adicionales"}),o.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded-lg",value:x,onChange:T=>_(T.target.value)})]}),o.jsx("div",{className:"bg-yellow-50 p-3 rounded text-xs text-yellow-800",children:"Nota: Se calcular el costo extra automticamente y se sumar al saldo pendiente."}),o.jsx(oe,{onClick:G,className:"w-full",children:"Confirmar Extensin"})]})})]})},Xk=()=>{const{usuarios:t,cambiarRolUsuario:e,usuario:r,eliminarUsuario:n}=b.useContext(Qe),{alquileres:s}=b.useContext(jt),[i,a]=b.useState(""),l=r.rol==="dueno",{crearTicket:c}=b.useContext(ln),[u,d]=b.useState(!1),[h,m]=b.useState(!1),[f,p]=b.useState(null),[y,w]=b.useState(""),v=an(),[g,x]=b.useState("todos"),[_,N]=b.useState(!1),[P,j]=b.useState(null),[L,z]=b.useState(null),[E,q]=b.useState(!1),[G,K]=b.useState(null),[T,B]=b.useState(""),[ne,A]=b.useState("costa"),O=t.filter(H=>{const me=H.nombre.toLowerCase().includes(i.toLowerCase())||H.email.toLowerCase().includes(i.toLowerCase()),ft=g==="todos"||H.rol===g;return!me||!ft?!1:r.rol==="admin"?H.rol==="cliente"||H.rol==="vendedor"||H.rol==="mecanico":!0}),D=(H,me)=>{me&&me.stopPropagation(),p(H),w(""),d(!0)},I=H=>{p(H),m(!0)},$=H=>{H.preventDefault(),y.trim()&&(c({asunto:`Mensaje de ${r.nombre} (${r.rol})`,mensaje:y,telefono:r.telefono||"N/A",remitente:{id:r.id,nombre:r.nombre,rol:r.rol},destinatario:{id:f.id,nombre:f.nombre,rol:f.rol}}),alert(`Mensaje enviado a ${f.nombre} correctamente.`),d(!1))},Q=()=>{v("/admin/reportes",{state:{usuarioId:f.id}})},ve=(H,me)=>{me.stopPropagation(),j(H);const ft=s.filter(C=>(C.clienteId===H.id||C.vendedorId===H.id)&&["pendiente","en_uso","retrasado","en_mantenimiento"].includes(C.estado)),_t=s.filter(C=>C.clienteId===H.id||C.vendedorId===H.id);ft.length>0?z({tipo:"critico",mensaje:`CUIDADO! Este usuario tiene ${ft.length} operaciones ACTIVAS. Si lo eliminas, podras corromper los datos de estos alquileres.`}):_t.length>0?z({tipo:"advertencia",mensaje:`Este usuario tiene un historial de ${_t.length} operaciones finalizadas. Eliminarlo mantendr los registros pero perder la asociacin con el perfil.`}):z(null),N(!0)},ie=()=>{n(P.id),N(!1),j(null)},we=(H,me,ft)=>{ft&&ft.stopPropagation(),me==="admin"||me==="vendedor"?(K(H),B(me),A("costa"),q(!0)):e(H.id,me)},je=()=>{e(G.id,T,ne),q(!1),K(null)};return o.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[o.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[o.jsx(Au,{})," Gestin de Usuarios"]}),o.jsx("div",{className:"flex gap-2 w-full sm:w-auto",children:o.jsxs("div",{className:"relative w-full sm:w-48",children:[o.jsx(ih,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),o.jsxs("select",{className:"w-full pl-10 pr-4 py-2 border rounded-lg text-sm appearance-none bg-white",value:g,onChange:H=>x(H.target.value),children:[o.jsx("option",{value:"todos",children:"Todos los roles"}),o.jsx("option",{value:"vendedor",children:"Vendedor"}),o.jsx("option",{value:"mecanico",children:"Mecnico"}),o.jsx("option",{value:"cliente",children:"Cliente"})]})]})})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 text-sm",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:"Nombre"}),o.jsx("th",{className:"p-4",children:"Email"}),o.jsx("th",{className:"p-4",children:"Rol"}),o.jsx("th",{className:"p-4",children:"Acciones"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:O.map(H=>o.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>I(H),children:[o.jsxs("td",{className:"p-4 font-medium",children:[H.nombre,H.sede&&(H.rol==="admin"||H.rol==="vendedor")&&o.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full capitalize",children:H.sede})]}),o.jsx("td",{className:"p-4 text-sm text-gray-600",children:H.email}),o.jsx("td",{className:"p-4 capitalize",children:H.rol}),o.jsxs("td",{className:"p-4 flex gap-2 flex-wrap items-center",onClick:me=>me.stopPropagation(),children:[o.jsx(oe,{variante:"fantasma",className:"text-xs py-1 mr-2",onClick:me=>D(H,me),children:"Contactar"}),l&&H.rol!=="dueno"&&o.jsx(oe,{variante:"secundario",className:"text-xs py-1",onClick:me=>we(H,"dueno",me),children:"Hacer Dueo"}),l&&H.rol!=="admin"&&o.jsx(oe,{variante:"secundario",className:"text-xs py-1",onClick:me=>we(H,"admin",me),children:"Hacer Admin"}),H.rol!=="vendedor"&&o.jsx(oe,{variante:"secundario",className:"text-xs py-1",onClick:me=>we(H,"vendedor",me),children:"Hacer Vendedor"}),H.rol!=="mecanico"&&o.jsx(oe,{variante:"secundario",className:"text-xs py-1",onClick:me=>we(H,"mecanico",me),children:"Hacer Mecnico"}),H.rol!=="cliente"&&H.rol!=="dueno"&&o.jsx(oe,{variante:"fantasma",className:"text-xs py-1",onClick:me=>we(H,"cliente",me),children:"Degradar"}),H.rol!=="dueno"&&o.jsx("button",{onClick:me=>ve(H,me),className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors ml-2",title:"Eliminar Usuario",children:o.jsx(wa,{size:16})})]})]},H.id))})]})})}),u&&f&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[o.jsxs("h3",{className:"text-xl font-bold mb-4",children:["Contactar a ",f.nombre]}),o.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Rol:"})," ",o.jsx("span",{className:"capitalize",children:f.rol})]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Email:"})," ",f.email]})]}),o.jsxs("form",{onSubmit:$,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensaje"}),o.jsx("textarea",{className:"w-full p-2 border rounded-lg h-32 resize-none",placeholder:"Escribe tu mensaje aqu...",value:y,onChange:H=>w(H.target.value),required:!0})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(oe,{type:"button",variante:"secundario",onClick:()=>d(!1),className:"flex-1",children:"Cancelar"}),o.jsx(oe,{type:"submit",variante:"primario",className:"flex-1",children:"Enviar Mensaje"})]})]})]})}),h&&f&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-lg shadow-2xl",children:[o.jsxs("div",{className:"flex justify-between items-start mb-6",children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Detalles del Usuario"}),o.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx("span",{className:"text-2xl",children:""})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4 pb-4 border-b border-gray-100",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 text-2xl font-bold",children:f.nombre.charAt(0)}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-xl font-semibold",children:f.nombre}),o.jsx("p",{className:"text-gray-500 capitalize",children:f.rol})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500 mb-1",children:"Email"}),o.jsx("p",{className:"font-medium",children:f.email})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500 mb-1",children:"Telfono"}),o.jsx("p",{className:"font-medium",children:f.telefono||"No registrado"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500 mb-1",children:"Nacionalidad"}),o.jsx("p",{className:"font-medium",children:f.nacionalidad||"No registrada"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500 mb-1",children:"Documento"}),o.jsxs("p",{className:"font-medium",children:[f.tipoDocumento," ",f.numeroDocumento]})]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[o.jsx("h5",{className:"font-semibold mb-2 text-gray-700",children:"Estado de Licencia"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${f.licenciaConducir?"bg-green-500":"bg-red-500"}`}),o.jsx("span",{className:"font-medium",children:f.licenciaConducir?"Licencia Vigente":"Sin Licencia Registrada"})]}),!f.licenciaConducir&&(f.rol==="mecanico"||f.rol==="cliente")&&o.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Este usuario no puede operar vehculos motorizados."})]}),o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsx(oe,{variante:"secundario",onClick:()=>m(!1),className:"flex-1",children:"Cerrar"}),o.jsx(oe,{variante:"primario",onClick:()=>{m(!1),w(""),d(!0)},className:"flex-1",children:"Contactar"}),o.jsx(oe,{variante:"fantasma",onClick:Q,className:"flex-1 text-sm",children:"Ver Reporte"})]})]})]})}),_&&P&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md shadow-2xl border-l-4 border-red-500",children:[o.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600",children:o.jsx(Es,{size:24})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Eliminar Usuario?"}),o.jsxs("p",{className:"text-gray-600 mt-1",children:["Ests a punto de eliminar a ",o.jsx("strong",{children:P.nombre}),"."]})]})]}),L&&o.jsx("div",{className:`p-4 rounded-lg mb-6 ${L.tipo==="critico"?"bg-red-50 text-red-800 border border-red-200":"bg-yellow-50 text-yellow-800 border border-yellow-200"}`,children:o.jsx("p",{className:"text-sm font-medium",children:L.mensaje})}),o.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Esta accin no se puede deshacer. ",L?"Por favor, revisa las advertencias antes de continuar.":""]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(oe,{variante:"secundario",onClick:()=>N(!1),className:"flex-1",children:"Cancelar"}),o.jsx("button",{onClick:ie,className:"flex-1 bg-red-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-red-700 transition-colors",children:"S, Eliminar"})]})]})}),E&&G&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-sm shadow-2xl",children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:"Asignar Sede"}),o.jsxs("p",{className:"text-gray-600 text-sm mb-4",children:["Para promover a ",o.jsx("strong",{children:G.nombre})," a ",T,", debes asignarle una sede principal."]}),o.jsxs("div",{className:"space-y-3 mb-6",children:[o.jsxs("label",{className:"flex items-center gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[o.jsx("input",{type:"radio",name:"sede",value:"costa",checked:ne==="costa",onChange:H=>A(H.target.value),className:"text-blue-600"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-bold block text-gray-800",children:"Sede Costa"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Operaciones en playa"})]})]}),o.jsxs("label",{className:"flex items-center gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[o.jsx("input",{type:"radio",name:"sede",value:"rural",checked:ne==="rural",onChange:H=>A(H.target.value),className:"text-blue-600"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-bold block text-gray-800",children:"Sede Rural"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Operaciones en campo"})]})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(oe,{variante:"secundario",onClick:()=>q(!1),className:"flex-1",children:"Cancelar"}),o.jsx(oe,{variante:"primario",onClick:je,className:"flex-1",children:"Confirmar"})]})]})})]})},Zk=()=>{const{promociones:t,agregarPromocion:e,togglePromocion:r,eliminarPromocion:n,editarPromocion:s}=b.useContext(vh),[i,a]=b.useState(!1),[l,c]=b.useState(!1),[u,d]=b.useState(null),[h,m]=b.useState({nombre:"",descripcion:"",tipo:"regla_tiempo",condicion:{minHoras:3,minCantidad:3,categoria:""},beneficio:{tipo:"porcentaje",valor:10},activo:!0}),f=w=>{w.preventDefault(),l?s(u,h):e(h),p()},p=()=>{a(!1),c(!1),d(null),m({nombre:"",descripcion:"",tipo:"regla_tiempo",condicion:{minHoras:3,minCantidad:3,categoria:""},beneficio:{tipo:"porcentaje",valor:10},activo:!0})},y=w=>{m(w),c(!0),d(w.id),a(!0)};return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mt-8",children:[o.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[o.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(X0,{size:20,className:"text-blue-600"})," Promociones y Descuentos"]}),o.jsxs(oe,{onClick:()=>a(!0),variante:"primario",children:[o.jsx(Dl,{size:18})," Nueva Promocin"]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 text-sm",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:"Nombre"}),o.jsx("th",{className:"p-4",children:"Descripcin"}),o.jsx("th",{className:"p-4",children:"Tipo"}),o.jsx("th",{className:"p-4",children:"Beneficio"}),o.jsx("th",{className:"p-4",children:"Estado"}),o.jsx("th",{className:"p-4",children:"Acciones"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map(w=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"p-4 font-medium",children:w.nombre}),o.jsx("td",{className:"p-4 text-sm text-gray-600",children:w.descripcion}),o.jsx("td",{className:"p-4",children:o.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit ${w.tipo==="regla_tiempo"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"}`,children:[w.tipo==="regla_tiempo"?o.jsx($n,{size:12}):o.jsx(xa,{size:12}),w.tipo==="regla_tiempo"?"Por Tiempo":"Por Cantidad"]})}),o.jsx("td",{className:"p-4 text-green-600 font-bold",children:w.beneficio.tipo==="porcentaje"?`${w.beneficio.valor}% OFF`:`- S/ ${w.beneficio.valor}`}),o.jsx("td",{className:"p-4",children:o.jsx("button",{onClick:()=>r(w.id),className:`text-2xl ${w.activo?"text-green-500":"text-gray-300"}`,children:w.activo?o.jsx(l_,{}):o.jsx(o_,{})})}),o.jsxs("td",{className:"p-4 flex gap-2",children:[o.jsx("button",{onClick:()=>y(w),className:"text-blue-500 hover:text-blue-700",children:o.jsx(r_,{size:18})}),o.jsx("button",{onClick:()=>n(w.id),className:"text-red-500 hover:text-red-700",children:o.jsx(wa,{size:18})})]})]},w.id))})]})}),o.jsx(zn,{titulo:l?"Editar Promocin":"Crear Nueva Promocin",abierto:i,alCerrar:p,children:o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsx("input",{required:!0,placeholder:"Nombre de la Promocin",className:"w-full p-2 border rounded",value:h.nombre,onChange:w=>m({...h,nombre:w.target.value})}),o.jsx("input",{required:!0,placeholder:"Descripcin (Visible al cliente)",className:"w-full p-2 border rounded",value:h.descripcion,onChange:w=>m({...h,descripcion:w.target.value})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Tipo de Regla"}),o.jsxs("select",{className:"w-full p-2 border rounded",value:h.tipo,onChange:w=>m({...h,tipo:w.target.value}),children:[o.jsx("option",{value:"regla_tiempo",children:"Por Tiempo (Horas)"}),o.jsx("option",{value:"regla_cantidad",children:"Por Cantidad (Items)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Valor del Descuento (%)"}),o.jsx("input",{required:!0,type:"number",className:"w-full p-2 border rounded",value:h.beneficio.valor,onChange:w=>m({...h,beneficio:{...h.beneficio,valor:Number(w.target.value)}})})]})]}),h.tipo==="regla_tiempo"?o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Mnimo de Horas"}),o.jsx("input",{required:!0,type:"number",className:"w-full p-2 border rounded",value:h.condicion.minHoras,onChange:w=>m({...h,condicion:{...h.condicion,minHoras:Number(w.target.value)}})})]}):o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Cantidad Mnima"}),o.jsx("input",{required:!0,type:"number",className:"w-full p-2 border rounded",value:h.condicion.minCantidad,onChange:w=>m({...h,condicion:{...h.condicion,minCantidad:Number(w.target.value)}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Categora (Opcional)"}),o.jsx("input",{placeholder:"Ej: Motor",className:"w-full p-2 border rounded",value:h.condicion.categoria,onChange:w=>m({...h,condicion:{...h.condicion,categoria:w.target.value}})})]})]}),o.jsx(oe,{type:"submit",className:"w-full",children:"Crear Promocin"})]})})]})},eE=()=>o.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestin de Promociones"}),o.jsx("p",{className:"text-gray-600",children:"Configura descuentos automticos y reglas de precios."})]}),o.jsx(Zk,{})]}),Jm=()=>{const{inventario:t,registrarAlquiler:e}=b.useContext(jt),{usuario:r}=b.useContext(Qe),[n,s]=b.useState([]),[i,a]=b.useState(""),[l,c]=b.useState(""),[u,d]=b.useState(null),[h,m]=b.useState({horas:1,fechaInicio:new Date().toISOString().slice(0,16)}),[f,p]=b.useState("efectivo"),[y,w]=b.useState("boleta"),[v,g]=b.useState({ruc:"",razonSocial:"",direccion:""}),x=E=>{d(E),m({horas:1,fechaInicio:new Date().toISOString().slice(0,16)})},_=()=>{if(!u)return;const E={...u,cantidad:1,horas:Number(h.horas),fechaInicio:new Date(h.fechaInicio)};s(q=>[...q,{...E,idTemp:Date.now()}]),d(null)},N=n.reduce((E,q)=>E+q.precioPorHora*q.horas*q.cantidad,0),P=N*.2,j=N+P,L=()=>{if(n.length===0)return alert("Carrito vaco");if(!i.trim())return alert("Ingrese nombre del cliente");if(y==="factura"&&(!v.ruc||!v.razonSocial))return alert("Por favor complete los datos de facturacin (RUC y Razn Social)");const E={id:crypto.randomUUID(),cliente:i,clienteId:"GUEST-"+Date.now(),vendedorId:r?r.nombre:"POS-LOCAL",items:n,total:N,garantia:P,totalFinal:j,montoPagado:j,saldoPendiente:0,fechaInicio:new Date,tipoReserva:"inmediata",metodoPago:f,tipoComprobante:y,datosFactura:y==="factura"?v:null,estado:"pendiente",penalizacion:0};e(E),s([]),a(""),g({ruc:"",razonSocial:"",direccion:""}),alert(`Venta registrada correctamente.

Atendido por: ${r==null?void 0:r.nombre}
Total Servicio: S/ ${N.toFixed(2)}
Garanta: S/ ${P.toFixed(2)}
Total Cobrado: S/ ${j.toFixed(2)}`)},z=t.filter(E=>E.nombre.toLowerCase().includes(l.toLowerCase())||E.categoria.toLowerCase().includes(l.toLowerCase()));return o.jsxs("div",{className:"grid md:grid-cols-3 gap-6 px-4 sm:px-6 lg:px-8 h-[calc(100vh-100px)]",children:[o.jsxs("div",{className:"md:col-span-2 flex flex-col gap-4 h-full",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Catlogo"}),o.jsxs("div",{className:"relative w-64",children:[o.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),o.jsx("input",{type:"text",placeholder:"Buscar producto...",className:"w-full pl-10 pr-4 py-2 border rounded-lg text-sm",value:l,onChange:E=>c(E.target.value)})]})]}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 overflow-y-auto pr-2",children:z.map(E=>o.jsxs("div",{onClick:()=>E.stock>0&&x(E),className:`bg-white p-3 rounded-lg border cursor-pointer hover:border-blue-500 transition-all ${E.stock===0?"opacity-50 grayscale":"hover:shadow-md"}`,children:[o.jsx("div",{className:"aspect-video bg-gray-100 rounded mb-2 flex items-center justify-center overflow-hidden",children:o.jsx("img",{src:E.imagen,alt:E.nombre,className:"object-cover w-full h-full",onError:q=>q.target.src="https://via.placeholder.com/150"})}),o.jsx("p",{className:"font-bold text-sm truncate",children:E.nombre}),o.jsx("p",{className:"text-xs text-gray-500",children:E.categoria}),o.jsxs("div",{className:"flex justify-between items-center mt-2",children:[o.jsxs("span",{className:"font-bold text-blue-600",children:["S/ ",E.precioPorHora,"/h"]}),o.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full ${E.stock>0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[E.stock," unid."]})]})]},E.id))})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex flex-col h-full",children:[o.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[o.jsx(Cs,{size:20})," Ticket de Venta"]}),o.jsxs("div",{className:"space-y-3 mb-4 flex-shrink-0",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{placeholder:"Nombre del Cliente",className:"w-full p-2 border rounded text-sm",value:i,onChange:E=>a(E.target.value)}),o.jsx(oe,{variante:"secundario",className:"!px-2",onClick:()=>{const E=prompt("Nombre:");E&&a(E)},children:o.jsx(h_,{size:18})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("select",{className:"w-full p-2 border rounded text-sm",value:f,onChange:E=>p(E.target.value),children:[o.jsx("option",{value:"efectivo",children:"Efectivo"}),o.jsx("option",{value:"tarjeta",children:"Tarjeta"}),o.jsx("option",{value:"yape",children:"Yape/Plin"}),o.jsx("option",{value:"transferencia",children:"Transferencia"})]}),o.jsxs("div",{className:"flex gap-2 items-center justify-center border rounded bg-gray-50 px-2",children:[o.jsxs("label",{className:"flex items-center gap-1 text-xs cursor-pointer mr-2",children:[o.jsx("input",{type:"radio",name:"posComprobante",value:"boleta",checked:y==="boleta",onChange:()=>w("boleta")})," Boleta"]}),o.jsxs("label",{className:"flex items-center gap-1 text-xs cursor-pointer",children:[o.jsx("input",{type:"radio",name:"posComprobante",value:"factura",checked:y==="factura",onChange:()=>w("factura")})," Factura"]})]})]}),y==="factura"&&o.jsxs("div",{className:"space-y-2 bg-gray-50 p-2 rounded animate-fadeIn",children:[o.jsx("input",{placeholder:"RUC",className:"w-full p-1 border rounded text-xs",value:v.ruc,onChange:E=>g({...v,ruc:E.target.value})}),o.jsx("input",{placeholder:"Razn Social",className:"w-full p-1 border rounded text-xs",value:v.razonSocial,onChange:E=>g({...v,razonSocial:E.target.value})})]})]}),o.jsx("div",{className:"flex-grow overflow-y-auto border-t border-b py-2 space-y-2",children:n.length===0?o.jsx("p",{className:"text-center text-gray-400 text-sm py-4",children:"Carrito vaco"}):n.map(E=>o.jsxs("div",{className:"flex justify-between text-sm pb-2 border-b border-dashed last:border-0",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:E.nombre}),o.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[o.jsx($n,{size:10})," ",E.horas,"h x S/ ",E.precioPorHora]}),o.jsxs("p",{className:"text-xs text-gray-400",children:["Inicio: ",new Date(E.fechaInicio).toLocaleString()]})]}),o.jsxs("div",{className:"text-right flex flex-col items-end justify-between",children:[o.jsxs("p",{className:"font-bold",children:["S/ ",(E.precioPorHora*E.horas*E.cantidad).toFixed(2)]}),o.jsxs("button",{onClick:()=>s(q=>q.filter(G=>G.idTemp!==E.idTemp)),className:"text-red-500 hover:text-red-700 text-xs flex items-center gap-1",children:[o.jsx(ah,{size:12})," Quitar"]})]})]},E.idTemp))}),o.jsxs("div",{className:"flex-shrink-0 pt-4 space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[o.jsx("span",{className:"",children:"Subtotal"}),o.jsxs("span",{children:["S/ ",N.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between items-center text-sm text-green-600",children:[o.jsx("span",{className:"",children:"Garanta (20%)"}),o.jsxs("span",{children:["S/ ",P.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between items-center border-t pt-2 mt-2",children:[o.jsx("span",{className:"font-bold text-lg",children:"Total a Cobrar"}),o.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["S/ ",j.toFixed(2)]})]}),o.jsxs(oe,{className:"w-full mt-4 py-3 text-lg",onClick:L,disabled:n.length===0,children:["Cobrar S/ ",j.toFixed(2)]})]})]}),o.jsx(zn,{titulo:`Agregar ${(u==null?void 0:u.nombre)||""}`,abierto:!!u,alCerrar:()=>d(null),children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha y Hora de Inicio"}),o.jsx("input",{type:"datetime-local",className:"w-full p-2 border rounded-lg",value:h.fechaInicio,onChange:E=>m({...h,fechaInicio:E.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duracin (Horas)"}),o.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded-lg",value:h.horas,onChange:E=>m({...h,horas:E.target.value})})]}),o.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[o.jsxs("p",{className:"text-sm text-blue-800 flex justify-between",children:[o.jsx("span",{children:"Precio por hora:"}),o.jsxs("span",{className:"font-bold",children:["S/ ",u==null?void 0:u.precioPorHora]})]}),o.jsxs("p",{className:"text-sm text-blue-800 flex justify-between mt-1",children:[o.jsx("span",{children:"Total Estimado:"}),o.jsxs("span",{className:"font-bold",children:["S/ ",((u==null?void 0:u.precioPorHora)*h.horas).toFixed(2)]})]})]}),o.jsx(oe,{className:"w-full",onClick:_,children:"Agregar al Ticket"})]})})]})},tE=()=>{const{alquileres:t,entregarAlquiler:e,devolverAlquiler:r}=b.useContext(jt),n=t.filter(i=>i.estado==="listo_para_entrega"),s=t.filter(i=>i.estado==="en_uso");return o.jsxs("div",{className:"space-y-8 px-4 sm:px-6 lg:px-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard Vendedor"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(u_,{className:"text-blue-600"})," Entregas (Ya Revisadas)"]}),o.jsx("div",{className:"grid gap-4",children:n.length===0?o.jsx("p",{className:"text-gray-500",children:"No hay entregas listas."}):n.map(i=>o.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-gray-900",children:i.cliente}),o.jsxs("p",{className:"text-sm text-gray-600",children:[i.items.length," items"]})]}),o.jsx(oe,{variante:"primario",onClick:()=>e(i.id),children:"Entregar Cliente"})]},i.id))})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(W1,{className:"text-green-600"})," Recepcionar Devoluciones"]}),o.jsx("div",{className:"grid gap-4",children:s.length===0?o.jsx("p",{className:"text-gray-500",children:"No hay equipos fuera."}):s.map(i=>o.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-gray-900",children:i.cliente}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Entrega: ",ca(i.fechaEntrega)]})]}),o.jsx(oe,{variante:"secundario",onClick:()=>r(i.id),children:"Recibir y Enviar a Taller"})]},i.id))})]})]})]})},rE=()=>{const{alquileres:t,aprobarParaEntrega:e,enviarAMantenimiento:r,finalizarMantenimiento:n,marcarFueraDeServicio:s}=b.useContext(jt),i=t.filter(c=>c.estado==="pendiente"),a=t.filter(c=>c.estado==="limpieza"),l=t.filter(c=>c.estado==="en_mantenimiento");return o.jsxs("div",{className:"space-y-8 px-4 sm:px-6 lg:px-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Taller Mecnico"}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(V1,{className:"text-blue-600"})," 1. Revisiones Pre-Entrega"]}),o.jsx("div",{className:"grid gap-4",children:i.length===0?o.jsx("p",{className:"text-gray-500",children:"Todo revisado."}):i.map(c=>o.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-gray-900",children:c.cliente}),o.jsxs("p",{className:"text-sm text-gray-600",children:[c.items.length," items"]})]}),o.jsx(oe,{variante:"primario",onClick:()=>e(c.id),children:"Aprobar"})]},c.id))})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(s_,{className:"text-cyan-600"})," 2. Limpieza y Triaje Post-Devolucin"]}),o.jsx("div",{className:"grid gap-4",children:a.length===0?o.jsx("p",{className:"text-gray-500",children:"Sin equipos en limpieza."}):a.map(c=>o.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-gray-900",children:c.cliente}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Devuelto: ",ca(c.fechaDevolucionReal)]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(oe,{variante:"exito",onClick:()=>n(c.id),children:"Todo OK (Habilitar)"}),o.jsx(oe,{variante:"secundario",onClick:()=>r(c.id),children:"Requiere Mantenimiento"})]})]},c.id))})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(Oi,{className:"text-orange-600"})," 3. Mantenimiento Mayor"]}),o.jsx("div",{className:"grid gap-4",children:l.length===0?o.jsx("p",{className:"text-gray-500",children:"Sin equipos en reparacin."}):l.map(c=>o.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-gray-900",children:c.cliente}),o.jsxs("p",{className:"text-sm text-gray-600",children:["En taller desde: ",ca(c.fechaDevolucionReal)]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(oe,{variante:"exito",onClick:()=>n(c.id),children:"Reparado (Habilitar)"}),o.jsx(oe,{variante:"peligro",onClick:()=>s(c.id),children:"Dar de Baja"})]})]},c.id))})]})]})},nE=()=>{const{slug:t}=$0(),[e,r]=b.useState(null),[n,s]=b.useState(!0);return b.useEffect(()=>{(async()=>{s(!0);const a=await gh(t);r(a),s(!1)})()},[t]),n?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsx("div",{className:"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"})}):e?o.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:o.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-8 md:p-12",children:o.jsx("div",{className:"prose prose-blue max-w-none text-gray-600",dangerouslySetInnerHTML:{__html:e.contenido}})})})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Pgina no encontrada"}),o.jsx("p",{className:"text-gray-500",children:"Lo sentimos, no pudimos encontrar el documento solicitado."})]})})},sE=()=>{const[t,e]=b.useState([]),[r,n]=b.useState(!0),[s,i]=b.useState(null);b.useEffect(()=>{(async()=>{n(!0);const c=await Ry();e(c||[]),n(!1)})()},[]);const a=l=>{i(s===l?null:l)};return r?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsx("div",{className:"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"})}):o.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-blue-100 rounded-full mb-4",children:o.jsx(Q1,{size:32,className:"text-blue-600"})}),o.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Centro de Ayuda"}),o.jsx("p",{className:"mt-4 text-lg text-gray-500",children:"Encuentra respuestas a las preguntas ms frecuentes sobre nuestros servicios."})]}),o.jsxs("div",{className:"space-y-4",children:[t.map(l=>o.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-100 transition-all duration-200 hover:shadow-md",children:[o.jsxs("button",{onClick:()=>a(l.id),className:"w-full px-6 py-4 flex items-center justify-between text-left focus:outline-none bg-white hover:bg-gray-50",children:[o.jsx("span",{className:"font-medium text-gray-900",children:l.pregunta}),s===l.id?o.jsx(q1,{size:20,className:"text-blue-500"}):o.jsx(G0,{size:20,className:"text-gray-400"})]}),s===l.id&&o.jsx("div",{className:"px-6 pb-4 bg-gray-50 border-t border-gray-100",children:o.jsx("p",{className:"text-gray-600 mt-2",children:l.respuesta})})]},l.id)),t.length===0&&o.jsx("div",{className:"text-center py-12 text-gray-500 bg-white rounded-lg border border-dashed",children:"No hay preguntas frecuentes disponibles en este momento."})]}),o.jsxs("div",{className:"mt-12 text-center bg-blue-600 rounded-2xl p-8 shadow-xl text-white",children:[o.jsx("h3",{className:"text-xl font-bold mb-2",children:"No encontraste lo que buscabas?"}),o.jsx("p",{className:"mb-6 text-blue-100",children:"Si necesitas asistencia personalizada, nuestro equipo de soporte est listo para ayudarte."}),o.jsx("a",{href:"mailto:soporte@alquileresperuanos.pe",className:"inline-block bg-white text-blue-600 font-bold py-3 px-8 rounded-lg hover:bg-blue-50 transition-colors",children:"Contactar Soporte"})]})]})})},vr=({children:t,rolesPermitidos:e=[]})=>{const{usuario:r}=b.useContext(Qe);return r?e.length>0&&!e.includes(r.rol)?o.jsx(Ri,{to:"/",replace:!0}):t:o.jsx(Ri,{to:"/",replace:!0})},iE=()=>C1([{path:"/",element:o.jsx(Hk,{}),children:[{index:!0,element:o.jsx(Kk,{})},{path:"producto/:id",element:o.jsx(Gk,{})},{path:"perfil",element:o.jsx(vr,{rolesPermitidos:["cliente","vendedor","admin","dueno","mecanico"],children:o.jsx(Jk,{})})},{path:"soporte",element:o.jsx(vr,{rolesPermitidos:["cliente"],children:o.jsx(Qk,{})})},{path:"mis-gastos",element:o.jsx(vr,{rolesPermitidos:["cliente"],children:o.jsx(uo,{rol:"cliente"})})},{path:"bandeja-entrada",element:o.jsx(vr,{rolesPermitidos:["cliente","vendedor","admin","dueno","mecanico"],children:o.jsx(ul,{})})},{path:"ayuda",element:o.jsx(sE,{})},{path:"legal/:slug",element:o.jsx(nE,{})}]},{path:"/admin",element:o.jsx(vr,{rolesPermitidos:["admin","dueno"],children:o.jsx(Ac,{})}),children:[{index:!0,element:o.jsx(Ri,{to:"/admin/inventario",replace:!0})},{path:"inventario",element:o.jsx(Yk,{})},{path:"reservas",element:o.jsx(vr,{rolesPermitidos:["admin","vendedor"],children:o.jsx(Gm,{})})},{path:"usuarios",element:o.jsx(Xk,{})},{path:"promociones",element:o.jsx(eE,{})},{path:"mensajes",element:o.jsx(ul,{})},{path:"reportes",element:o.jsx(uo,{})},{path:"punto-venta",element:o.jsx(vr,{rolesPermitidos:["admin"],children:o.jsx(Jm,{})})}]},{path:"/vendedor",element:o.jsx(vr,{rolesPermitidos:["vendedor"],children:o.jsx(Ac,{})}),children:[{index:!0,element:o.jsx(Ri,{to:"/vendedor/operaciones",replace:!0})},{path:"operaciones",element:o.jsx(tE,{})},{path:"punto-venta",element:o.jsx(Jm,{})},{path:"reportes",element:o.jsx(uo,{rol:"vendedor"})},{path:"reservas",element:o.jsx(Gm,{})}]},{path:"/mecanico",element:o.jsx(vr,{rolesPermitidos:["mecanico"],children:o.jsx(Ac,{})}),children:[{index:!0,element:o.jsx(rE,{})},{path:"reportes",element:o.jsx(uo,{rol:"mecanico"})}]},{path:"*",element:o.jsx(Ri,{to:"/",replace:!0})}]);function aE(){return o.jsx(zN,{children:o.jsx(BN,{children:o.jsx(HN,{children:o.jsx(VN,{children:o.jsx(WN,{children:o.jsx(qN,{children:o.jsx(oE,{})})})})})})})}function oE(){const{usuario:t,iniciarSesion:e,registrarUsuario:r,cargando:n}=b.useContext(Qe),{carrito:s,removerDelCarrito:i,esVisible:a,setEsVisible:l,total:c,limpiarCarrito:u}=b.useContext(zl),{registrarAlquiler:d,verificarDisponibilidad:h}=b.useContext(jt),{calcularDescuentos:m}=b.useContext(vh),{mostrarLogin:f,setMostrarLogin:p,modoRegistro:y,setModoRegistro:w,abrirModalInfo:v}=ja(),{sedeActual:g,setSedeActual:x}=b.useContext(jt);En.useEffect(()=>{t&&(t.rol==="admin"||t.rol==="vendedor")&&t.sede&&g!==t.sede&&x(t.sede)},[t,x,g]);const[_,N]=b.useState("cliente@demo.com"),[P,j]=b.useState("123"),[L,z]=b.useState(""),[E,q]=b.useState(""),[G,K]=b.useState(""),[T,B]=b.useState(""),[ne,A]=b.useState(""),[O,D]=b.useState(""),[I,$]=b.useState(!1),[Q,ve]=b.useState(""),[ie,we]=b.useState(!1),[je,H]=b.useState(new Date().toISOString().split("T")[0]),[me,ft]=b.useState(new Date().toTimeString().split(" ")[0].slice(0,5)),[_t,C]=b.useState("inmediata"),[de,mt]=b.useState("transferencia"),[Se,St]=b.useState("boleta"),[Gt,Gs]=b.useState({ruc:"",razonSocial:"",direccion:""}),[qn,_a]=b.useState(!1),[Sa,Js]=b.useState(0),[Na,Jt]=b.useState([]),[Rr,Wn]=b.useState([]);En.useEffect(()=>{s.length>0?m(s).then(({descuentoTotal:V,promocionesAplicadas:_e,alertas:gt})=>{Js(V||0),Jt(_e||[]),Wn(gt||[])}).catch(V=>{console.error("Error al calcular descuentos:",V),Js(0),Jt([]),Wn([])}):(Js(0),Jt([]),Wn([]))},[s]);const cn=c-Sa,It=cn*.2,pt=cn+It;En.useEffect(()=>{const V=new Date().toISOString().split("T")[0];C(je!==V?"anticipada":"inmediata")},[je]);const ka=iE(),Bl=V=>{V.preventDefault(),e(_,P)?(p(!1),z("")):z("Credenciales invlidas")},Qs=()=>{if(!t)return{valido:!1,mensaje:"Debes iniciar sesin."};const V=t.numeroDocumento||t.numero_documento,_e=t.fechaNacimiento||t.fecha_nacimiento;if(!V||!_e)return{valido:!1,mensaje:"Por favor completa tu perfil (DNI y Fecha Nacimiento) antes de alquilar."};const gt=new Date,Qt=new Date(_e);let $t=gt.getFullYear()-Qt.getFullYear();const Ys=gt.getMonth()-Qt.getMonth();if((Ys<0||Ys===0&&gt.getDate()<Qt.getDate())&&$t--,s.some(Ca=>Ca.categoria==="Motor")){if($t<18)return{valido:!1,mensaje:"Debes ser mayor de 18 aos para alquilar vehculos motorizados."};if(!(t.licenciaConducir===!0||t.licencia_conducir===!0))return{valido:!1,mensaje:"Se requiere licencia de conducir vigente para vehculos motorizados. Actualzalo en tu perfil."}}return{valido:!0}},Hl=()=>{if(!t){p(!0),l(!1);return}const V=Qs();if(!V.valido){alert(V.mensaje),l(!1);return}if(!qn){alert("Debes aceptar los trminos y condiciones del contrato.");return}if(Se==="factura"&&(!Gt.ruc||!Gt.razonSocial)){alert("Por favor completa los datos de facturacin.");return}const _e=new Date(`${je}T${me}`);h(s,_e).then(gt=>{if(!gt.valido){alert(gt.mensaje);return}const Qt={clienteId:t.id,vendedorId:"WEB",sedeId:g,items:s,fechaInicio:_e,tipoReserva:_t,metodoPago:de,tipoComprobante:Se,datosFactura:Se==="factura"?Gt:null};d(Qt).then($t=>{$t&&(u(),l(!1),_a(!1),alert(`Reserva Exitosa!

Tu reserva ha sido registrada correctamente en el sistema.
Puedes ver los detalles y el contrato en tu perfil.`))})})},Dt=V=>{if(!V)return 0;const _e=new Date,gt=new Date(V);let Qt=_e.getFullYear()-gt.getFullYear();const $t=_e.getMonth()-gt.getMonth();return($t<0||$t===0&&_e.getDate()<gt.getDate())&&Qt--,Qt},Kn=Dt(O)<18;return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),o.jsx("p",{className:"text-gray-500 font-medium animate-pulse",children:"Cargando Verano..."})]})}):o.jsxs(o.Fragment,{children:[o.jsx(z1,{router:ka}),o.jsx(KN,{}),o.jsx(zn,{titulo:"Tu Carrito de Compras",abierto:a,alCerrar:()=>l(!1),zIndex:60,children:s.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(sl,{size:48,className:"mx-auto mb-4 opacity-20"}),o.jsx("p",{children:"Tu carrito est vaco."}),o.jsx(oe,{variante:"fantasma",onClick:()=>l(!1),className:"mt-4",children:"Seguir Navegando"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-4 mb-6 max-h-[60vh] overflow-y-auto pr-2",children:[s.map(V=>o.jsxs("div",{className:"flex gap-4 items-center bg-gray-50 p-3 rounded-lg",children:[o.jsx("img",{src:V.imagen,alt:V.nombre,className:"w-16 h-16 object-cover rounded-md"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-gray-900",children:V.nombre}),o.jsxs("p",{className:"text-sm text-gray-500",children:[V.horas,"h x S/ ",V.precioPorHora]}),V.categoria==="Motor"&&o.jsxs("span",{className:"text-xs text-orange-600 font-bold flex items-center gap-1",children:[o.jsx(Es,{size:10})," Requiere Licencia"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"font-bold text-gray-900",children:["S/ ",V.precioPorHora*V.horas*V.cantidad]}),o.jsx("button",{onClick:()=>i(V.id),className:"text-red-500 text-xs hover:underline mt-1",children:"Eliminar"})]})]},V.id)),o.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 space-y-4",children:[o.jsx("h4",{className:"font-bold text-gray-800 border-b pb-2",children:"Detalles de Reserva"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Fecha Inicio"}),o.jsx("input",{type:"date",className:"w-full p-2 border rounded text-sm",value:je,onChange:V=>H(V.target.value),min:new Date().toISOString().split("T")[0]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Hora Inicio"}),o.jsx("input",{type:"time",className:"w-full p-2 border rounded text-sm",value:me,onChange:V=>ft(V.target.value)})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Tipo de Reserva"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:`flex items-center gap-2 text-sm ${je!==new Date().toISOString().split("T")[0]?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[o.jsx("input",{type:"radio",name:"tipoReserva",value:"inmediata",checked:_t==="inmediata",onChange:()=>C("inmediata"),disabled:je!==new Date().toISOString().split("T")[0]}),"Inmediata (100%)"]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"radio",name:"tipoReserva",value:"anticipada",checked:_t==="anticipada",onChange:()=>C("anticipada")}),"Anticipada (60%)"]})]}),je!==new Date().toISOString().split("T")[0]&&o.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Reservas para fechas futuras son automticamente anticipadas."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Mtodo de Pago"}),o.jsxs("select",{className:"w-full p-2 border rounded text-sm",value:de,onChange:V=>mt(V.target.value),children:[o.jsx("option",{value:"transferencia",children:"Transferencia Bancaria"}),o.jsx("option",{value:"yape",children:"Yape / Plin"}),o.jsx("option",{value:"tarjeta",children:"Tarjeta de Crdito/Dbito"}),o.jsx("option",{value:"efectivo",children:"Efectivo (En tienda)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Comprobante"}),o.jsxs("div",{className:"flex gap-4 mb-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"radio",name:"tipoComprobante",value:"boleta",checked:Se==="boleta",onChange:()=>St("boleta")}),"Boleta"]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"radio",name:"tipoComprobante",value:"factura",checked:Se==="factura",onChange:()=>St("factura")}),"Factura"]})]}),Se==="factura"&&o.jsxs("div",{className:"grid grid-cols-1 gap-2 bg-gray-50 p-2 rounded",children:[o.jsx("input",{placeholder:"RUC",className:"w-full p-2 border rounded text-sm",value:Gt.ruc,onChange:V=>Gs({...Gt,ruc:V.target.value})}),o.jsx("input",{placeholder:"Razn Social",className:"w-full p-2 border rounded text-sm",value:Gt.razonSocial,onChange:V=>Gs({...Gt,razonSocial:V.target.value})}),o.jsx("input",{placeholder:"Direccin Fiscal",className:"w-full p-2 border rounded text-sm",value:Gt.direccion,onChange:V=>Gs({...Gt,direccion:V.target.value})})]})]})]})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-4 border border-blue-100",children:[o.jsxs("h4",{className:"font-bold text-blue-800 flex items-center gap-2 mb-2",children:[o.jsx(Nn,{size:18})," Contrato Digital"]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("input",{type:"checkbox",id:"terminos",className:"mt-1 w-4 h-4 text-blue-600 rounded focus:ring-blue-500",checked:qn,onChange:V=>_a(V.target.checked)}),o.jsxs("label",{htmlFor:"terminos",className:"text-sm text-gray-700 cursor-pointer",children:["He ledo y acepto los ",o.jsx("button",{type:"button",onClick:()=>v("terminos","Trminos y Condiciones"),className:"text-blue-600 underline font-bold hover:text-blue-800",children:"Trminos y Condiciones"}),", incluyendo la responsabilidad por daos y el depsito de garanta reembolsable."]})]})]}),o.jsxs("div",{className:"border-t pt-4 space-y-3",children:[Rr.length>0&&o.jsx("div",{className:"bg-yellow-50 p-2 rounded border border-yellow-200 mb-2",children:Rr.map((V,_e)=>o.jsxs("p",{className:"text-xs text-yellow-800 flex items-center gap-1",children:[o.jsx(xa,{size:12})," ",V]},_e))}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600",children:"Subtotal"}),o.jsxs("span",{className:"font-medium text-gray-900",children:["S/ ",c.toFixed(2)]})]}),Na.length>0&&o.jsxs("div",{className:"flex justify-between items-center text-green-600",children:[o.jsxs("span",{className:"text-sm flex items-center gap-1",children:[o.jsx(On,{size:12})," Descuentos (",Na.length,")"]}),o.jsxs("span",{className:"font-medium",children:["- S/ ",Sa.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between items-center text-gray-800 font-medium border-t border-gray-100 pt-1",children:[o.jsx("span",{className:"text-sm",children:"Total Servicio"}),o.jsxs("span",{children:["S/ ",cn.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between items-center text-green-700",children:[o.jsx("span",{className:"text-sm",children:"Garanta (20% Reembolsable)"}),o.jsxs("span",{className:"font-medium",children:["S/ ",It.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between items-center border-t border-dashed pt-2",children:[o.jsx("span",{className:"font-bold text-gray-900",children:"Total a Pagar"}),o.jsxs("div",{className:"text-right",children:[o.jsxs("span",{className:"block text-xl font-bold text-blue-600",children:["S/ ",pt.toFixed(2)]}),o.jsxs("span",{className:"block text-xs text-gray-500",children:["approx. $ ",(pt/3.8).toFixed(2)]})]})]}),_t==="anticipada"&&o.jsxs("div",{className:"bg-orange-50 p-2 rounded text-sm space-y-1 mt-2",children:[o.jsxs("div",{className:"flex justify-between items-center text-blue-800",children:[o.jsx("span",{className:"font-medium",children:"Adelanto a Pagar (60%)"}),o.jsxs("span",{className:"font-bold",children:["S/ ",(pt*.6).toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between items-center text-orange-800",children:[o.jsx("span",{className:"font-medium",children:"Saldo Pendiente (40%)"}),o.jsxs("span",{className:"font-bold",children:["S/ ",(pt*.4).toFixed(2)]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[o.jsx(oe,{variante:"secundario",onClick:()=>l(!1),children:"Seguir Comprando"}),o.jsx(oe,{variante:"primario",onClick:Hl,disabled:!qn,children:_t==="anticipada"?"Pagar Adelanto":"Pagar Total"})]})]})]})}),o.jsx(zn,{titulo:y?"Crear Cuenta":"Bienvenido",abierto:f,alCerrar:()=>p(!1),zIndex:60,children:y?o.jsxs("form",{onSubmit:async V=>{if(V.preventDefault(),!/^\d{8}$/.test(ne)){ve("El DNI debe tener exactamente 8 dgitos numricos.");return}if(!ie)return;const _e=await r({nombre:E,email:G,password:T,numeroDocumento:ne,fechaNacimiento:O,licenciaConducir:I,tipoDocumento:"DNI",nacionalidad:"Nacional"});_e===!0?(p(!1),w(!1),we(!1),alert("Cuenta creada exitosamente. Bienvenido!")):_e!=null&&_e.toString().includes("usuarios_email_unique")?alert("El correo electrnico ya est registrado."):_e!=null&&_e.toString().includes("usuarios_dni_unique_idx")?alert("El DNI ya est registrado."):_e!=null&&_e.toString().includes("usuarios_dni_check")?ve("El formato del DNI es invlido (debe tener 8 dgitos)."):alert(_e||"Error al crear la cuenta. Intente nuevamente.")},className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre Completo"}),o.jsx("input",{required:!0,className:"w-full p-2 border rounded",value:E,onChange:V=>q(V.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),o.jsx("input",{required:!0,type:"email",className:"w-full p-2 border rounded",value:G,onChange:V=>K(V.target.value)})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"DNI / Documento"}),o.jsx("input",{required:!0,className:`w-full p-2 border rounded ${Q?"border-red-500 bg-red-50":""}`,value:ne,onChange:V=>{A(V.target.value),ve("")}}),Q&&o.jsx("p",{className:"text-xs text-red-500 mt-1 font-medium",children:Q})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha Nacimiento"}),o.jsx("input",{required:!0,type:"date",className:"w-full p-2 border rounded",value:O,onChange:V=>{D(V.target.value),Dt(V.target.value)<18&&$(!1)}})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),o.jsx("input",{required:!0,type:"password",className:"w-full p-2 border rounded",value:T,onChange:V=>B(V.target.value)})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:`flex items-center gap-2 p-3 rounded border ${Kn?"bg-gray-100 opacity-50":"bg-gray-50"}`,children:[o.jsx("input",{type:"checkbox",id:"regLicencia",className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500",checked:I,onChange:V=>$(V.target.checked),disabled:Kn}),o.jsxs("label",{htmlFor:"regLicencia",className:"text-sm text-gray-700 cursor-pointer select-none",children:["Tengo Licencia de Conducir ",Kn&&"(Solo mayores de 18)"]})]}),o.jsxs("div",{className:"flex items-start gap-2 p-3 rounded border bg-gray-50",children:[o.jsx("input",{type:"checkbox",id:"regTerminos",className:"mt-1 w-4 h-4 text-blue-600 rounded focus:ring-blue-500",checked:ie,onChange:V=>we(V.target.checked)}),o.jsxs("label",{htmlFor:"regTerminos",className:"text-sm text-gray-700 cursor-pointer select-none",children:["He ledo y acepto los ",o.jsx("button",{type:"button",onClick:()=>v("terminos","Trminos y Condiciones"),className:"text-blue-600 underline font-bold hover:text-blue-800",children:"Trminos y Condiciones"})]})]})]}),o.jsx(oe,{variante:"primario",className:`w-full py-3 ${ie?"":"opacity-50 cursor-not-allowed"}`,type:"submit",disabled:!ie,children:"Registrarse"}),o.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Ya tienes cuenta? ",o.jsx("button",{type:"button",onClick:()=>w(!1),className:"text-blue-600 font-bold",children:"Inicia Sesin"})]})]}):o.jsxs("form",{onSubmit:Bl,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),o.jsx("input",{type:"email",className:"w-full px-4 py-2 rounded-lg border border-gray-300",value:_,onChange:V=>N(V.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),o.jsx("input",{type:"password",className:"w-full px-4 py-2 rounded-lg border border-gray-300",value:P,onChange:V=>j(V.target.value)})]}),L&&o.jsxs("div",{className:"text-red-500 text-sm bg-red-50 p-2 rounded flex items-center gap-2",children:[o.jsx(Es,{size:16}),L]}),o.jsx(oe,{variante:"primario",className:"w-full py-3",type:"submit",children:"Ingresar"}),o.jsxs("p",{className:"text-center text-sm text-gray-600",children:["No tienes cuenta? ",o.jsx("button",{type:"button",onClick:()=>w(!0),className:"text-blue-600 font-bold",children:"Regstrate"})]}),o.jsxs("div",{className:"mt-4 text-xs text-gray-500 bg-gray-100 p-3 rounded",children:[o.jsx("p",{className:"font-bold mb-1",children:"Cuentas de prueba:"}),o.jsx("p",{children:"Cliente: cliente@demo.com / 123"}),o.jsx("p",{children:"Vendedor: vendedor@demo.com / 123"}),o.jsx("p",{children:"Admin: admin@demo.com / 123"}),o.jsx("p",{children:"Dueo: dueno@demo.com / 123"}),o.jsx("p",{children:"Mecnico: mecanico@demo.com / 123"})]})]})})]})}const{slice:lE,forEach:cE}=[];function uE(t){return cE.call(lE.call(arguments,1),e=>{if(e)for(const r in e)t[r]===void 0&&(t[r]=e[r])}),t}function dE(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(t))}const Qm=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,hE=function(t,e){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(e);let i=`${t}=${s}`;if(n.maxAge>0){const a=n.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(a)}`}if(n.domain){if(!Qm.test(n.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${n.domain}`}if(n.path){if(!Qm.test(n.path))throw new TypeError("option path is invalid");i+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(i+="; Partitioned"),i},Ym={create(t,e,r,n){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+r*60*1e3)),n&&(s.domain=n),document.cookie=hE(t,e,s)},read(t){const e=`${t}=`,r=document.cookie.split(";");for(let n=0;n<r.length;n++){let s=r[n];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(e)===0)return s.substring(e.length,s.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var fE={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return Ym.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:r,cookieMinutes:n,cookieDomain:s,cookieOptions:i}=e;r&&typeof document<"u"&&Ym.create(r,t,n,s,i)}},mE={name:"querystring",lookup(t){var n;let{lookupQuerystring:e}=t,r;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&((n=window.location.hash)==null?void 0:n.indexOf("?"))>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const a=s.substring(1).split("&");for(let l=0;l<a.length;l++){const c=a[l].indexOf("=");c>0&&a[l].substring(0,c)===e&&(r=a[l].substring(c+1))}}return r}},pE={name:"hash",lookup(t){var s;let{lookupHash:e,lookupFromHashIndex:r}=t,n;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const a=i.substring(1);if(e){const l=a.split("&");for(let c=0;c<l.length;c++){const u=l[c].indexOf("=");u>0&&l[c].substring(0,u)===e&&(n=l[c].substring(u+1))}}if(n)return n;if(!n&&r>-1){const l=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?(s=l[typeof r=="number"?r:0])==null?void 0:s.replace("/",""):void 0}}}return n}};let rs=null;const Xm=()=>{if(rs!==null)return rs;try{if(rs=typeof window<"u"&&window.localStorage!==null,!rs)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{rs=!1}return rs};var gE={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&Xm())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:r}=e;r&&Xm()&&window.localStorage.setItem(r,t)}};let ns=null;const Zm=()=>{if(ns!==null)return ns;try{if(ns=typeof window<"u"&&window.sessionStorage!==null,!ns)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{ns=!1}return ns};var vE={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&Zm())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:r}=e;r&&Zm()&&window.sessionStorage.setItem(r,t)}},yE={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:r,userLanguage:n,language:s}=navigator;if(r)for(let i=0;i<r.length;i++)e.push(r[i]);n&&e.push(n),s&&e.push(s)}return e.length>0?e:void 0}},xE={name:"htmlTag",lookup(t){let{htmlTag:e}=t,r;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},wE={name:"path",lookup(t){var s;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?(s=r[typeof e=="number"?e:0])==null?void 0:s.replace("/",""):void 0}},bE={name:"subdomain",lookup(t){var s,i;let{lookupFromSubdomainIndex:e}=t;const r=typeof e=="number"?e+1:1,n=typeof window<"u"&&((i=(s=window.location)==null?void 0:s.hostname)==null?void 0:i.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(n)return n[r]}};let Uy=!1;try{document.cookie,Uy=!0}catch{}const Fy=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Uy||Fy.splice(1,1);const jE=()=>({order:Fy,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class By{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,r)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=uE(r,this.options||{},jE()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(fE),this.addDetector(mE),this.addDetector(gE),this.addDetector(vE),this.addDetector(yE),this.addDetector(xE),this.addDetector(wE),this.addDetector(bE),this.addDetector(pE)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return e.forEach(n=>{if(this.detectors[n]){let s=this.detectors[n].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(r=r.concat(s))}}),r=r.filter(n=>n!=null&&!dE(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||r.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}By.type="languageDetector";function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function Hy(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":ed(XMLHttpRequest))==="object"}function _E(t){return!!t&&typeof t.then=="function"}function SE(t){return _E(t)?t:Promise.resolve(t)}function ep(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function tp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ep(Object(r),!0).forEach(function(n){NE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ep(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NE(t,e,r){return(e=kE(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kE(t){var e=EE(t,"string");return Fn(e)=="symbol"?e:e+""}function EE(t,e){if(Fn(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fn(t){"@babel/helpers - typeof";return Fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fn(t)}var en=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?en=global.fetch:typeof window<"u"&&window.fetch&&(en=window.fetch);var da;Hy()&&(typeof global<"u"&&global.XMLHttpRequest?da=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(da=window.XMLHttpRequest));var ml;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?ml=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(ml=window.ActiveXObject));typeof en!="function"&&(en=void 0);if(!en&&!da&&!ml)try{Ms(()=>import("./browser-ponyfill-33YIHcrA.js").then(t=>t.b),[]).then(function(t){en=t.default}).catch(function(){})}catch{}var td=function(e,r){if(r&&Fn(r)==="object"){var n="";for(var s in r)n+="&"+encodeURIComponent(s)+"="+encodeURIComponent(r[s]);if(!n)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+n.slice(1)}return e},rp=function(e,r,n,s){var i=function(c){if(!c.ok)return n(c.statusText||"Error",{status:c.status});c.text().then(function(u){n(null,{status:c.status,data:u})}).catch(n)};if(s){var a=s(e,r);if(a instanceof Promise){a.then(i).catch(n);return}}typeof fetch=="function"?fetch(e,r).then(i).catch(n):en(e,r).then(i).catch(n)},np=!1,CE=function(e,r,n,s){e.queryStringParams&&(r=td(r,e.queryStringParams));var i=tp({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(i["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),n&&(i["Content-Type"]="application/json");var a=typeof e.requestOptions=="function"?e.requestOptions(n):e.requestOptions,l=tp({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:i},np?{}:a),c=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{rp(r,l,s,c)}catch(u){if(!a||Object.keys(a).length===0||!u.message||u.message.indexOf("not implemented")<0)return s(u);try{Object.keys(a).forEach(function(d){delete l[d]}),rp(r,l,s,c),np=!0}catch(d){s(d)}}},PE=function(e,r,n,s){n&&Fn(n)==="object"&&(n=td("",n).slice(1)),e.queryStringParams&&(r=td(r,e.queryStringParams));try{var i=da?new da:new ml("MSXML2.XMLHTTP.3.0");i.open(n?"POST":"GET",r,1),e.crossDomain||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.withCredentials=!!e.withCredentials,n&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.overrideMimeType&&i.overrideMimeType("application/json");var a=e.customHeaders;if(a=typeof a=="function"?a():a,a)for(var l in a)i.setRequestHeader(l,a[l]);i.onreadystatechange=function(){i.readyState>3&&s(i.status>=400?i.statusText:null,{status:i.status,data:i.responseText})},i.send(n)}catch(c){console&&console.log(c)}},RE=function(e,r,n,s){if(typeof n=="function"&&(s=n,n=void 0),s=s||function(){},en&&r.indexOf("file:")!==0)return CE(e,r,n,s);if(Hy()||typeof ActiveXObject=="function")return PE(e,r,n,s);s(new Error("No fetch and no xhr implementation found!"))};function Us(t){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(t)}function sp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ic(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sp(Object(r),!0).forEach(function(n){Vy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sp(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qy(n.key),n)}}function LE(t,e,r){return e&&TE(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vy(t,e,r){return(e=qy(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qy(t){var e=AE(t,"string");return Us(e)=="symbol"?e:e+""}function AE(t,e){if(Us(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var IE=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(r){return JSON.parse(r)},stringify:JSON.stringify,parsePayload:function(r,n,s){return Vy({},n,s||"")},parseLoadPayload:function(r,n){},request:RE,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},Wy=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};OE(this,t),this.services=e,this.options=r,this.allOptions=n,this.type="backend",this.init(e,r,n)}return LE(t,[{key:"init",value:function(r){var n=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=r,this.options=Ic(Ic(Ic({},IE()),this.options||{}),s),this.allOptions=i,this.services&&this.options.reloadInterval){var a=setInterval(function(){return n.reload()},this.options.reloadInterval);Us(a)==="object"&&typeof a.unref=="function"&&a.unref()}}},{key:"readMulti",value:function(r,n,s){this._readAny(r,r,n,n,s)}},{key:"read",value:function(r,n,s){this._readAny([r],r,[n],n,s)}},{key:"_readAny",value:function(r,n,s,i,a){var l=this,c=this.options.loadPath;typeof this.options.loadPath=="function"&&(c=this.options.loadPath(r,s)),c=SE(c),c.then(function(u){if(!u)return a(null,{});var d=l.services.interpolator.interpolate(u,{lng:r.join("+"),ns:s.join("+")});l.loadUrl(d,a,n,i)})}},{key:"loadUrl",value:function(r,n,s,i){var a=this,l=typeof s=="string"?[s]:s,c=typeof i=="string"?[i]:i,u=this.options.parseLoadPayload(l,c);this.options.request(this.options,r,u,function(d,h){if(h&&(h.status>=500&&h.status<600||!h.status))return n("failed loading "+r+"; status code: "+h.status,!0);if(h&&h.status>=400&&h.status<500)return n("failed loading "+r+"; status code: "+h.status,!1);if(!h&&d&&d.message){var m=d.message.toLowerCase(),f=["failed","fetch","network","load"].find(function(w){return m.indexOf(w)>-1});if(f)return n("failed loading "+r+": "+d.message,!0)}if(d)return n(d,!1);var p,y;try{typeof h.data=="string"?p=a.options.parse(h.data,s,i):p=h.data}catch{y="failed parsing "+r+" to json"}if(y)return n(y,!1);n(null,p)})}},{key:"create",value:function(r,n,s,i,a){var l=this;if(this.options.addPath){typeof r=="string"&&(r=[r]);var c=this.options.parsePayload(n,s,i),u=0,d=[],h=[];r.forEach(function(m){var f=l.options.addPath;typeof l.options.addPath=="function"&&(f=l.options.addPath(m,n));var p=l.services.interpolator.interpolate(f,{lng:m,ns:n});l.options.request(l.options,p,c,function(y,w){u+=1,d.push(y),h.push(w),u===r.length&&typeof a=="function"&&a(d,h)})})}}},{key:"reload",value:function(){var r=this,n=this.services,s=n.backendConnector,i=n.languageUtils,a=n.logger,l=s.language;if(!(l&&l.toLowerCase()==="cimode")){var c=[],u=function(h){var m=i.toResolveHierarchy(h);m.forEach(function(f){c.indexOf(f)<0&&c.push(f)})};u(l),this.allOptions.preload&&this.allOptions.preload.forEach(function(d){return u(d)}),c.forEach(function(d){r.allOptions.ns.forEach(function(h){s.read(d,h,"read",null,null,function(m,f){m&&a.warn("loading namespace ".concat(h," for language ").concat(d," failed"),m),!m&&f&&a.log("loaded namespace ".concat(h," for language ").concat(d),f),s.loaded("".concat(d,"|").concat(h),m,f)})})})}}}])}();Wy.type="backend";ht.use(Wy).use(By).use(Sk).init({fallbackLng:"es",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}});Dc.createRoot(document.getElementById("root")).render(o.jsx(En.StrictMode,{children:o.jsx(aE,{})}));export{DE as c,Xy as g};
